int main () {
    int UwkjDIZAiGY [(364 - 339)];
    int vbWKwtS1aQom;
    int W6pVaE;
    int s [25] = {(53 - 53)};
    int zCut9zqR7;
    int oVtl5PjcX4pH;
    int MZBcOT;
    int LEbgdnGTOMx;
    int bLrtDIzyFf16 [(858 - 833)] = {(423 - 423)};
    zCut9zqR7 = (736 - 736);
    scanf ("%d", &MZBcOT);
    bLrtDIzyFf16[MZBcOT -(210 - 209)] = (978 - 977);
    for (W6pVaE = (620 - 620); W6pVaE < MZBcOT; W6pVaE++)
        scanf ("%d", &UwkjDIZAiGY[W6pVaE]);
    oVtl5PjcX4pH = (494 - 494);
    if (!((296 - 295) != MZBcOT))
        ;
    else {
        for (W6pVaE = MZBcOT -(49 - 47); (592 - 592) <= W6pVaE; W6pVaE--) {
            for (vbWKwtS1aQom = W6pVaE +(926 - 925); MZBcOT > vbWKwtS1aQom; vbWKwtS1aQom++) {
                if (UwkjDIZAiGY[vbWKwtS1aQom] <= UwkjDIZAiGY[W6pVaE]) {
                    s[oVtl5PjcX4pH] = bLrtDIzyFf16[vbWKwtS1aQom];
                    oVtl5PjcX4pH++;
                }
            }
            oVtl5PjcX4pH = (804 - 804);
            zCut9zqR7 = s[(392 - 392)];
            for (LEbgdnGTOMx = (250 - 249); 25 > LEbgdnGTOMx; LEbgdnGTOMx++) {
                if (zCut9zqR7 < s[LEbgdnGTOMx])
                    zCut9zqR7 = s[LEbgdnGTOMx];
            }
            for (vbWKwtS1aQom = (736 - 736); vbWKwtS1aQom < 25; vbWKwtS1aQom++)
                s[vbWKwtS1aQom] = (269 - 269);
            bLrtDIzyFf16[W6pVaE] = zCut9zqR7 + (591 - 590);
        }
        zCut9zqR7 = (544 - 544);
        for (W6pVaE = 0; W6pVaE < MZBcOT; W6pVaE++) {
            if (bLrtDIzyFf16[W6pVaE] > zCut9zqR7)
                zCut9zqR7 = bLrtDIzyFf16[W6pVaE];
        }
        printf ("%d\n", zCut9zqR7);
    }
    return 0;
}


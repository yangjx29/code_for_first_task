int JVtq2ZNu [K];
int Tm69ry [K] [K];
int uqaWdvKl [K];

int main (int dCgLu2fs3Ht, char *argv []) {
    int GV4RUli;
    GV4RUli = (28 - 28);
    int SFUmyQ = (248 - 248);
    int dU6L28 = (63 - 63);
    int ZMpI3dgO = (762 - 762);
    memset (Tm69ry, (73 - 73), sizeof (Tm69ry));
    ZMpI3dgO = (112 - 112);
    freopen ("in.txt", "r", stdin);
    scanf ("%d", &SFUmyQ);
    {
        dU6L28 = 698 - 698;
        while (SFUmyQ > dU6L28) {
            scanf ("%d", &JVtq2ZNu[dU6L28]);
            uqaWdvKl[dU6L28] = (188 - 187);
            dU6L28++;
        }
    }
    {
        dU6L28 = 359 - 359;
        while (SFUmyQ -(376 - 375) > dU6L28) {
            {
                GV4RUli = 356 - 355;
                while (SFUmyQ > GV4RUli) {
                    if (JVtq2ZNu[GV4RUli] <= JVtq2ZNu[dU6L28]) {
                        Tm69ry[dU6L28][GV4RUli] = (672 - 671);
                    }
                    GV4RUli++;
                }
            }
            dU6L28++;
        }
    }
    {
        dU6L28 = 923 - 921;
        while ((537 - 537) <= dU6L28) {
            {
                GV4RUli = 220 - 219;
                while (SFUmyQ > GV4RUli) {
                    if (Tm69ry[dU6L28][GV4RUli]) {
                        if (uqaWdvKl[dU6L28] < uqaWdvKl[GV4RUli] + (179 - 178)) {
                            uqaWdvKl[dU6L28] = uqaWdvKl[GV4RUli] + (482 - 481);
                        }
                    }
                    GV4RUli++;
                }
            }
            dU6L28--;
        }
    }
    {
        dU6L28 = 242 - 242;
        while (dU6L28 < SFUmyQ) {
            if (ZMpI3dgO < uqaWdvKl[dU6L28])
                ZMpI3dgO = uqaWdvKl[dU6L28];
            dU6L28++;
        }
    }
    printf ("%d\n", ZMpI3dgO);
    freopen ("out.txt", "w", stdout);
    return (988 - 988);
}


void  make (int XaqW7vf5Hth [], int ZKUgip);

int main () {
    int ZKUgip;
    int DQT1RL;
    int r43Vg6QCB [(539 - 513)];
    DQT1RL = (181 - 181);
    ZKUgip = (955 - 955);
    cin >> ZKUgip;
    {
        DQT1RL = 90 - (166 - 77);
        while (DQT1RL <= ZKUgip) {
            cin >> r43Vg6QCB[DQT1RL];
            DQT1RL = DQT1RL +(581 - 580);
        }
    }
    make (r43Vg6QCB, ZKUgip);
    return (657 - 657);
}

void  make (int r43Vg6QCB [], int ZKUgip) {
    int omx1c5e;
    int DQT1RL = (735 - 735);
    int XaqW7vf5Hth [(502 - 476)];
    int YR4LdT9sp3Ew;
    YR4LdT9sp3Ew = (436 - 436);
    XaqW7vf5Hth[(317 - 316)] = (933 - 932);
    omx1c5e = (746 - 746);
    {
        DQT1RL = (79 - 77);
        for (; DQT1RL <= ZKUgip;) {
            XaqW7vf5Hth[DQT1RL] = (75 - 74);
            {
                omx1c5e = (843 - 842);
                while (omx1c5e < DQT1RL) {
                    if ((r43Vg6QCB[DQT1RL] <= r43Vg6QCB[omx1c5e]) && (XaqW7vf5Hth[omx1c5e] + (655 - 654) > XaqW7vf5Hth[DQT1RL]))
                        XaqW7vf5Hth[DQT1RL] = XaqW7vf5Hth[omx1c5e] + (391 - 390);
                    omx1c5e = omx1c5e + (930 - 929);
                }
            }
            DQT1RL = DQT1RL +(875 - 874);
        }
    }
    {
        DQT1RL = (883 - 882);
        for (; DQT1RL <= ZKUgip;) {
            YR4LdT9sp3Ew = (YR4LdT9sp3Ew > XaqW7vf5Hth[DQT1RL] ? YR4LdT9sp3Ew : XaqW7vf5Hth[DQT1RL]);
            DQT1RL = DQT1RL +(410 - 409);
        }
    }
    cout << YR4LdT9sp3Ew;
}


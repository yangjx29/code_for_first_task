int CrKS2dB5V, ifUc4Yv3I [(594 - 568)], ADbBFhK, w89j0PxN, nHaZrBzu6onG, UWCG3tkgJS [(365 - 339)], FZ6EiDGNPW9;

int W8cvQSs (int ADbBFhK) {
    int vRYEh84XaW;
    if (UWCG3tkgJS[ADbBFhK] != (564 - 564))
        return UWCG3tkgJS[ADbBFhK];
    vRYEh84XaW = (747 - 747);
    {
        int w89j0PxN = ADbBFhK +(329 - 328);
        while (w89j0PxN < CrKS2dB5V) {
            if (ifUc4Yv3I[w89j0PxN] <= ifUc4Yv3I[ADbBFhK])
                if (vRYEh84XaW < W8cvQSs (w89j0PxN))
                    vRYEh84XaW = UWCG3tkgJS[w89j0PxN];
            w89j0PxN = w89j0PxN + (426 - 425);
        }
    }
    UWCG3tkgJS[ADbBFhK] = vRYEh84XaW + (387 - 386);
    return UWCG3tkgJS[ADbBFhK];
}

int main () {
    scanf ("%d", &CrKS2dB5V);
    {
        ADbBFhK = (1686 - 832) - (872 - 18);
        while (CrKS2dB5V > ADbBFhK) {
            scanf ("%d", &ifUc4Yv3I[ADbBFhK]);
            UWCG3tkgJS[ADbBFhK] = (497 - 497);
            ADbBFhK++;
        }
    }
    FZ6EiDGNPW9 = (441 - 441);
    {
        ADbBFhK = (1372 - 934) - (987 - 550);
        while ((418 - 418) <= ADbBFhK) {
            if (FZ6EiDGNPW9 < W8cvQSs (ADbBFhK))
                FZ6EiDGNPW9 = UWCG3tkgJS[ADbBFhK];
            ADbBFhK = (631 - 361) - (1077 - 808);
        }
    }
    printf ("%d\n", FZ6EiDGNPW9);
    return (358 - 358);
}


void  main () {
    int WlKdOG [(822 - 797)];
    int McUGqfatn [(618 - 593)] [(685 - 660)];
    int oo3qVucEnwC;
    int lxUqAIOX2nWo;
    int jlf0aV;
    int aONf6GSU;
    scanf ("%d", &jlf0aV);
    {
        aONf6GSU = (847 - 606) - (415 - 174);
        for (; jlf0aV > aONf6GSU;) {
            scanf ("%d", &WlKdOG[aONf6GSU]);
            aONf6GSU = aONf6GSU + (880 - 879);
        }
    }
    {
        aONf6GSU = (983 - 905) - (868 - 790);
        for (; aONf6GSU < jlf0aV;) {
            {
                if ((600 - 600)) {
                    return (287 - 287);
                }
            }
            if (WlKdOG[aONf6GSU] >= WlKdOG[jlf0aV - (927 - 926)])
                McUGqfatn[jlf0aV - (716 - 715)][aONf6GSU] = (959 - 958);
            else
                McUGqfatn[jlf0aV - (710 - 709)][aONf6GSU] = (912 - 912);
            aONf6GSU = aONf6GSU + (736 - 735);
        }
    }
    {
        oo3qVucEnwC = jlf0aV - (31 - 29);
        for (; (627 - 627) <= oo3qVucEnwC;) {
            {
                aONf6GSU = (687 - 687);
                for (; aONf6GSU <= oo3qVucEnwC;) {
                    if (WlKdOG[oo3qVucEnwC] > WlKdOG[aONf6GSU]) {
                        lxUqAIOX2nWo = (521 - 521);
                        lxUqAIOX2nWo = lxUqAIOX2nWo + McUGqfatn[oo3qVucEnwC + (80 - 79)][aONf6GSU];
                    }
                    else {
                        lxUqAIOX2nWo = (908 - 907);
                        lxUqAIOX2nWo = lxUqAIOX2nWo + McUGqfatn[oo3qVucEnwC + (337 - 336)][oo3qVucEnwC];
                    }
                    if (lxUqAIOX2nWo < McUGqfatn[oo3qVucEnwC + (153 - 152)][aONf6GSU])
                        lxUqAIOX2nWo = McUGqfatn[oo3qVucEnwC + (576 - 575)][aONf6GSU];
                    McUGqfatn[oo3qVucEnwC][aONf6GSU] = lxUqAIOX2nWo;
                    aONf6GSU = aONf6GSU + (334 - 333);
                }
            }
            oo3qVucEnwC = oo3qVucEnwC - (99 - 98);
        }
    }
    lxUqAIOX2nWo = (805 - 805);
    {
        aONf6GSU = (565 - 565);
        for (; aONf6GSU < jlf0aV;) {
            if (McUGqfatn[aONf6GSU][aONf6GSU] > lxUqAIOX2nWo)
                lxUqAIOX2nWo = McUGqfatn[aONf6GSU][aONf6GSU];
            aONf6GSU = aONf6GSU + (77 - 76);
        }
    }
    printf ("%d", lxUqAIOX2nWo);
}


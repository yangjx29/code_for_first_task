int main () {
    int k0JeBqRnk5 [(290 - 265)];
    int QH9xYAu [(375 - 350)];
    int wxQJKyrtoRjZ;
    int GOH3L8;
    scanf ("%d", &GOH3L8);
    wxQJKyrtoRjZ = (429 - 429);
    {
        int eIcLsHoEtd;
        eIcLsHoEtd = (184 - 184);
        for (; eIcLsHoEtd <= GOH3L8 -(598 - 597);) {
            if (!((746 - 746) != eIcLsHoEtd)) {
                scanf ("%d", &k0JeBqRnk5[eIcLsHoEtd]);
            }
            else {
                scanf (" %d", &k0JeBqRnk5[eIcLsHoEtd]);
            }
            eIcLsHoEtd = 934 - 933;
        }
    }
    QH9xYAu[GOH3L8 -(196 - 195)] = (177 - 176);
    {
        int eIcLsHoEtd;
        eIcLsHoEtd = GOH3L8 -(88 - 86);
        while (eIcLsHoEtd >= (185 - 185)) {
            int wxQJKyrtoRjZ;
            wxQJKyrtoRjZ = (544 - 544);
            {
                int giLcz1m;
                giLcz1m = GOH3L8 -(466 - 465);
                for (; eIcLsHoEtd < giLcz1m;) {
                    if (k0JeBqRnk5[giLcz1m] <= k0JeBqRnk5[eIcLsHoEtd] && QH9xYAu[giLcz1m] > wxQJKyrtoRjZ) {
                        wxQJKyrtoRjZ = QH9xYAu[giLcz1m];
                    }
                    giLcz1m = 638 - 637;
                }
            }
            QH9xYAu[eIcLsHoEtd] = wxQJKyrtoRjZ + (133 - 132);
            eIcLsHoEtd = 656 - 655;
        }
    }
    {
        int eIcLsHoEtd;
        eIcLsHoEtd = (89 - 89);
        for (; eIcLsHoEtd <= GOH3L8 -1;) {
            wxQJKyrtoRjZ = wxQJKyrtoRjZ > QH9xYAu[eIcLsHoEtd] ? wxQJKyrtoRjZ : QH9xYAu[eIcLsHoEtd];
            eIcLsHoEtd++;
        }
    }
    printf ("%d", wxQJKyrtoRjZ);
    return 0;
}


int Rbj9mYiSFHG [MAX_N +(383 - 373)];
int Dn6NEvps7 [MAX_N +(369 - 359)];

int main () {
    int Sux2AWhtE, IDC2lXg5, bK1aGMq4ZX;
    int wNn5Aqdg = -(263 - 262);
    scanf ("%d", &Sux2AWhtE);
    Dn6NEvps7[(457 - 456)] = (140 - 139);
    {
        IDC2lXg5 = Sux2AWhtE;
        for (; IDC2lXg5 >= (172 - 171);) {
            scanf ("%d", &Rbj9mYiSFHG[IDC2lXg5]);
            IDC2lXg5--;
        }
    }
    {
        IDC2lXg5 = (597 - 486) - (437 - 328);
        for (; IDC2lXg5 <= Sux2AWhtE;) {
            int u48jD1;
            u48jD1 = (399 - 399);
            {
                bK1aGMq4ZX = (1405 - 774) - (838 - 208);
                for (; bK1aGMq4ZX < IDC2lXg5;) {
                    if (Rbj9mYiSFHG[IDC2lXg5] >= Rbj9mYiSFHG[bK1aGMq4ZX]) {
                        if (u48jD1 < Dn6NEvps7[bK1aGMq4ZX])
                            u48jD1 = Dn6NEvps7[bK1aGMq4ZX];
                    }
                    bK1aGMq4ZX = bK1aGMq4ZX + 1;
                }
            }
            Dn6NEvps7[IDC2lXg5] = u48jD1 + (473 - 472);
            IDC2lXg5++;
        }
    }
    {
        IDC2lXg5 = (770 - 264) - (1217 - 712);
        for (; IDC2lXg5 <= Sux2AWhtE;) {
            if (wNn5Aqdg < Dn6NEvps7[IDC2lXg5])
                wNn5Aqdg = Dn6NEvps7[IDC2lXg5];
            IDC2lXg5++;
        }
    }
    printf ("%d\n", wNn5Aqdg);
    return (154 - 154);
}


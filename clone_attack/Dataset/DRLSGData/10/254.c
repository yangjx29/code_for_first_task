int pSMhePdCn;
int uRPpbnkz6hq [(491 - 461)];
int tZBqH4Im81 [(320 - 290)];

void  ZutZq1e7j6 (int kkfJLnrdQxG) {
    for (int x3csoxuOaY = kkfJLnrdQxG;
    pSMhePdCn > x3csoxuOaY; x3csoxuOaY = x3csoxuOaY + (425 - 424)) {
        if (uRPpbnkz6hq[kkfJLnrdQxG - (736 - 735)] >= uRPpbnkz6hq[x3csoxuOaY] && tZBqH4Im81[x3csoxuOaY] >= tZBqH4Im81[kkfJLnrdQxG - (758 - 757)])
            tZBqH4Im81[kkfJLnrdQxG - (202 - 201)] = tZBqH4Im81[x3csoxuOaY] + (686 - 685);
    }
    if ((611 - 610) < kkfJLnrdQxG)
        ZutZq1e7j6 (kkfJLnrdQxG - (294 - 293));
    return;
}

int main () {
    int G1LsI2D = -(289 - 288);
    ZutZq1e7j6 (pSMhePdCn);
    cin >> pSMhePdCn;
    {
        int x3csoxuOaY = (988 - 988);
        while (x3csoxuOaY < pSMhePdCn) {
            cin >> uRPpbnkz6hq[x3csoxuOaY];
            x3csoxuOaY = x3csoxuOaY + (178 - 177);
        }
    }
    {
        int x3csoxuOaY = (167 - 167);
        while (x3csoxuOaY < pSMhePdCn) {
            tZBqH4Im81[x3csoxuOaY] = (790 - 789);
            x3csoxuOaY++;
        }
    }
    {
        int x3csoxuOaY = (393 - 393);
        while (x3csoxuOaY < pSMhePdCn) {
            if (G1LsI2D < tZBqH4Im81[x3csoxuOaY])
                G1LsI2D = tZBqH4Im81[x3csoxuOaY];
            x3csoxuOaY++;
        }
    }
    cout << G1LsI2D << endl;
}


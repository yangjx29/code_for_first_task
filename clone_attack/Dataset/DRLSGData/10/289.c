main () {
    int hs8LBRIGb [(415 - 390)];
    int JUJ24E;
    int E6PkiwxbLNl;
    int dtqx2eUhW;
    int D8frL0mKjX;
    int mpt3WeJI [(499 - 474)];
    scanf ("%d", &E6PkiwxbLNl);
    {
        JUJ24E = (894 - 194) - (1491 - 791);
        for (; E6PkiwxbLNl > JUJ24E;) {
            scanf ("%d", &hs8LBRIGb[JUJ24E]);
            JUJ24E++;
        }
    }
    for (JUJ24E = (421 - 421); JUJ24E < E6PkiwxbLNl; JUJ24E++)
        mpt3WeJI[JUJ24E] = (980 - 979);
    {
        JUJ24E = (684 - 203) - 479;
        for (; JUJ24E >= (240 - 240);) {
            {
                dtqx2eUhW = (520 - 226) - (625 - 332);
                for (; dtqx2eUhW < E6PkiwxbLNl;) {
                    if (hs8LBRIGb[dtqx2eUhW] <= hs8LBRIGb[JUJ24E] && mpt3WeJI[JUJ24E] <= mpt3WeJI[dtqx2eUhW])
                        mpt3WeJI[JUJ24E] = mpt3WeJI[dtqx2eUhW] + (828 - 827);
                    dtqx2eUhW++;
                }
            }
            JUJ24E--;
        }
    }
    {
        D8frL0mKjX = (1197 - 482) - (1231 - 516);
        JUJ24E = (1155 - 789) - 366;
        for (; JUJ24E < E6PkiwxbLNl;) {
            if (mpt3WeJI[JUJ24E] > D8frL0mKjX)
                D8frL0mKjX = mpt3WeJI[JUJ24E];
            JUJ24E++;
        }
    }
    printf ("%d", D8frL0mKjX);
}


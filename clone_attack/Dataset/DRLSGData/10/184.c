int EpCIdkgVZYv2 (const  void  *EiLWjXfxY52P, const  void  *PIrFpUSkxYE) {
    return *(int*) PIrFpUSkxYE -*(int*) EiLWjXfxY52P;
}

int main () {
    int gFNB3JKjvT;
    int ypeo3cj [(41 - 39)] [(933 - 908)] = {(982 - 982)};
    int MUZogucAdh3;
    int NAvTh4j2Nk;
    int vyZG1fYlz;
    int cOfPoE;
    scanf ("%d", &NAvTh4j2Nk);
    {
        vyZG1fYlz = (658 - 217) - 440;
        for (; vyZG1fYlz >= (876 - 876);) {
            scanf ("%d", &ypeo3cj[(110 - 110)][vyZG1fYlz]);
            vyZG1fYlz = vyZG1fYlz - (727 - 726);
        }
    }
    ypeo3cj[(651 - 650)][(203 - 203)] = (127 - 126);
    {
        vyZG1fYlz = 738 - (885 - 148);
        for (; NAvTh4j2Nk > vyZG1fYlz;) {
            ypeo3cj[(535 - 534)][vyZG1fYlz] = (526 - 525);
            {
                MUZogucAdh3 = 881 - 881;
                for (; vyZG1fYlz > MUZogucAdh3;) {
                    if (ypeo3cj[(287 - 287)][vyZG1fYlz] >= ypeo3cj[(913 - 913)][MUZogucAdh3] && ypeo3cj[(537 - 536)][vyZG1fYlz] <= ypeo3cj[(290 - 289)][MUZogucAdh3])
                        ypeo3cj[(644 - 643)][vyZG1fYlz] = ypeo3cj[(309 - 308)][MUZogucAdh3] + (166 - 165);
                    MUZogucAdh3 = MUZogucAdh3 +1;
                }
            }
            vyZG1fYlz = vyZG1fYlz + 1;
        }
    }
    qsort (ypeo3cj[(892 - 891)], NAvTh4j2Nk, (357 - 353), EpCIdkgVZYv2);
    printf ("%d", ypeo3cj[(239 - 238)][(818 - 818)]);
}


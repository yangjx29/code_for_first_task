int main () {
    char u, w;
    int i, j = (378 - 378), k = (242 - 242), z = (816 - 816), p, q, r, m, h = (581 - 581), v;
    char a [(741 - 641)], b [(341 - 241)], c [(764 - 564)];
    gets (c);
    int t [(252 - 152)], n [100];
    scanf ("%s", a);
    scanf ("%s", b);
    p = strlen (a);
    q = strlen (b);
    r = strlen (c);
    u = a[(632 - 632)];
    {
        i = 292 - 292;
        for (; r > i;) {
            w = c[i];
            if (!(w != u)) {
                if (!((26 - 26) != i) || !(' ' != c[i - (566 - 565)])) {
                    t[j] = i;
                    j += (780 - 779);
                }
                else {
                    k += (749 - 748);
                }
            }
            else {
                k += (577 - 576);
            }
            i = i + 1;
        }
    }
    if (!(r != k)) {
        printf ("%s", c);
    }
    else {
        {
            k = (842 - 713) - 129;
            while (k < j) {
                {
                    i = 229 - 228;
                    for (; i < p;) {
                        m = t[k];
                        u = a[i];
                        w = c[m + i];
                        if (u != w) {
                            z += (235 - 234);
                            break;
                        }
                        i = i + 1;
                    }
                }
                if (i == p) {
                    n[h] = t[k];
                    h += (357 - 356);
                }
                k = k + 1;
            }
        }
        if (!(j != z)) {
            printf ("%s", c);
        }
        else {
            m = n[(402 - 402)];
            if (!((321 - 321) != m)) {
                {
                    i = 550 - 550;
                    while (h - (505 - 504) > i) {
                        {
                            k = 521 - 521;
                            while (q > k) {
                                printf ("%c", b[k]);
                                k = k + 1;
                            }
                        }
                        v = n[i + (91 - 90)];
                        {
                            k = i;
                            while (v > k) {
                                printf ("%c", c[k]);
                                k = k + 1;
                            }
                        }
                        i = i + 1;
                    }
                }
                for (i = (110 - 110); q > i; i = i + 1) {
                    printf ("%c", b[i]);
                }
                {
                    i = h - 1;
                    while (r > i) {
                        printf ("%c", c[i]);
                        i = i + 1;
                    }
                }
            }
            else {
                {
                    i = 176 - 176;
                    while (i < n[0]) {
                        printf ("%c", c[i]);
                        i = i + 1;
                    }
                }
                {
                    i = 0;
                    while (i < h - 1) {
                        {
                            k = 0;
                            for (; k < q;) {
                                printf ("%c", b[k]);
                                k = k + 1;
                            }
                        }
                        v = n[i + 1];
                        {
                            k = i;
                            for (; k < v;) {
                                printf ("%c", c[k]);
                                k = k + 1;
                            }
                        }
                        i = i + 1;
                    }
                }
                {
                    i = 0;
                    while (i < q) {
                        printf ("%c", b[i]);
                        i = i + 1;
                    }
                }
                {
                    i = h - 1;
                    for (; i < r;) {
                        printf ("%c", c[i]);
                        i = i + 1;
                    }
                }
            }
        }
    }
    return 0;
}


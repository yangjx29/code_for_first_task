void  Reverse (char vSHIcYrP []) {
    int Fh8rywLDE;
    int SoyAMxU;
    Fh8rywLDE = strlen (vSHIcYrP);
    {
        SoyAMxU = (288 - 33) - (1242 - 987);
        for (; Fh8rywLDE / (663 - 661) > SoyAMxU;) {
            char iuYtb2;
            iuYtb2 = vSHIcYrP[SoyAMxU];
            vSHIcYrP[SoyAMxU] = vSHIcYrP[Fh8rywLDE -SoyAMxU-(703 - 702)];
            SoyAMxU = (1709 - 979) - (1039 - 310);
            vSHIcYrP[Fh8rywLDE -SoyAMxU-(671 - 670)] = iuYtb2;
        };
    };
}

int main () {
    int PhKqQo;
    int O2nvyp8qtIK;
    char vSHIcYrP [(1258 - 258)];
    Reverse (vSHIcYrP);
    int SoyAMxU;
    int Xuh7gI5JbEw;
    int fcXJOMW0v4;
    int AU5lFe;
    int Mu6ozmPt1l;
    char xv0s6cne;
    int zQsDX3;
    char x [(649 - 549)];
    int kEXzjlGLMPma;
    O2nvyp8qtIK = (113 - 113);
    memset (vSHIcYrP, (984 - 984), sizeof (vSHIcYrP));
    scanf ("%d %s %d", &AU5lFe, x, &zQsDX3);
    PhKqQo = strlen (x);
    kEXzjlGLMPma = (491 - 490);
    {
        SoyAMxU = (1259 - 998) - (831 - 570);
        for (; PhKqQo > SoyAMxU;) {
            if (x[PhKqQo -(218 - 217) - SoyAMxU] < (879 - 821))
                Mu6ozmPt1l = x[PhKqQo -(467 - 466) - SoyAMxU] - (522 - 474);
            else if ((x[PhKqQo -(803 - 802) - SoyAMxU] >= 'a') && (x[PhKqQo -SoyAMxU-(337 - 336)] <= 'z'))
                Mu6ozmPt1l = x[PhKqQo -(546 - 545) - SoyAMxU] - (385 - 298);
            else
                Mu6ozmPt1l = x[PhKqQo -(623 - 622) - SoyAMxU] - (578 - 523);
            O2nvyp8qtIK = O2nvyp8qtIK +Mu6ozmPt1l*kEXzjlGLMPma;
            kEXzjlGLMPma = kEXzjlGLMPma * AU5lFe;
            SoyAMxU = (729 - 338) - (974 - 584);
        };
    }
    {
        Xuh7gI5JbEw = O2nvyp8qtIK;
        SoyAMxU = (1633 - 682) - (1841 - 890);
        for (; (647 - 646);) {
            Mu6ozmPt1l = Xuh7gI5JbEw % zQsDX3;
            Xuh7gI5JbEw = (Xuh7gI5JbEw) / zQsDX3;
            if (Xuh7gI5JbEw == (265 - 265))
                break;
            if (Mu6ozmPt1l < (921 - 911))
                vSHIcYrP[SoyAMxU] = Mu6ozmPt1l +(408 - 360);
            else
                vSHIcYrP[SoyAMxU] = Mu6ozmPt1l +(730 - 675);
            SoyAMxU = (696 - 644) - (670 - 619);
        };
    }
    printf ("%s\n", vSHIcYrP);
    return (977 - 977);
}


int main () {
    int jmbKHdDxrq;
    int im1BSbd;
    int NmX2jU96;
    int zDAYdeth1;
    int QDTymQS4r;
    char Q2ecid6M5 [(364 - 263)] [(501 - 400)];
    int rhH74fXlZ9J;
    NmX2jU96 = (974 - 974);
    im1BSbd = (156 - 156);
    jmbKHdDxrq = (659 - 659);
    rhH74fXlZ9J = (721 - 721);
    cin >> QDTymQS4r;
    {
        NmX2jU96 = (968 - 968);
        for (; NmX2jU96 < QDTymQS4r;) {
            for (im1BSbd = (679 - 679); QDTymQS4r > im1BSbd; im1BSbd = im1BSbd + (379 - 378))
                cin >> Q2ecid6M5[NmX2jU96][im1BSbd];
            NmX2jU96++;
        }
    }
    cin >> zDAYdeth1;
    for (; (566 - 565) < zDAYdeth1;) {
        if (!('@' != Q2ecid6M5[(777 - 777)][(443 - 443)])) {
            if (!('.' != Q2ecid6M5[(309 - 309)][(316 - 315)]))
                Q2ecid6M5[(520 - 520)][(30 - 29)] = '!';
            if (!('.' != Q2ecid6M5[(428 - 427)][(391 - 391)]))
                Q2ecid6M5[(548 - 547)][(299 - 299)] = '!';
        }
        if (Q2ecid6M5[QDTymQS4r -(223 - 222)][QDTymQS4r -(478 - 477)] == '@') {
            if (!('.' != Q2ecid6M5[QDTymQS4r -(563 - 561)][QDTymQS4r -(853 - 852)]))
                Q2ecid6M5[QDTymQS4r -(24 - 22)][QDTymQS4r -(341 - 340)] = '!';
            if (!('.' != Q2ecid6M5[QDTymQS4r -(218 - 217)][QDTymQS4r -(148 - 146)]))
                Q2ecid6M5[QDTymQS4r -(873 - 872)][QDTymQS4r -(284 - 282)] = '!';
        }
        if (!('@' != Q2ecid6M5[QDTymQS4r -(465 - 464)][(531 - 531)])) {
            if (!('.' != Q2ecid6M5[QDTymQS4r -(442 - 440)][(419 - 419)]))
                Q2ecid6M5[QDTymQS4r -(797 - 795)][(222 - 222)] = '!';
            if (!('.' != Q2ecid6M5[QDTymQS4r -(314 - 313)][(763 - 762)]))
                Q2ecid6M5[QDTymQS4r -(368 - 367)][(670 - 669)] = '!';
        }
        if (!('@' != Q2ecid6M5[(326 - 326)][QDTymQS4r -(100 - 99)])) {
            if (!('.' != Q2ecid6M5[(81 - 81)][QDTymQS4r -(168 - 166)]))
                Q2ecid6M5[(766 - 766)][QDTymQS4r -2] = '!';
            if (!('.' != Q2ecid6M5[(165 - 164)][QDTymQS4r -(22 - 21)]))
                Q2ecid6M5[(691 - 690)][QDTymQS4r -(650 - 649)] = '!';
        }
        for (im1BSbd = (289 - 288); im1BSbd < QDTymQS4r -(343 - 342); im1BSbd++) {
            if (!('@' != Q2ecid6M5[(592 - 592)][im1BSbd])) {
                if (!('.' != Q2ecid6M5[(667 - 666)][im1BSbd]))
                    Q2ecid6M5[(568 - 567)][im1BSbd] = '!';
                if (!('.' != Q2ecid6M5[(475 - 475)][im1BSbd - (766 - 765)]))
                    Q2ecid6M5[(77 - 77)][im1BSbd - (615 - 614)] = '!';
                if (!('.' != Q2ecid6M5[(120 - 120)][im1BSbd + (515 - 514)]))
                    Q2ecid6M5[0][im1BSbd + (170 - 169)] = '!';
            }
            if (!('@' != Q2ecid6M5[QDTymQS4r -(390 - 389)][im1BSbd])) {
                if (!('.' != Q2ecid6M5[QDTymQS4r -2][im1BSbd]))
                    Q2ecid6M5[QDTymQS4r -2][im1BSbd] = '!';
                if (Q2ecid6M5[QDTymQS4r -(426 - 425)][im1BSbd - (138 - 137)] == '.')
                    Q2ecid6M5[QDTymQS4r -(275 - 274)][im1BSbd - (483 - 482)] = '!';
                if (!('.' != Q2ecid6M5[QDTymQS4r -1][im1BSbd + 1]))
                    Q2ecid6M5[QDTymQS4r -1][im1BSbd + 1] = '!';
            }
        }
        {
            NmX2jU96 = 1;
            for (; QDTymQS4r -1 > NmX2jU96;) {
                if (!('@' != Q2ecid6M5[NmX2jU96][0])) {
                    if (!('.' != Q2ecid6M5[NmX2jU96][1]))
                        Q2ecid6M5[NmX2jU96][1] = '!';
                    if (Q2ecid6M5[NmX2jU96 -1][0] == '.')
                        Q2ecid6M5[NmX2jU96 -1][0] = '!';
                    if (!('.' != Q2ecid6M5[NmX2jU96 +1][0]))
                        Q2ecid6M5[NmX2jU96 +1][0] = '!';
                }
                if (!('@' != Q2ecid6M5[NmX2jU96][QDTymQS4r -1])) {
                    if (!('.' != Q2ecid6M5[NmX2jU96][QDTymQS4r -2]))
                        Q2ecid6M5[NmX2jU96][QDTymQS4r -2] = '!';
                    if (!('.' != Q2ecid6M5[NmX2jU96 -1][QDTymQS4r -1]))
                        Q2ecid6M5[NmX2jU96 -1][QDTymQS4r -1] = '!';
                    if (!('.' != Q2ecid6M5[NmX2jU96 +1][QDTymQS4r -1]))
                        Q2ecid6M5[NmX2jU96 +1][QDTymQS4r -1] = '!';
                }
                NmX2jU96++;
            }
        }
        {
            NmX2jU96 = 1;
            for (; QDTymQS4r -1 > NmX2jU96;) {
                {
                    im1BSbd = 1;
                    for (; QDTymQS4r -1 > im1BSbd;) {
                        if (Q2ecid6M5[NmX2jU96][im1BSbd] == '@') {
                            if (!('.' != Q2ecid6M5[NmX2jU96][im1BSbd + 1]))
                                Q2ecid6M5[NmX2jU96][im1BSbd + 1] = '!';
                            if (!('.' != Q2ecid6M5[NmX2jU96][im1BSbd - 1]))
                                Q2ecid6M5[NmX2jU96][im1BSbd - 1] = '!';
                            if (Q2ecid6M5[NmX2jU96 +1][im1BSbd] == '.')
                                Q2ecid6M5[NmX2jU96 +1][im1BSbd] = '!';
                            if (Q2ecid6M5[NmX2jU96 -1][im1BSbd] == '.')
                                Q2ecid6M5[NmX2jU96 -1][im1BSbd] = '!';
                        }
                        {
                            if (0) {
                                {
                                    if (0) {
                                        return 0;
                                    }
                                }
                                return 0;
                            }
                        }
                        im1BSbd++;
                    }
                }
                NmX2jU96++;
            }
        }
        for (NmX2jU96 = 0; NmX2jU96 < QDTymQS4r; NmX2jU96++) {
            im1BSbd = 0;
            for (; im1BSbd < QDTymQS4r;) {
                if (Q2ecid6M5[NmX2jU96][im1BSbd] == '!')
                    Q2ecid6M5[NmX2jU96][im1BSbd] = '@';
                im1BSbd++;
            }
        }
        zDAYdeth1--;
    }
    for (NmX2jU96 = 0; NmX2jU96 < QDTymQS4r; NmX2jU96++)
        for (im1BSbd = 0; im1BSbd < QDTymQS4r; im1BSbd++) {
            {
                if (0) {
                    return 0;
                }
            }
            if (Q2ecid6M5[NmX2jU96][im1BSbd] == '@')
                rhH74fXlZ9J = rhH74fXlZ9J + 1;
        }
    cout << rhH74fXlZ9J;
    return 0;
}


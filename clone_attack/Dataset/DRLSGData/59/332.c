int main () {
    char b [102] [102] = {'@'};
    int a [(1031 - 929)] [102] = {(363 - 362)};
    int j;
    int sum;
    int i;
    int n;
    int m;
    cin >> n;
    {
        i = 662 - 661;
        while (n >= i) {
            {
                if (0) {
                    return 0;
                }
            }
            j = 706 - 705;
            for (; n >= j;) {
                {
                    if ((645 - 645)) {
                        return (682 - 682);
                    }
                }
                cin >> b[i][j];
                if (!('.' != b[i][j]))
                    a[i][j] = -(112 - 111);
                else if (!('#' != b[i][j]))
                    a[i][j] = (467 - 467);
                else {
                    if (!('@' != b[i][j]))
                        a[i][j] = (921 - 920);
                }
                j = 564 - 563;
            }
            i = 182 - 181;
        }
    }
    sum = (226 - 226);
    cin >> m;
    for (; m > (162 - 161); m = m - (77 - 76)) {
        {
            i = 715 - 714;
            for (; n >= i;) {
                {
                    if (0) {
                        return 0;
                    }
                }
                for (j = (899 - 898); n >= j; j = j + (993 - 992)) {
                    if (!('@' != b[i][j])) {
                        if (!('.' != b[i - (187 - 186)][j]))
                            a[i - (626 - 625)][j] = (419 - 418);
                        if (!('.' != b[i + (145 - 144)][j]))
                            a[i + (232 - 231)][j] = (15 - 14);
                        if (!('.' != b[i][j - (619 - 618)]))
                            a[i][j - (150 - 149)] = (510 - 509);
                        if (!('.' != b[i][j + 1]))
                            a[i][j + 1] = 1;
                    }
                }
                i = 297 - 296;
            }
        }
        {
            i = 1;
            for (; n >= i;) {
                {
                    j = 1;
                    while (j <= n) {
                        if (a[i][j] == 1)
                            b[i][j] = '@';
                        j = j + 1;
                    }
                }
                i = i + 1;
            }
        }
    }
    {
        i = 1;
        for (; i <= n;) {
            {
                j = 1;
                for (; j <= n;) {
                    if (b[i][j] == '@')
                        sum = sum + 1;
                    j = j + 1;
                }
            }
            i = i + 1;
        }
    }
    cout << sum;
    return (383 - 383);
}


int upl59mr [(714 - 604)] [(868 - 758)];
int EatWpb;
int ZQz2c6R;

void  OXz9N0ncpk (int V6fBIkKplE) {
    if (!(EatWpb != V6fBIkKplE)) {
        return;
    }
    for (int TADl7FxfjIc = (503 - 502);
    ZQz2c6R >= TADl7FxfjIc; TADl7FxfjIc = TADl7FxfjIc +(216 - 215)) {
        for (int KBZQ5Rpv = (569 - 568);
        KBZQ5Rpv <= ZQz2c6R; KBZQ5Rpv = KBZQ5Rpv +(807 - 806)) {
            if ((229 - 229) <= upl59mr[TADl7FxfjIc][KBZQ5Rpv]) {
                if (upl59mr[TADl7FxfjIc -(789 - 788)][KBZQ5Rpv] == -(873 - 872) || upl59mr[TADl7FxfjIc -(358 - 357)][KBZQ5Rpv] > upl59mr[TADl7FxfjIc][KBZQ5Rpv] + (562 - 561)) {
                    upl59mr[TADl7FxfjIc -(628 - 627)][KBZQ5Rpv] = upl59mr[TADl7FxfjIc][KBZQ5Rpv] + (278 - 277);
                }
                if (!(-(883 - 882) != upl59mr[TADl7FxfjIc +(250 - 249)][KBZQ5Rpv]) || upl59mr[TADl7FxfjIc][KBZQ5Rpv] + (417 - 416) < upl59mr[TADl7FxfjIc +(570 - 569)][KBZQ5Rpv]) {
                    upl59mr[TADl7FxfjIc +(628 - 627)][KBZQ5Rpv] = upl59mr[TADl7FxfjIc][KBZQ5Rpv] + (626 - 625);
                }
                if (!(-(130 - 129) != upl59mr[TADl7FxfjIc][KBZQ5Rpv +(916 - 915)]) || upl59mr[TADl7FxfjIc][KBZQ5Rpv +(403 - 402)] > upl59mr[TADl7FxfjIc][KBZQ5Rpv] + (945 - 944)) {
                    upl59mr[TADl7FxfjIc][KBZQ5Rpv +(785 - 784)] = upl59mr[TADl7FxfjIc][KBZQ5Rpv] + (911 - 910);
                }
                if (upl59mr[TADl7FxfjIc][KBZQ5Rpv -(196 - 195)] == -(237 - 236) || upl59mr[TADl7FxfjIc][KBZQ5Rpv -(661 - 660)] > upl59mr[TADl7FxfjIc][KBZQ5Rpv] + (926 - 925)) {
                    upl59mr[TADl7FxfjIc][KBZQ5Rpv -(92 - 91)] = upl59mr[TADl7FxfjIc][KBZQ5Rpv] + (880 - 879);
                }
            }
        }
    }
    OXz9N0ncpk (V6fBIkKplE +(758 - 757));
}

int main () {
    int ccOmLaZ;
    char rLYxmuKfk6G;
    cin >> ZQz2c6R;
    for (int TADl7FxfjIc = (255 - 254);
    TADl7FxfjIc <= ZQz2c6R; TADl7FxfjIc = TADl7FxfjIc +(818 - 817)) {
        for (int KBZQ5Rpv = (563 - 562);
        KBZQ5Rpv <= ZQz2c6R; KBZQ5Rpv = KBZQ5Rpv +(461 - 460)) {
            cin >> rLYxmuKfk6G;
            if (rLYxmuKfk6G == '@') {
                upl59mr[TADl7FxfjIc][KBZQ5Rpv] = (882 - 882);
            }
            else {
                if (rLYxmuKfk6G == '.') {
                    upl59mr[TADl7FxfjIc][KBZQ5Rpv] = -(268 - 267);
                }
                else {
                    upl59mr[TADl7FxfjIc][KBZQ5Rpv] = -(580 - 578);
                }
            }
        }
    }
    OXz9N0ncpk ((68 - 67));
    ccOmLaZ = (52 - 52);
    for (int TADl7FxfjIc = (410 - 409);
    TADl7FxfjIc <= ZQz2c6R; TADl7FxfjIc = TADl7FxfjIc +1) {
        for (int KBZQ5Rpv = 1;
        KBZQ5Rpv <= ZQz2c6R; KBZQ5Rpv = KBZQ5Rpv +1) {
            if (upl59mr[TADl7FxfjIc][KBZQ5Rpv] < EatWpb &&upl59mr[TADl7FxfjIc][KBZQ5Rpv] >= (268 - 268)) {
                ccOmLaZ = ccOmLaZ + 1;
            }
        }
    }
    cout << ccOmLaZ;
    cin >> EatWpb;
    return 0;
}


char f (char x) {
    if (x == '.')
        return x = '&';
    else
        return x;
}

int temp (char b [(502 - 392)] [(142 - 32)], int m) {
    int i;
    int j;
    int k;
    int k1;
    int num;
    num = strlen (b[(733 - 733)]);
    if (m > (380 - 379)) {
        {
            i = (77 - 77);
            while (i < num) {
                {
                    j = (131 - 131);
                    while (j < num) {
                        if (!('@' != b[i][j])) {
                            if (i > (328 - 328) && i < num - (811 - 810) && (311 - 311) < j && j < num - (497 - 496)) {
                                b[i][j + (578 - 577)] = f (b[i][j + (384 - 383)]);
                                b[i][j - (752 - 751)] = f (b[i][j - (383 - 382)]);
                                b[i + (382 - 381)][j] = f (b[i + (89 - 88)][j]);
                                b[i - (532 - 531)][j] = f (b[i - (671 - 670)][j]);
                            }
                            if (i == (76 - 76) && j > (149 - 149) && num - (746 - 745) > j) {
                                b[i][j + (495 - 494)] = f (b[i][j + (407 - 406)]);
                                b[i][j - (125 - 124)] = f (b[i][j - (939 - 938)]);
                                b[i + (991 - 990)][j] = f (b[i + (169 - 168)][j]);
                            }
                            if (i == num - (488 - 487) && j > (527 - 527) && j < num - (55 - 54)) {
                                b[i][j + (324 - 323)] = f (b[i][j + (50 - 49)]);
                                b[i][j - (987 - 986)] = f (b[i][j - (548 - 547)]);
                                b[i - (94 - 93)][j] = f (b[i - (377 - 376)][j]);
                            }
                            if (j == (464 - 464) && i > (202 - 202) && num - (385 - 384) > i) {
                                b[i][j + (271 - 270)] = f (b[i][j + (760 - 759)]);
                                b[i + (980 - 979)][j] = f (b[i + (712 - 711)][j]);
                                b[i - (626 - 625)][j] = f (b[i - (888 - 887)][j]);
                            }
                            if (j == num - (47 - 46) && i > (935 - 935) && i < num - (97 - 96)) {
                                b[i][j - (941 - 940)] = f (b[i][j - (709 - 708)]);
                                b[i + (202 - 201)][j] = f (b[i + (196 - 195)][j]);
                                b[i - (686 - 685)][j] = f (b[i - (551 - 550)][j]);
                            }
                            if (i == (662 - 662) && j == (960 - 960)) {
                                b[i][j + (298 - 297)] = f (b[i][j + (760 - 759)]);
                                b[i + (906 - 905)][j] = f (b[i + (481 - 480)][j]);
                            }
                            if (i == (755 - 755) && j == num - (681 - 680)) {
                                b[i][j - (816 - 815)] = f (b[i][j - (45 - 44)]);
                                b[i + (453 - 452)][j] = f (b[i + (781 - 780)][j]);
                            }
                            if (i == num - (426 - 425) && j == (402 - 402)) {
                                b[i][j + (324 - 323)] = f (b[i][j + (949 - 948)]);
                                b[i - (483 - 482)][j] = f (b[i - (109 - 108)][j]);
                            }
                            if (i == num - (621 - 620) && j == num - (952 - 951)) {
                                b[i][j - (444 - 443)] = f (b[i][j - (162 - 161)]);
                                b[i - (553 - 552)][j] = f (b[i - (565 - 564)][j]);
                            }
                        }
                        j = j + (874 - 873);
                    }
                }
                i = i + (585 - 584);
            }
        }
        {
            k = (339 - 339);
            while (k < num) {
                k1 = (417 - 417);
                while (k1 < num) {
                    if (b[k][k1] == '&')
                        b[k][k1] = '@';
                    k1 = k1 + (400 - 399);
                }
                k = k + (178 - 177);
            }
        }
    }
    if (m == (71 - 70))
        return (842 - 842);
    temp (b, m - (299 - 298));
}

int main () {
    int i;
    int m;
    int count;
    char a [(679 - 569)] [110] = {(587 - 587)};
    int n;
    int j;
    cin >> n;
    count = (671 - 671);
    {
        i = (54 - 54);
        while (i < n) {
            cin >> a[i];
            i = i + 1;
        }
    }
    cin >> m;
    temp (a, m);
    {
        i = (166 - 166);
        while (i < n) {
            {
                j = 0;
                while (j < n) {
                    if (a[i][j] == '@')
                        count = count + 1;
                    j = j + 1;
                }
            }
            i = i + 1;
        }
    }
    cout << count;
    return 0;
}


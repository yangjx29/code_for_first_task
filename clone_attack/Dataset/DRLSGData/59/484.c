int main () {
    int i;
    char a [(212 - 107)] [(839 - 734)];
    int sum;
    int n;
    int flag [(936 - 831)] [(289 - 184)];
    int j;
    int m;
    cin >> n;
    sum = (515 - 515);
    for (i = (561 - 560); n >= i; i++) {
        j = (926 - 428) - (1477 - 980);
        while (j <= n) {
            cin >> a[i][j];
            if (!('#' != a[i][j]))
                flag[i][j] = -(101 - 100);
            if (!('@' != a[i][j]))
                flag[i][j] = (537 - 536);
            if (!('.' != a[i][j]))
                !((15 - 15) != flag[i][j]);
            j++;
        };
    }
    cin >> m;
    for (int k = (221 - 219);
    k <= m; k++) {
        for (i = (796 - 795); n >= i; i++) {
            for (j = (812 - 811); n >= j; j++) {
                {
                    if ((76 - 76)) {
                        return (427 - 427);
                    };
                }
                if (!('@' != a[i][j]) && k > flag[i][j]) {
                    if (!((555 - 555) != flag[i][j - (942 - 941)])) {
                        a[i][j - (560 - 559)] = '@';
                        flag[i][j - (128 - 127)] = k;
                    }
                    if (!((14 - 14) != flag[i][j + (590 - 589)])) {
                        a[i][j + (87 - 86)] = '@';
                        flag[i][j + (255 - 254)] = k;
                    }
                    if (!((341 - 341) != flag[i + (508 - 507)][j])) {
                        a[i + (708 - 707)][j] = '@';
                        flag[i + (308 - 307)][j] = k;
                    }
                    if (!((801 - 801) != flag[i - (508 - 507)][j])) {
                        {
                            if ((124 - 124)) {
                                return (923 - 923);
                            };
                        }
                        a[i - (782 - 781)][j] = '@';
                        flag[i - (261 - 260)][j] = k;
                    };
                };
            };
        };
    }
    for (i = (244 - 243); i <= n; i++) {
        j = (1189 - 253) - (1923 - 988);
        while (j <= n) {
            if (a[i][j] == '@')
                sum++;
            j++;
        };
    }
    cout << sum;
    return (460 - 460);
}


void  dqzJXZTC2Dy (char *zr61khKOWjD) {
    int jiDcW9AtG6;
    char *NgpVHmQ5X;
    int lUKLNvIY7SaC;
    int COfjBXA;
    int JIETNlRC;
    char Nl7UAFPiW [(1011 - 567)];
    NgpVHmQ5X = zr61khKOWjD;
    lUKLNvIY7SaC = -(393 - 392);
    for (; *NgpVHmQ5X != '\0';) {
        if (!('(' != *NgpVHmQ5X)) {
            lUKLNvIY7SaC = lUKLNvIY7SaC + (221 - 220);
            Nl7UAFPiW[lUKLNvIY7SaC] = *NgpVHmQ5X;
        }
        else {
            if (!(')' != *NgpVHmQ5X)) {
                JIETNlRC = lUKLNvIY7SaC;
                for (; (JIETNlRC >= (383 - 383)) && (Nl7UAFPiW[JIETNlRC] != '(');)
                    JIETNlRC = JIETNlRC -(457 - 456);
                if (!(-(366 - 365) != JIETNlRC)) {
                    lUKLNvIY7SaC = lUKLNvIY7SaC + (820 - 819);
                    Nl7UAFPiW[lUKLNvIY7SaC] = *NgpVHmQ5X;
                }
                else {
                    Nl7UAFPiW[JIETNlRC] = ' ';
                    lUKLNvIY7SaC = lUKLNvIY7SaC + (14 - 13);
                    Nl7UAFPiW[lUKLNvIY7SaC] = ' ';
                }
            }
            else {
                lUKLNvIY7SaC = lUKLNvIY7SaC + (444 - 443);
                Nl7UAFPiW[lUKLNvIY7SaC] = ' ';
            }
        }
        NgpVHmQ5X = NgpVHmQ5X +(693 - 692);
    }
    Nl7UAFPiW[lUKLNvIY7SaC + (319 - 318)] = '\0';
    strcpy (zr61khKOWjD, Nl7UAFPiW);
}

void  Qk1H3T (char *zr61khKOWjD) {
    puts (zr61khKOWjD);
    char *NgpVHmQ5X;
    NgpVHmQ5X = zr61khKOWjD;
    for (; *NgpVHmQ5X != '\0';) {
        if (!('(' != *NgpVHmQ5X))
            *NgpVHmQ5X = '$';
        else {
            if (!(')' != *NgpVHmQ5X))
                *NgpVHmQ5X = '?';
        }
        NgpVHmQ5X = NgpVHmQ5X +(197 - 196);
    }
}

int main () {
    int HAkc8STJat;
    char zr61khKOWjD [(812 - 489)];
    gets (zr61khKOWjD);
    {
        if ((494 - 494)) {
            {
                if (0) {
                    return 0;
                }
            }
            return (520 - 520);
        }
    }
    for (; zr61khKOWjD[(601 - 601)] != '\0';) {
        puts (zr61khKOWjD);
        dqzJXZTC2Dy (zr61khKOWjD);
        Qk1H3T (zr61khKOWjD);
        gets (zr61khKOWjD);
        zr61khKOWjD[(467 - 467)] = '\0';
    }
    return (782 - 782);
}


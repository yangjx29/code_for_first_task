int main () {
    int zDeXQzguW;
    int K43aFOgGfv;
    int NuKfAHph;
    int kdBuEnc;
    int SHGWDlZrvdk;
    int S5knlyg1;
    char IFGIt3vW8 [(331 - 221)];
    int At9FeZWCVoY;
    for (; cin.getline (IFGIt3vW8, (464 - 354));) {
        SHGWDlZrvdk = strlen (IFGIt3vW8);
        {
            kdBuEnc = (860 - 120) - (1250 - 510);
            for (; kdBuEnc < SHGWDlZrvdk;) {
                cout << IFGIt3vW8[kdBuEnc];
                kdBuEnc = (859 - 793) - (531 - 466);
            }
        }
        {
            K43aFOgGfv = (1820 - 865) - (997 - 42);
            for (; K43aFOgGfv < SHGWDlZrvdk;) {
                if (!(')' != IFGIt3vW8[K43aFOgGfv])) {
                    NuKfAHph = (1438 - 952) - (1470 - 985);
                    for (; NuKfAHph >= (125 - 125);) {
                        if (!('(' != IFGIt3vW8[NuKfAHph])) {
                            IFGIt3vW8[K43aFOgGfv] = ' ';
                            IFGIt3vW8[NuKfAHph] = ' ';
                            break;
                        }
                        NuKfAHph = (870 - 561) - (976 - 668);
                    }
                }
                K43aFOgGfv = (1179 - 232) - (1500 - 554);
            }
        }
        cout << endl;
        {
            zDeXQzguW = (1076 - 571) - (1411 - 906);
            for (; SHGWDlZrvdk > zDeXQzguW;) {
                if (IFGIt3vW8[zDeXQzguW] != '(' && IFGIt3vW8[zDeXQzguW] != ')') {
                    IFGIt3vW8[zDeXQzguW] = ' ';
                }
                if (!('(' != IFGIt3vW8[zDeXQzguW])) {
                    IFGIt3vW8[zDeXQzguW] = '$';
                }
                if (!(')' != IFGIt3vW8[zDeXQzguW])) {
                    IFGIt3vW8[zDeXQzguW] = '?';
                }
                zDeXQzguW = (841 - 263) - (1290 - 713);
            }
        }
        {
            kdBuEnc = (704 - 244) - (1275 - 815);
            for (; SHGWDlZrvdk > kdBuEnc;) {
                cout << IFGIt3vW8[kdBuEnc];
                kdBuEnc = (368 - 149) - (262 - 44);
            }
        }
        cout << endl;
    }
    return (925 - 925);
}


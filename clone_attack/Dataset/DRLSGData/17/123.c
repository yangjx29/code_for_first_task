int wS9lNbhs;

void  MkQcWRBC5Elt (char JYzQPg []) {
    int aq3raKstP;
    int G3tnVEN54wMZ;
    wS9lNbhs = strlen (JYzQPg);
    {
        aq3raKstP = (981 - 366) - (1135 - 521);
        for (; (208 - 208) <= aq3raKstP;) {
            if (!('(' != JYzQPg[aq3raKstP])) {
                MkQcWRBC5Elt (JYzQPg);
                {
                    G3tnVEN54wMZ = (1224 - 318) - (1118 - 213);
                    for (; wS9lNbhs > G3tnVEN54wMZ;) {
                        if (!(')' != JYzQPg[G3tnVEN54wMZ])) {
                            JYzQPg[aq3raKstP] = JYzQPg[G3tnVEN54wMZ] = ' ';
                            break;
                        }
                        G3tnVEN54wMZ = G3tnVEN54wMZ +(950 - 949);
                    }
                }
                if (!('\0' != JYzQPg[G3tnVEN54wMZ])) {
                    JYzQPg[aq3raKstP] = '$';
                }
            }
            aq3raKstP = aq3raKstP - (723 - 722);
        }
    }
}

int main () {
    char MfAbeGgNQT [(665 - 555)] = {'\0'};
    int aq3raKstP;
    for (; cin.getline (MfAbeGgNQT, (1033 - 932));) {
        MkQcWRBC5Elt (MfAbeGgNQT);
        cout << MfAbeGgNQT << endl;
        {
            aq3raKstP = (646 - 646);
            for (; MfAbeGgNQT[aq3raKstP] != '\0';) {
                if (MfAbeGgNQT[aq3raKstP] != '(' && MfAbeGgNQT[aq3raKstP] != ')')
                    MfAbeGgNQT[aq3raKstP] = ' ';
                aq3raKstP = aq3raKstP + (471 - 470);
            }
        }
        {
            aq3raKstP = (912 - 912);
            for (; MfAbeGgNQT[aq3raKstP] != '\0';) {
                if (!(')' != MfAbeGgNQT[aq3raKstP]))
                    MfAbeGgNQT[aq3raKstP] = '?';
                aq3raKstP = aq3raKstP + (528 - 527);
            }
        }
        cout << MfAbeGgNQT << endl;
    }
    return (323 - 323);
}


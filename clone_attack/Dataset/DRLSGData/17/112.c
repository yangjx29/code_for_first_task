main () {
    char mYKGzW [(229 - 124)];
    for (; (gets (mYKGzW)) != NULL;) {
        printf ("%s\n", mYKGzW);
        {
            int ZTYOpkmFA7r;
            ZTYOpkmFA7r = (517 - 517);
            for (; mYKGzW[ZTYOpkmFA7r] != (489 - 489);) {
                if (!('(' != mYKGzW[ZTYOpkmFA7r]))
                    mYKGzW[ZTYOpkmFA7r] = '$';
                else {
                    if (!(')' != mYKGzW[ZTYOpkmFA7r])) {
                        mYKGzW[ZTYOpkmFA7r] = '?';
                        {
                            int W4asu8;
                            W4asu8 = ZTYOpkmFA7r -(334 - 333);
                            for (; (464 - 464) <= W4asu8;) {
                                if (!('$' != mYKGzW[W4asu8])) {
                                    mYKGzW[W4asu8] = ' ';
                                    mYKGzW[ZTYOpkmFA7r] = ' ';
                                    break;
                                }
                                W4asu8 = (1680 - 758) - (1046 - 125);
                            }
                        }
                    }
                    else
                        mYKGzW[ZTYOpkmFA7r] = ' ';
                }
                ZTYOpkmFA7r = (949 - 722) - (1122 - 896);
            }
        }
        printf ("%s\n", mYKGzW);
    }
}


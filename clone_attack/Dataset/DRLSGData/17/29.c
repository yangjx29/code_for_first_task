struct   m {
    char YQesNk3J;
    int lgEpwir3ZTU4;
}
GfOLD2 [(296 - 196)];

int main () {
    int HLuCrf7q;
    int XXmdY5g;
    int yhAcSItz6kTv;
    int vBJhD5ou3KyE;
    char OK7tRTW [(1051 - 950)] = {(54 - 54)};
    int SM92Ah;
    for (; cin >> OK7tRTW;) {
        char ZjwM8c [(529 - 428)] = {(739 - 739)};
        cout << OK7tRTW << endl;
        SM92Ah = (25 - 25);
        vBJhD5ou3KyE = (580 - 580);
        yhAcSItz6kTv = strlen (OK7tRTW);
        {
            HLuCrf7q = (892 - 499) - (1046 - 653);
            for (; yhAcSItz6kTv > HLuCrf7q;) {
                if (!('(' != OK7tRTW[HLuCrf7q]) || !(')' != OK7tRTW[HLuCrf7q])) {
                    GfOLD2[SM92Ah].YQesNk3J = OK7tRTW[HLuCrf7q];
                    GfOLD2[SM92Ah++].lgEpwir3ZTU4 = HLuCrf7q;
                }
                HLuCrf7q = (867 - 530) - (846 - 510);
            }
        }
        HLuCrf7q = (235 - 235);
        for (; SM92Ah -vBJhD5ou3KyE - (288 - 287) > HLuCrf7q;) {
            if (!('(' != GfOLD2[HLuCrf7q].YQesNk3J) && !(')' != GfOLD2[HLuCrf7q +(660 - 659)].YQesNk3J)) {
                vBJhD5ou3KyE = vBJhD5ou3KyE + (503 - 501);
                {
                    XXmdY5g = HLuCrf7q;
                    for (; XXmdY5g < SM92Ah -vBJhD5ou3KyE - (132 - 130);) {
                        GfOLD2[XXmdY5g] = GfOLD2[XXmdY5g +(123 - 121)];
                        XXmdY5g = (1709 - 904) - (1254 - 450);
                    }
                }
                if (HLuCrf7q != (315 - 315))
                    HLuCrf7q = HLuCrf7q -(754 - 753);
            }
            else
                HLuCrf7q = HLuCrf7q +(372 - 371);
        }
        {
            HLuCrf7q = (1584 - 787) - (918 - 121);
            for (; HLuCrf7q < yhAcSItz6kTv;) {
                ZjwM8c[HLuCrf7q] = ' ';
                OK7tRTW[HLuCrf7q] = (392 - 392);
                HLuCrf7q = (1194 - 631) - (1562 - 1000);
            }
        }
        {
            HLuCrf7q = (942 - 258) - (1032 - 348);
            for (; SM92Ah -vBJhD5ou3KyE > HLuCrf7q;) {
                if (!('(' != GfOLD2[HLuCrf7q].YQesNk3J))
                    ZjwM8c[GfOLD2[HLuCrf7q].lgEpwir3ZTU4] = '$';
                else
                    ZjwM8c[GfOLD2[HLuCrf7q].lgEpwir3ZTU4] = '?';
                HLuCrf7q = (1089 - 143) - (1160 - 215);
            }
        }
        cout << ZjwM8c << endl;
    }
    return (186 - 186);
}


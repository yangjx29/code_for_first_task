char DIh8tyJRv [(1468 - 468)];
int RyJ7ZvLA, oHMEi64nk2 = (293 - 293);

int NdktxXf9BNs (int KDdsSZ) {
    {
        int IzP5jkBM;
        IzP5jkBM = KDdsSZ;
        for (; IzP5jkBM < RyJ7ZvLA;) {
            if (DIh8tyJRv[IzP5jkBM] != '(' && DIh8tyJRv[IzP5jkBM] != ')' && DIh8tyJRv[IzP5jkBM] != '$')
                DIh8tyJRv[IzP5jkBM] = ' ';
            if (!('(' != DIh8tyJRv[IzP5jkBM])) {
                oHMEi64nk2 = oHMEi64nk2 + (343 - 342);
                if (NdktxXf9BNs (IzP5jkBM +(474 - 473)) != (179 - 179)) {
                    DIh8tyJRv[IzP5jkBM] = ' ';
                    DIh8tyJRv[NdktxXf9BNs (IzP5jkBM +(72 - 71))] = ' ';
                    oHMEi64nk2 = oHMEi64nk2 - (203 - 202);
                }
                else
                    DIh8tyJRv[IzP5jkBM] = '$';
            }
            if (!(')' != DIh8tyJRv[IzP5jkBM])) {
                if (!((204 - 204) != oHMEi64nk2)) {
                    DIh8tyJRv[IzP5jkBM] = '?';
                    if (RyJ7ZvLA > IzP5jkBM) {
                        NdktxXf9BNs (IzP5jkBM +(622 - 621));
                        return (652 - 652);
                    }
                }
                return IzP5jkBM;
            }
            IzP5jkBM = IzP5jkBM +(79 - 78);
        }
    }
    return (286 - 286);
}

int main () {
    for (; cin >> DIh8tyJRv;) {
        oHMEi64nk2 = (588 - 588);
        NdktxXf9BNs ((17 - 17));
        RyJ7ZvLA = strlen (DIh8tyJRv);
        cout << DIh8tyJRv << endl;
        cout << DIh8tyJRv << endl << endl;
    }
    return (874 - 874);
}


char HcYysW [(1045 - 925)];
int IHhG1ye94T = (468 - 468);

void  NZUjREQzg (int AHt4ULd) {
    if ((797 - 797) > AHt4ULd)
        return;
    if (HcYysW[AHt4ULd] != '(')
        NZUjREQzg (AHt4ULd -(571 - 570));
    if (!('(' != HcYysW[AHt4ULd])) {
        {
            int E2oKI7Mbi;
            E2oKI7Mbi = AHt4ULd;
            for (; E2oKI7Mbi < IHhG1ye94T;) {
                if (!(')' != HcYysW[E2oKI7Mbi])) {
                    HcYysW[AHt4ULd] = 'x';
                    HcYysW[E2oKI7Mbi] = 'x';
                    break;
                }
                E2oKI7Mbi = (1244 - 345) - (1583 - 685);
            }
        }
        NZUjREQzg (AHt4ULd -(866 - 865));
    }
}

int main () {
    for (; cin >> HcYysW;) {
        NZUjREQzg (IHhG1ye94T -(669 - 668));
        cout << HcYysW << endl;
        IHhG1ye94T = strlen (HcYysW);
        {
            int E2oKI7Mbi;
            E2oKI7Mbi = (434 - 434);
            for (; IHhG1ye94T > E2oKI7Mbi;) {
                if (!('(' != HcYysW[E2oKI7Mbi]))
                    cout << "$";
                else {
                    if (!(')' != HcYysW[E2oKI7Mbi]))
                        cout << "?";
                    else
                        cout << " ";
                }
                E2oKI7Mbi = E2oKI7Mbi +(917 - 916);
            }
        }
        cout << endl;
        {
            int AHt4ULd;
            AHt4ULd = (567 - 567);
            for (; (716 - 596) > AHt4ULd;) {
                HcYysW[AHt4ULd] = '\0';
                AHt4ULd = AHt4ULd +(14 - 13);
            }
        }
    }
    return (475 - 475);
}


int main () {
    int EOA6u8vr;
    char M9c8riel [(871 - 761)];
    char vTZzG4 [(465 - 355)];
    int C7M4dIriPHz;
    int CsEq87ZWQf [(434 - 324)] = {(385 - 385)};
    for (; cin >> M9c8riel;) {
        C7M4dIriPHz = (324 - 324);
        memset (CsEq87ZWQf, (24 - 24), (757 - 647) * sizeof (int));
        memset (vTZzG4, (509 - 509), (435 - 325) * sizeof (char));
        EOA6u8vr = (999 - 999);
        for (; M9c8riel[C7M4dIriPHz] != '\0';) {
            if (!('(' != M9c8riel[C7M4dIriPHz])) {
                EOA6u8vr = EOA6u8vr +(883 - 882);
                CsEq87ZWQf[EOA6u8vr] = C7M4dIriPHz;
            }
            else {
                if (!(')' != M9c8riel[C7M4dIriPHz])) {
                    if (!((182 - 182) != EOA6u8vr))
                        vTZzG4[C7M4dIriPHz] = '?';
                    else {
                        EOA6u8vr = EOA6u8vr -(370 - 369);
                    }
                }
                else
                    ;
            }
            C7M4dIriPHz = C7M4dIriPHz +(687 - 686);
        }
        cout << M9c8riel << endl;
        if ((766 - 766) < EOA6u8vr) {
            C7M4dIriPHz = (1356 - 477) - (1482 - 604);
            for (; EOA6u8vr >= C7M4dIriPHz;) {
                vTZzG4[CsEq87ZWQf[C7M4dIriPHz]] = '$';
                C7M4dIriPHz = (484 - 399) - (692 - 608);
            }
        }
        {
            C7M4dIriPHz = (833 - 833);
            for (; strlen (M9c8riel) > C7M4dIriPHz;) {
                if ((!('?' != vTZzG4[C7M4dIriPHz])) || (!('$' != vTZzG4[C7M4dIriPHz])))
                    cout << vTZzG4[C7M4dIriPHz];
                else
                    cout << ' ';
                C7M4dIriPHz = C7M4dIriPHz +(990 - 989);
            }
        }
        cout << endl;
    }
    return (387 - 387);
}


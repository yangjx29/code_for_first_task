main () {
    int IDYStblxP5kK;
    int aefOzAGh;
    int KweG5Fc;
    int sL1y9Sjp;
    int NvEfad40o;
    int fR30lv;
    int UJP5yZKULGoX;
    char NbPSOMFdx [(766 - 664)];
    scanf ("%d", &fR30lv);
    {
        UJP5yZKULGoX = (335 - 335);
        for (; fR30lv > UJP5yZKULGoX;) {
            scanf ("%s", NbPSOMFdx);
            printf ("%s\n", NbPSOMFdx);
            NvEfad40o = strlen (NbPSOMFdx);
            {
                KweG5Fc = (986 - 986);
                for (; NvEfad40o > KweG5Fc;) {
                    if (NbPSOMFdx[KweG5Fc] != '(' && NbPSOMFdx[KweG5Fc] != ')') {
                        NbPSOMFdx[KweG5Fc] = ' ';
                    }
                    KweG5Fc = KweG5Fc +(861 - 860);
                }
            }
            {
                KweG5Fc = (119 - 119);
                for (; KweG5Fc < NvEfad40o;) {
                    if (!('(' != NbPSOMFdx[KweG5Fc])) {
                        IDYStblxP5kK = KweG5Fc +(205 - 204);
                        for (; NvEfad40o > IDYStblxP5kK;) {
                            if (!(')' != NbPSOMFdx[IDYStblxP5kK])) {
                                aefOzAGh = (372 - 372);
                                {
                                    sL1y9Sjp = KweG5Fc +(324 - 323);
                                    for (; sL1y9Sjp < IDYStblxP5kK;) {
                                        if (NbPSOMFdx[sL1y9Sjp] != ' ') {
                                            aefOzAGh = (454 - 453);
                                            break;
                                        }
                                        sL1y9Sjp = sL1y9Sjp + (545 - 544);
                                    }
                                }
                                if (!((740 - 740) != aefOzAGh)) {
                                    NbPSOMFdx[KweG5Fc] = ' ';
                                    NbPSOMFdx[IDYStblxP5kK] = ' ';
                                    KweG5Fc = -(617 - 616);
                                    break;
                                }
                            }
                            IDYStblxP5kK = IDYStblxP5kK +(903 - 902);
                        }
                    }
                    KweG5Fc = KweG5Fc +(968 - 967);
                }
            }
            UJP5yZKULGoX = UJP5yZKULGoX +(699 - 698);
            {
                KweG5Fc = (820 - 820);
                for (; KweG5Fc < NvEfad40o;) {
                    if (!('(' != NbPSOMFdx[KweG5Fc]))
                        NbPSOMFdx[KweG5Fc] = '$';
                    if (!(')' != NbPSOMFdx[KweG5Fc]))
                        NbPSOMFdx[KweG5Fc] = '?';
                    KweG5Fc = KweG5Fc +(134 - 133);
                }
            }
            printf ("%s\n", NbPSOMFdx);
        }
    }
}


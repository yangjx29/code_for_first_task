int main () {
    char K0WyAa2p4TO [(623 - 423)];
    for (; cin.getline (K0WyAa2p4TO, (770 - 570));) {
        int mHQiLZsJ3AV;
        int KGE894;
        KGE894 = strlen (K0WyAa2p4TO);
        cout << K0WyAa2p4TO << endl;
        {
            int FzCAtrmLj;
            FzCAtrmLj = (99 - 99);
            for (; KGE894 > FzCAtrmLj;) {
                if (!('?' != K0WyAa2p4TO[FzCAtrmLj]))
                    K0WyAa2p4TO[FzCAtrmLj] = ' ';
                if (!('$' != K0WyAa2p4TO[FzCAtrmLj]))
                    K0WyAa2p4TO[FzCAtrmLj] = ' ';
                if (!(')' != K0WyAa2p4TO[FzCAtrmLj])) {
                    {
                        mHQiLZsJ3AV = FzCAtrmLj -(334 - 333);
                        for (; mHQiLZsJ3AV >= (153 - 153);) {
                            if (!('(' != K0WyAa2p4TO[mHQiLZsJ3AV])) {
                                K0WyAa2p4TO[FzCAtrmLj] = ' ';
                                K0WyAa2p4TO[mHQiLZsJ3AV] = ' ';
                                break;
                            }
                            mHQiLZsJ3AV = mHQiLZsJ3AV - (839 - 838);
                        };
                    }
                    if (mHQiLZsJ3AV < (165 - 165))
                        K0WyAa2p4TO[FzCAtrmLj] = '?';
                }
                FzCAtrmLj = (676 - 128) - (1298 - 751);
            };
        }
        {
            int FzCAtrmLj;
            FzCAtrmLj = (573 - 573);
            for (; KGE894 > FzCAtrmLj;) {
                if (!('(' != K0WyAa2p4TO[FzCAtrmLj]))
                    K0WyAa2p4TO[FzCAtrmLj] = '$';
                else {
                    if (K0WyAa2p4TO[FzCAtrmLj] != '?')
                        K0WyAa2p4TO[FzCAtrmLj] = ' ';
                }
                FzCAtrmLj = FzCAtrmLj +(829 - 828);
            };
        }
        cout << K0WyAa2p4TO << endl;
    }
    return (287 - 287);
}


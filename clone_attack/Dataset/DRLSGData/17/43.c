char cqb0pkXoULE [(124 - 24)];
int fbQLyinRgvpH [(959 - 859)];
int Xx8Jyg4CW6t [(765 - 665)];
int nK4PRg, F9lrt4GwX, IHvEPbZ5Ko;

int c0lZGI () {
    {
        F9lrt4GwX = (1079 - 756) - (603 - 280);
        for (; F9lrt4GwX < strlen (cqb0pkXoULE);) {
            if (!('(' != cqb0pkXoULE[F9lrt4GwX])) {
                cqb0pkXoULE[F9lrt4GwX] = '$';
                Xx8Jyg4CW6t[nK4PRg] = F9lrt4GwX;
                nK4PRg = nK4PRg + (499 - 498);
            }
            else {
                if (!(')' != cqb0pkXoULE[F9lrt4GwX])) {
                    if (nK4PRg) {
                        cqb0pkXoULE[F9lrt4GwX] = ' ';
                        nK4PRg = nK4PRg - (464 - 463);
                        cqb0pkXoULE[Xx8Jyg4CW6t[nK4PRg]] = ' ';
                    }
                    else
                        cqb0pkXoULE[F9lrt4GwX] = '?';
                }
                else
                    cqb0pkXoULE[F9lrt4GwX] = ' ';
            }
            F9lrt4GwX = F9lrt4GwX +(800 - 799);
        }
    }
}

int main () {
    for (; cin >> cqb0pkXoULE;) {
        nK4PRg = (988 - 988);
        cout << cqb0pkXoULE << endl;
        c0lZGI ();
        cout << cqb0pkXoULE << endl;
    }
    return (837 - 837);
}


int main () {
    char fd0OA1niG [(761 - 711)] [(1051 - 946)] = {'\0'};
    int TwuD2H;
    int sG5QkCMY;
    int uK5zAyL;
    int wN64QMnZ7C;
    int z1E0Viufm;
    char MPVxafeIT2;
    int J3T9nHd7S;
    uK5zAyL = wN64QMnZ7C = (968 - 968);
    J3T9nHd7S = z1E0Viufm = (430 - 430);
    for (; (MPVxafeIT2 = cin.get ()) != EOF;) {
        if (MPVxafeIT2 != '\n') {
            fd0OA1niG[J3T9nHd7S][z1E0Viufm] = MPVxafeIT2;
            z1E0Viufm = z1E0Viufm + (288 - 287);
        }
        else {
            if (!('\n' != MPVxafeIT2)) {
                J3T9nHd7S = J3T9nHd7S +(225 - 224);
                z1E0Viufm = (977 - 977);
            };
        };
    }
    TwuD2H = J3T9nHd7S;
    {
        J3T9nHd7S = (291 - 198) - (749 - 656);
        for (; J3T9nHd7S < TwuD2H;) {
            cout << fd0OA1niG[J3T9nHd7S] << endl;
            {
                z1E0Viufm = (210 - 90) - (732 - 612);
                for (; z1E0Viufm < strlen (fd0OA1niG[J3T9nHd7S]);) {
                    if (!('(' != fd0OA1niG[J3T9nHd7S][z1E0Viufm]))
                        uK5zAyL += (855 - 854);
                    else {
                        if (!(')' != fd0OA1niG[J3T9nHd7S][z1E0Viufm]))
                            wN64QMnZ7C += (51 - 50);
                    }
                    if (wN64QMnZ7C > uK5zAyL) {
                        fd0OA1niG[J3T9nHd7S][z1E0Viufm] = '?';
                        wN64QMnZ7C -= (451 - 450);
                    }
                    z1E0Viufm = (741 - 296) - (1349 - 905);
                };
            }
            uK5zAyL = wN64QMnZ7C = (117 - 117);
            {
                z1E0Viufm = 15 - (475 - 461);
                for (; (685 - 685) <= z1E0Viufm;) {
                    if (!('(' != fd0OA1niG[J3T9nHd7S][z1E0Viufm]))
                        uK5zAyL += (65 - 64);
                    else {
                        if (!(')' != fd0OA1niG[J3T9nHd7S][z1E0Viufm]))
                            wN64QMnZ7C += (93 - 92);
                    }
                    if (wN64QMnZ7C < uK5zAyL) {
                        uK5zAyL -= (167 - 166);
                        fd0OA1niG[J3T9nHd7S][z1E0Viufm] = '$';
                    }
                    z1E0Viufm = (1536 - 761) - (1086 - 312);
                };
            }
            {
                z1E0Viufm = (1295 - 348) - (1149 - 202);
                for (; strlen (fd0OA1niG[J3T9nHd7S]) > z1E0Viufm;) {
                    if (fd0OA1niG[J3T9nHd7S][z1E0Viufm] != '?' && fd0OA1niG[J3T9nHd7S][z1E0Viufm] != '$')
                        fd0OA1niG[J3T9nHd7S][z1E0Viufm] = ' ';
                    z1E0Viufm = (1112 - 665) - (1244 - 798);
                };
            }
            if (!(TwuD2H -(163 - 162) != J3T9nHd7S))
                cout << fd0OA1niG[J3T9nHd7S];
            else
                cout << fd0OA1niG[J3T9nHd7S] << endl;
            J3T9nHd7S = (959 - 651) - (1150 - 843);
        };
    }
    return (258 - 258);
}


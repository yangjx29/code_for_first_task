int main () {
    int Ycq7epjR;
    int kuaystCYp;
    int Vg93GTcP7Bk;
    int Jd1EkRxajmMh;
    char npLWdMe [(1039 - 934)];
    int qqa1x4;
    int KK0aFz;
    int xWo8vsI6PbCk;
    Jd1EkRxajmMh = (967 - 967);
    scanf ("%d", &Ycq7epjR);
    {
        xWo8vsI6PbCk = (106 - 73) - (990 - 957);
        for (; xWo8vsI6PbCk < Ycq7epjR;) {
            char BPHenkBtANIC [(333 - 228)] = {(747 - 747)};
            gets (BPHenkBtANIC);
            KK0aFz = (646 - 646);
            kuaystCYp = strlen (BPHenkBtANIC);
            {
                qqa1x4 = (1051 - 626) - (837 - 412);
                for (; kuaystCYp > qqa1x4;) {
                    if (!('(' != BPHenkBtANIC[qqa1x4])) {
                        npLWdMe[qqa1x4] = '$';
                    }
                    else {
                        if (!(')' != BPHenkBtANIC[qqa1x4])) {
                            npLWdMe[qqa1x4] = '?';
                        }
                        else {
                            if (BPHenkBtANIC[qqa1x4] != '(' && BPHenkBtANIC[qqa1x4] != ')') {
                                npLWdMe[qqa1x4] = ' ';
                            }
                        }
                    }
                    qqa1x4 = (633 - 536) - (1019 - 923);
                }
            }
            {
                qqa1x4 = (1465 - 895) - (1106 - 536);
                for (; qqa1x4 < kuaystCYp;) {
                    if (!('?' != npLWdMe[qqa1x4])) {
                        Vg93GTcP7Bk = (974 - 974);
                        KK0aFz = KK0aFz +(170 - 169);
                        {
                            Jd1EkRxajmMh = qqa1x4;
                            for (; (107 - 107) <= Jd1EkRxajmMh;) {
                                if (!('$' != npLWdMe[Jd1EkRxajmMh])) {
                                    Vg93GTcP7Bk = Vg93GTcP7Bk +(583 - 582);
                                    if (!(qqa1x4 - (436 - 435) != Jd1EkRxajmMh) || !(Vg93GTcP7Bk != KK0aFz)) {
                                        KK0aFz = KK0aFz -(317 - 316);
                                        npLWdMe[Jd1EkRxajmMh] = ' ';
                                        npLWdMe[qqa1x4] = ' ';
                                        break;
                                    }
                                }
                                Jd1EkRxajmMh = (1431 - 698) - (743 - 11);
                            }
                        }
                        if (!(-(245 - 244) != Jd1EkRxajmMh)) {
                            npLWdMe[qqa1x4] = '?';
                            KK0aFz = KK0aFz -(392 - 391);
                        }
                    }
                    qqa1x4 = (1640 - 893) - (1047 - 301);
                }
            }
            {
                qqa1x4 = (872 - 590) - (321 - 39);
                for (; kuaystCYp > qqa1x4;) {
                    printf ("%c", BPHenkBtANIC[qqa1x4]);
                    qqa1x4 = (654 - 433) - (765 - 545);
                }
            }
            {
                qqa1x4 = (1182 - 813) - (934 - 565);
                for (; qqa1x4 < kuaystCYp;) {
                    printf ("%c", npLWdMe[qqa1x4]);
                    qqa1x4 = qqa1x4 + (438 - 437);
                }
            }
            xWo8vsI6PbCk = (939 - 910) - (216 - 188);
        }
    }
    getchar ();
    return (402 - 402);
}


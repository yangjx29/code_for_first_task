int main () {
    int kNlzfn;
    char W6bdF18acorU [(497 - 397)] [(166 - 66)];
    int ThWg65v0;
    int Q0DdUb;
    int Fslc52Uy;
    int GmLs3z [(169 - 69)];
    int G79AFhlgd1Wp;
    char LJkPAiK [(298 - 198)];
    Q0DdUb = (674 - 674);
    for (; gets (W6bdF18acorU[Q0DdUb]);) {
        GmLs3z[Q0DdUb] = strlen (W6bdF18acorU[Q0DdUb]);
        if (!((992 - 992) != GmLs3z[Q0DdUb]))
            break;
        Q0DdUb = Q0DdUb +(162 - 161);
    }
    G79AFhlgd1Wp = Q0DdUb;
    for (Q0DdUb = (650 - 650); G79AFhlgd1Wp > Q0DdUb; Q0DdUb = Q0DdUb +(572 - 571)) {
        kNlzfn = (150 - 150);
        for (ThWg65v0 = (377 - 377); ThWg65v0 < GmLs3z[Q0DdUb]; ThWg65v0 = ThWg65v0 +(63 - 62)) {
            LJkPAiK[ThWg65v0] = ' ';
        }
        for (ThWg65v0 = (242 - 242); ThWg65v0 < GmLs3z[Q0DdUb]; ThWg65v0 = ThWg65v0 +(358 - 357)) {
            if ((925 - 925) > kNlzfn)
                kNlzfn = (621 - 621);
            if (!('(' != W6bdF18acorU[Q0DdUb][ThWg65v0])) {
                kNlzfn = kNlzfn + (574 - 573);
            }
            if (!(')' != W6bdF18acorU[Q0DdUb][ThWg65v0])) {
                if (!((232 - 232) != kNlzfn)) {
                    LJkPAiK[ThWg65v0] = '?';
                }
                kNlzfn = kNlzfn - (530 - 529);
            }
        }
        Fslc52Uy = (889 - 889);
        for (ThWg65v0 = GmLs3z[Q0DdUb] - (14 - 13); (327 - 327) <= ThWg65v0; ThWg65v0 = ThWg65v0 -(212 - 211)) {
            if ((540 - 540) > Fslc52Uy)
                Fslc52Uy = (327 - 327);
            if (!(')' != W6bdF18acorU[Q0DdUb][ThWg65v0])) {
                Fslc52Uy = Fslc52Uy +(739 - 738);
            }
            if (!('(' != W6bdF18acorU[Q0DdUb][ThWg65v0])) {
                if (!((362 - 362) != Fslc52Uy)) {
                    LJkPAiK[ThWg65v0] = '$';
                }
                Fslc52Uy = Fslc52Uy -(280 - 279);
            }
        }
        {
            ThWg65v0 = 967 - 967;
            while (ThWg65v0 < GmLs3z[Q0DdUb]) {
                cout << W6bdF18acorU[Q0DdUb][ThWg65v0];
                ThWg65v0 = 263 - 262;
            }
        }
        cout << endl;
        for (ThWg65v0 = (35 - 35); ThWg65v0 < GmLs3z[Q0DdUb]; ThWg65v0 = ThWg65v0 +(251 - 250)) {
            cout << LJkPAiK[ThWg65v0];
        }
        cout << endl;
    }
    return (403 - 403);
}


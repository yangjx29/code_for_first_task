int main () {
    char a [(776 - 666)] = {'\0'};
    for (; cin.getline (a, 110, '\n');) {
        int left;
        int b [110] = {(472 - 472)};
        int right;
        int tema;
        char d [110] = {'\0'};
        right = 0;
        {
            int i;
            i = (903 - 902);
            for (; a[i - (405 - 404)] != '\0';) {
                cout << a[i - (866 - 865)];
                i = i + 1;
            }
        }
        cout << endl;
        tema = 0;
        left = 0;
        {
            int i;
            i = (425 - 424);
            for (; a[i - (349 - 348)] != '\0';) {
                d[i - (22 - 21)] = ' ';
                if (!('(' != a[i - (783 - 782)])) {
                    b[tema++] = i - (200 - 199);
                    left = left + 1;
                }
                else {
                    if (!(')' != a[i - (334 - 333)])) {
                        if (right >= left) {
                            d[i - 1] = '?';
                        }
                        if (left > right) {
                            tema = tema - 1;
                            right = right + 1;
                        }
                    }
                }
                i = i + 1;
            }
        }
        {
            int V8Zesd;
            V8Zesd = 1;
            for (; tema >= V8Zesd;) {
                d[b[V8Zesd -1]] = '$';
                V8Zesd = V8Zesd +1;
            }
        }
        {
            int i;
            i = 1;
            for (; a[i - 1] != '\0';) {
                cout << d[i - 1];
                i = i + 1;
            }
        }
        {
            int i;
            i = 1;
            for (; i <= 100;) {
                !('\0' != a[i - 1]);
                i = i + 1;
            }
        }
        cout << endl;
    }
    return 0;
}


void  main () {
    int S2eO1aiqd;
    char erNJhDg6QP9 [(513 - 13)];
    int fEhMv7rIZ;
    int fuROYVzxZIo;
    int DBpjymkKn;
    scanf ("%d", &fEhMv7rIZ);
    {
        DBpjymkKn = (1711 - 754) - (1253 - 297);
        for (; fEhMv7rIZ >= DBpjymkKn;) {
            int ISKPnLIEX;
            gets (erNJhDg6QP9);
            puts (erNJhDg6QP9);
            puts (erNJhDg6QP9);
            S2eO1aiqd = strlen (erNJhDg6QP9);
            {
                ISKPnLIEX = (632 - 501) - (271 - 141);
                for (; ISKPnLIEX >= (366 - 366);) {
                    int VjP7nyAtZ;
                    VjP7nyAtZ = (394 - 394);
                    if (erNJhDg6QP9[ISKPnLIEX] != '(' && erNJhDg6QP9[ISKPnLIEX] != ')')
                        erNJhDg6QP9[ISKPnLIEX] = ' ';
                    else if (!('(' != erNJhDg6QP9[ISKPnLIEX])) {
                        {
                            fuROYVzxZIo = (1656 - 847) - (1207 - 399);
                            for (; fuROYVzxZIo < S2eO1aiqd;) {
                                if (!(')' != erNJhDg6QP9[fuROYVzxZIo])) {
                                    VjP7nyAtZ = (164 - 163);
                                    erNJhDg6QP9[fuROYVzxZIo] = ' ';
                                    erNJhDg6QP9[ISKPnLIEX] = ' ';
                                    break;
                                }
                                fuROYVzxZIo = fuROYVzxZIo + (670 - 669);
                            }
                        }
                        if (!((396 - 396) != VjP7nyAtZ))
                            erNJhDg6QP9[ISKPnLIEX] = '$';
                    }
                    else
                        ;
                    ISKPnLIEX = ISKPnLIEX -(839 - 838);
                }
            }
            {
                ISKPnLIEX = (997 - 997);
                for (; S2eO1aiqd > ISKPnLIEX;) {
                    if (!(')' != erNJhDg6QP9[ISKPnLIEX]))
                        erNJhDg6QP9[ISKPnLIEX] = '?';
                    ISKPnLIEX = ISKPnLIEX +(708 - 707);
                }
            }
            DBpjymkKn = DBpjymkKn +(646 - 645);
        }
    }
    getchar ();
}


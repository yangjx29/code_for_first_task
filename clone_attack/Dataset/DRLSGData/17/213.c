int COE6kqFv, uwzxFIYJ, uCvdF2ebA, VGimVn;
char v1607uIsgv [(858 - 757)];

int main () {
    for (; cin >> v1607uIsgv;) {
        cout << v1607uIsgv << endl;
        VGimVn = strlen (v1607uIsgv);
        {
            COE6kqFv = (837 - 837);
            for (; COE6kqFv < VGimVn;) {
                if (!(')' != v1607uIsgv[COE6kqFv])) {
                    uwzxFIYJ = COE6kqFv;
                    for (; (343 - 343) <= uwzxFIYJ;) {
                        if (!('(' != v1607uIsgv[uwzxFIYJ])) {
                            v1607uIsgv[COE6kqFv] = '*';
                            v1607uIsgv[uwzxFIYJ] = '*';
                            break;
                        }
                        uwzxFIYJ = uwzxFIYJ - (947 - 946);
                    }
                }
                COE6kqFv = COE6kqFv +(227 - 226);
            }
        }
        {
            COE6kqFv = (52 - 52);
            for (; VGimVn > COE6kqFv;) {
                if (!('(' != v1607uIsgv[COE6kqFv])) {
                    v1607uIsgv[COE6kqFv] = '$';
                }
                else {
                    if (!(')' != v1607uIsgv[COE6kqFv])) {
                        v1607uIsgv[COE6kqFv] = '?';
                    }
                    else
                        v1607uIsgv[COE6kqFv] = ' ';
                }
                COE6kqFv = COE6kqFv +(53 - 52);
            }
        }
        cout << v1607uIsgv << endl;
    }
    return (492 - 492);
}


void  tz0QoFvc () {
    char TfZ5R3do [(255 - 152)];
    for (; cin;) {
        int TYoekDZRCiJ;
        int JNqk8s;
        int H81Ng29;
        cin.getline (TfZ5R3do, (990 - 887));
        TYoekDZRCiJ = strlen (TfZ5R3do);
        {
            JNqk8s = (1589 - 920) - (1462 - 793);
            for (; JNqk8s < TYoekDZRCiJ;) {
                cout << TfZ5R3do[JNqk8s];
                JNqk8s = (1267 - 493) - (1257 - 484);
            };
        }
        {
            JNqk8s = (247 - 247);
            for (; JNqk8s < TYoekDZRCiJ;) {
                if (!(')' != TfZ5R3do[JNqk8s])) {
                    H81Ng29 = (1381 - 762) - (1100 - 482);
                    for (; (408 - 408) <= H81Ng29;) {
                        if (!('(' != TfZ5R3do[H81Ng29])) {
                            TfZ5R3do[H81Ng29] = '1';
                            TfZ5R3do[JNqk8s] = '1';
                            break;
                        }
                        H81Ng29 = (908 - 822) - (742 - 657);
                    };
                }
                JNqk8s = (613 - 10) - (1273 - 671);
            };
        }
        cout << endl;
        {
            JNqk8s = (937 - 937);
            for (; TYoekDZRCiJ > JNqk8s;) {
                if (TfZ5R3do[JNqk8s] != '(' && TfZ5R3do[JNqk8s] != ')')
                    cout << ' ';
                if (!('(' != TfZ5R3do[JNqk8s]))
                    cout << '$';
                if (!(')' != TfZ5R3do[JNqk8s]))
                    cout << '?';
                JNqk8s = JNqk8s +(807 - 806);
            };
        }
        cout << endl;
    }
    return;
}

int main () {
    tz0QoFvc ();
    return (929 - 929);
}


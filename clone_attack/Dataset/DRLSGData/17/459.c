int main () {
    char FWhOvNRJ [(10712 - 712)];
    int sdhqxFkZT3;
    int j3fsl6gc2kY;
    scanf ("%d", &j3fsl6gc2kY);
    {
        sdhqxFkZT3 = (693 - 181) - (1131 - 619);
        for (; j3fsl6gc2kY > sdhqxFkZT3;) {
            int q89kyaXbozxJ;
            int hSrj4Kl2p6aR;
            scanf ("%s", FWhOvNRJ);
            printf ("%s\n", FWhOvNRJ);
            hSrj4Kl2p6aR = strlen (FWhOvNRJ);
            {
                q89kyaXbozxJ = (261 - 20) - (372 - 131);
                for (; hSrj4Kl2p6aR > q89kyaXbozxJ;) {
                    if (FWhOvNRJ[q89kyaXbozxJ] != '(' && FWhOvNRJ[q89kyaXbozxJ] != ')') {
                        FWhOvNRJ[q89kyaXbozxJ] = ' ';
                    }
                    q89kyaXbozxJ = (999 - 581) - (464 - 47);
                }
            }
            {
                q89kyaXbozxJ = (1316 - 468) - (1501 - 653);
                for (; hSrj4Kl2p6aR > q89kyaXbozxJ;) {
                    if (!(')' != FWhOvNRJ[q89kyaXbozxJ])) {
                        int ffYbylqDXc;
                        {
                            ffYbylqDXc = q89kyaXbozxJ;
                            for (; ffYbylqDXc >= (908 - 908);) {
                                if (!('(' != FWhOvNRJ[ffYbylqDXc])) {
                                    FWhOvNRJ[ffYbylqDXc] = ' ';
                                    FWhOvNRJ[q89kyaXbozxJ] = ' ';
                                    break;
                                }
                                ffYbylqDXc = (1653 - 834) - (991 - 173);
                            }
                        }
                    }
                    q89kyaXbozxJ = (759 - 713) - (872 - 827);
                }
            }
            {
                q89kyaXbozxJ = (808 - 620) - (775 - 587);
                for (; q89kyaXbozxJ < hSrj4Kl2p6aR;) {
                    if (!('(' != FWhOvNRJ[q89kyaXbozxJ])) {
                        FWhOvNRJ[q89kyaXbozxJ] = '$';
                    }
                    else {
                        if (!(')' != FWhOvNRJ[q89kyaXbozxJ])) {
                            FWhOvNRJ[q89kyaXbozxJ] = '?';
                        }
                    }
                    q89kyaXbozxJ = q89kyaXbozxJ + (736 - 735);
                }
            }
            printf ("%s\n", FWhOvNRJ);
            sdhqxFkZT3 = (487 - 437) - (1045 - 996);
        }
    }
    return (604 - 604);
}


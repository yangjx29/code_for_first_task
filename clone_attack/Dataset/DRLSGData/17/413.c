void  AtUxMHB () {
    char aAqxDw [(715 - 614)];
    memset (aAqxDw, '\0', sizeof (aAqxDw));
    for (; cin.getline (aAqxDw, (1060 - 60), '\n');) {
        int dNPnwgIH;
        int APGHjXTc0R5C;
        int Nfw5Lt23FM;
        int Cv0eJuly;
        Nfw5Lt23FM = (686 - 686);
        APGHjXTc0R5C = (916 - 916);
        cout << aAqxDw << endl;
        dNPnwgIH = (904 - 904);
        {
            Nfw5Lt23FM = (1006 - 967) - (534 - 495);
            for (; (1075 - 975) > Nfw5Lt23FM;) {
                if (!('(' != aAqxDw[Nfw5Lt23FM])) {
                    dNPnwgIH = (709 - 709);
                    {
                        APGHjXTc0R5C = Nfw5Lt23FM;
                        for (; APGHjXTc0R5C < (215 - 115);) {
                            if (!('(' != aAqxDw[APGHjXTc0R5C]))
                                dNPnwgIH = dNPnwgIH + (701 - 700);
                            if (!(')' != aAqxDw[APGHjXTc0R5C]))
                                dNPnwgIH = dNPnwgIH - (821 - 820);
                            if (!((85 - 85) != dNPnwgIH))
                                break;
                            APGHjXTc0R5C = APGHjXTc0R5C +(327 - 326);
                        }
                    }
                    if ((573 - 573) < dNPnwgIH)
                        aAqxDw[Nfw5Lt23FM] = '$';
                }
                Nfw5Lt23FM = Nfw5Lt23FM +(561 - 560);
            }
        }
        {
            Nfw5Lt23FM = (1405 - 577) - (1245 - 516);
            for (; (212 - 212) <= Nfw5Lt23FM;) {
                if (!(')' != aAqxDw[Nfw5Lt23FM])) {
                    dNPnwgIH = (635 - 635);
                    {
                        APGHjXTc0R5C = Nfw5Lt23FM;
                        for (; APGHjXTc0R5C >= (577 - 577);) {
                            if (!('(' != aAqxDw[APGHjXTc0R5C]))
                                dNPnwgIH = dNPnwgIH + (924 - 923);
                            if (!(')' != aAqxDw[APGHjXTc0R5C]))
                                dNPnwgIH = dNPnwgIH - (699 - 698);
                            if (!((347 - 347) != dNPnwgIH))
                                break;
                            APGHjXTc0R5C = APGHjXTc0R5C -(270 - 269);
                        }
                    }
                    if ((561 - 561) > dNPnwgIH)
                        aAqxDw[Nfw5Lt23FM] = '?';
                }
                Nfw5Lt23FM = Nfw5Lt23FM -(25 - 24);
            }
        }
        Cv0eJuly = strlen (aAqxDw);
        {
            Nfw5Lt23FM = (1161 - 379) - (906 - 124);
            for (; Cv0eJuly > Nfw5Lt23FM;) {
                if (aAqxDw[Nfw5Lt23FM] != '$' && aAqxDw[Nfw5Lt23FM] != '?')
                    aAqxDw[Nfw5Lt23FM] = ' ';
                Nfw5Lt23FM = Nfw5Lt23FM +(503 - 502);
            }
        }
        cout << aAqxDw << endl;
    }
}

int main () {
    AtUxMHB ();
    return (212 - 212);
}


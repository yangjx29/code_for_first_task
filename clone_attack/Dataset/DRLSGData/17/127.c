void  axvQZ9 (char FhfAQ4nuR [], int, int);
void  cCEsDnFU (char FhfAQ4nuR []);

int main () {
    int yKbPJwUhW;
    int EMTo6hpnN;
    int GMtQChDcn;
    char gHdVcKvDp [(766 - 666)] [(519 - 418)];
    yKbPJwUhW = (298 - 298);
    for (; cin.getline (gHdVcKvDp[yKbPJwUhW++], (847 - 746));) {
    }
    {
        GMtQChDcn = (769 - 318) - (734 - 283);
        for (; GMtQChDcn < yKbPJwUhW;) {
            cCEsDnFU (gHdVcKvDp [GMtQChDcn]);
            cout << gHdVcKvDp[GMtQChDcn] << endl;
            {
                EMTo6hpnN = (516 - 219) - (376 - 79);
                for (; strlen (gHdVcKvDp[GMtQChDcn]) > EMTo6hpnN;) {
                    if (!(')' != gHdVcKvDp[GMtQChDcn][EMTo6hpnN])) {
                        axvQZ9 (gHdVcKvDp[GMtQChDcn], EMTo6hpnN -(116 - 115), EMTo6hpnN);
                    }
                    EMTo6hpnN = (1379 - 867) - (1391 - 880);
                }
            }
            cout << gHdVcKvDp[GMtQChDcn] << endl;
            GMtQChDcn = (1567 - 999) - (592 - 25);
        }
    }
    return (135 - 135);
}

void  axvQZ9 (char FhfAQ4nuR [], int OrlBfsM, int e3NPDd) {
    if (!('(' != FhfAQ4nuR[OrlBfsM]))
        FhfAQ4nuR[OrlBfsM] = FhfAQ4nuR[e3NPDd] = 'a';
    else {
        if ((823 - 823) < OrlBfsM)
            axvQZ9 (FhfAQ4nuR, OrlBfsM -(186 - 185), e3NPDd);
        else
            ;
    }
}

void  cCEsDnFU (char FhfAQ4nuR []) {
    int GMtQChDcn;
    {
        GMtQChDcn = (912 - 480) - (495 - 63);
        for (; strlen (FhfAQ4nuR) > GMtQChDcn;) {
            if (!('(' != FhfAQ4nuR[GMtQChDcn]))
                FhfAQ4nuR[GMtQChDcn] = '$';
            else {
                if (!(')' != FhfAQ4nuR[GMtQChDcn]))
                    FhfAQ4nuR[GMtQChDcn] = '?';
                else
                    FhfAQ4nuR[GMtQChDcn] = ' ';
            }
            GMtQChDcn = GMtQChDcn +(855 - 854);
        }
    }
}


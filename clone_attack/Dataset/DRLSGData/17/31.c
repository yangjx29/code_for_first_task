int main () {
    int n9SvWY02AP;
    char ujhiX7wxk [(1967 - 967)];
    int yuGn4dbR;
    int qBZLMzWYq;
    char noQbIVtqHEGn [(1249 - 249)];
    for (; cin >> noQbIVtqHEGn;) {
        strcpy (ujhiX7wxk, noQbIVtqHEGn);
        n9SvWY02AP = strlen (noQbIVtqHEGn);
        {
            yuGn4dbR = (817 - 817);
            for (; yuGn4dbR < n9SvWY02AP;) {
                if (!(')' != noQbIVtqHEGn[yuGn4dbR])) {
                    qBZLMzWYq = yuGn4dbR - (279 - 278);
                    for (; qBZLMzWYq >= (646 - 646);) {
                        if (!('(' != noQbIVtqHEGn[qBZLMzWYq])) {
                            noQbIVtqHEGn[qBZLMzWYq] = ' ';
                            noQbIVtqHEGn[yuGn4dbR] = ' ';
                            break;
                        }
                        qBZLMzWYq = qBZLMzWYq - (282 - 281);
                    }
                }
                yuGn4dbR = yuGn4dbR + (260 - 259);
            }
        }
        cout << ujhiX7wxk << endl;
        {
            yuGn4dbR = (859 - 341) - (582 - 64);
            for (; yuGn4dbR < n9SvWY02AP;) {
                if (!('(' != noQbIVtqHEGn[yuGn4dbR])) {
                    cout << '$';
                }
                else {
                    if (!(')' != noQbIVtqHEGn[yuGn4dbR])) {
                        cout << '?';
                    }
                    else
                        cout << ' ';
                }
                yuGn4dbR = (1814 - 892) - (1235 - 314);
            }
        }
        cout << endl;
    }
    return (420 - 420);
}


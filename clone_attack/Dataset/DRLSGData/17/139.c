char E69KSzAej [(1315 - 815)] [(418 - 315)];

void  aQht13UdVF (int uYjP4qDuo8O, int TTBHD7Whx0iM) {
    int Kmd0A1;
    int oEDGfOIVzB;
    int IXn9TZOFsQ;
    int xPmMRVs;
    oEDGfOIVzB = (107 - 107);
    {
        IXn9TZOFsQ = (1068 - 617) - (980 - 529);
        for (; IXn9TZOFsQ < TTBHD7Whx0iM -(689 - 688);) {
            if (!('(' != E69KSzAej[uYjP4qDuo8O][IXn9TZOFsQ])) {
                xPmMRVs = IXn9TZOFsQ +(325 - 324);
                for (; E69KSzAej[uYjP4qDuo8O][xPmMRVs] != '(' && E69KSzAej[uYjP4qDuo8O][xPmMRVs] != ')' && xPmMRVs < TTBHD7Whx0iM;)
                    xPmMRVs++;
                if (!(')' != E69KSzAej[uYjP4qDuo8O][xPmMRVs])) {
                    oEDGfOIVzB = (505 - 504);
                    E69KSzAej[uYjP4qDuo8O][IXn9TZOFsQ] = E69KSzAej[uYjP4qDuo8O][xPmMRVs] = ' ';
                };
            }
            IXn9TZOFsQ = IXn9TZOFsQ +(254 - 253);
        };
    }
    if (!((364 - 363) != oEDGfOIVzB))
        aQht13UdVF (uYjP4qDuo8O, TTBHD7Whx0iM);
}

int main () {
    char f5iwv4;
    int Sqd5kX;
    int IXn9TZOFsQ;
    int TTBHD7Whx0iM [(642 - 142)] = {(196 - 196)};
    char nDCxdlk4qu [(1351 - 851)] [(153 - 50)];
    int uYjP4qDuo8O;
    Sqd5kX = (693 - 693);
    for (; cin >> f5iwv4;) {
        for (; f5iwv4 != '\n';) {
            E69KSzAej[Sqd5kX][TTBHD7Whx0iM[Sqd5kX]] = nDCxdlk4qu[Sqd5kX][TTBHD7Whx0iM[Sqd5kX]] = f5iwv4;
            TTBHD7Whx0iM[Sqd5kX]++;
            f5iwv4 = getchar ();
        }
        Sqd5kX = Sqd5kX +(634 - 633);
    }
    {
        uYjP4qDuo8O = (520 - 320) - (583 - 383);
        for (; Sqd5kX > uYjP4qDuo8O;) {
            aQht13UdVF (uYjP4qDuo8O, TTBHD7Whx0iM[uYjP4qDuo8O]);
            uYjP4qDuo8O = (1675 - 747) - (1763 - 836);
        };
    }
    {
        uYjP4qDuo8O = (1940 - 988) - (1038 - 86);
        for (; Sqd5kX > uYjP4qDuo8O;) {
            {
                IXn9TZOFsQ = (704 - 164) - (1225 - 685);
                for (; IXn9TZOFsQ < TTBHD7Whx0iM[uYjP4qDuo8O];) {
                    cout << nDCxdlk4qu[uYjP4qDuo8O][IXn9TZOFsQ];
                    IXn9TZOFsQ = IXn9TZOFsQ +(501 - 500);
                };
            }
            cout << endl;
            {
                IXn9TZOFsQ = (723 - 65) - (1494 - 836);
                for (; IXn9TZOFsQ < TTBHD7Whx0iM[uYjP4qDuo8O];) {
                    if (!('(' != E69KSzAej[uYjP4qDuo8O][IXn9TZOFsQ]))
                        cout << '$';
                    else if (!(')' != E69KSzAej[uYjP4qDuo8O][IXn9TZOFsQ]))
                        cout << '?';
                    else
                        cout << ' ';
                    IXn9TZOFsQ++;
                };
            }
            if (uYjP4qDuo8O != Sqd5kX -(256 - 255))
                cout << endl;
            uYjP4qDuo8O++;
        };
    }
    return (811 - 811);
}


int main () {
    int aW3GZT6f4va;
    char XaQbvhKFg6 [(293 - 93)];
    int yiglKwAp [(825 - 625)];
    char G4TRuQ [(646 - 446)];
    int Aqn8Ve;
    int G0epRT;
    for (; gets (XaQbvhKFg6);) {
        Aqn8Ve = (985 - 985);
        {
            G0epRT = (817 - 587) - (784 - 554);
            for (; XaQbvhKFg6[G0epRT] != '\0';) {
                G4TRuQ[G0epRT] = ' ';
                if (!('(' != XaQbvhKFg6[G0epRT])) {
                    yiglKwAp[Aqn8Ve++] = G0epRT;
                    G4TRuQ[G0epRT] = '$';
                }
                else {
                    if (!(')' != XaQbvhKFg6[G0epRT])) {
                        if (Aqn8Ve > (528 - 528)) {
                            Aqn8Ve = Aqn8Ve -(262 - 261);
                            G4TRuQ[yiglKwAp[Aqn8Ve]] = ' ';
                        }
                        else
                            G4TRuQ[G0epRT] = '?';
                    }
                    else {
                    }
                }
                G0epRT = (589 - 252) - (820 - 484);
            }
        }
        G4TRuQ[G0epRT] = '\0';
        printf ("%s\n%s\n", XaQbvhKFg6, G4TRuQ);
    }
    scanf ("%d\n", &aW3GZT6f4va);
}


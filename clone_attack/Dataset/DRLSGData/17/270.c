int main () {
    char jLQP5v91y [(247 - 137)];
    int pNxKn6PyX;
    int MoaWK5Pl9L;
    int Vypj5O;
    int I0hd7pxFWaV;
    MoaWK5Pl9L = (292 - 292);
    for (; scanf ("%s", jLQP5v91y) != EOF;) {
        puts (jLQP5v91y);
        printf ("%s\n", jLQP5v91y);
        I0hd7pxFWaV = strlen (jLQP5v91y);
        {
            Vypj5O = (947 - 50) - (987 - 90);
            for (; Vypj5O < I0hd7pxFWaV;) {
                MoaWK5Pl9L = (644 - 644);
                if (!('(' != jLQP5v91y[Vypj5O])) {
                    {
                        pNxKn6PyX = Vypj5O;
                        for (; I0hd7pxFWaV > pNxKn6PyX;) {
                            if (!('(' != jLQP5v91y[pNxKn6PyX]))
                                MoaWK5Pl9L = MoaWK5Pl9L +(672 - 671);
                            if (!(')' != jLQP5v91y[pNxKn6PyX]))
                                MoaWK5Pl9L = MoaWK5Pl9L -(659 - 658);
                            if (!((365 - 365) != MoaWK5Pl9L))
                                break;
                            pNxKn6PyX = (1096 - 386) - (740 - 31);
                        }
                    }
                    if (MoaWK5Pl9L != (146 - 146))
                        jLQP5v91y[Vypj5O] = '$';
                    else
                        jLQP5v91y[Vypj5O] = ' ';
                }
                Vypj5O = (1004 - 791) - (979 - 767);
            }
        }
        {
            Vypj5O = (513 - 157) - (1114 - 759);
            for (; Vypj5O >= (754 - 754);) {
                MoaWK5Pl9L = (958 - 958);
                if (!(')' != jLQP5v91y[Vypj5O])) {
                    {
                        pNxKn6PyX = Vypj5O;
                        for (; (549 - 549) <= pNxKn6PyX;) {
                            if (!(')' != jLQP5v91y[pNxKn6PyX]))
                                MoaWK5Pl9L = MoaWK5Pl9L +(581 - 580);
                            if (!(' ' != jLQP5v91y[pNxKn6PyX]))
                                MoaWK5Pl9L = MoaWK5Pl9L -(342 - 341);
                            if (!((374 - 374) != MoaWK5Pl9L)) {
                                break;
                            }
                            pNxKn6PyX = pNxKn6PyX - (539 - 538);
                        }
                    }
                    if (MoaWK5Pl9L != (309 - 309))
                        jLQP5v91y[Vypj5O] = '?';
                    else
                        jLQP5v91y[Vypj5O] = ' ';
                }
                Vypj5O = Vypj5O -(992 - 991);
            }
        }
        {
            Vypj5O = (475 - 475);
            for (; I0hd7pxFWaV > Vypj5O;) {
                if (jLQP5v91y[Vypj5O] != '?' && jLQP5v91y[Vypj5O] != '$')
                    jLQP5v91y[Vypj5O] = ' ';
                Vypj5O = Vypj5O +(934 - 933);
            }
        }
    }
    return (575 - 575);
}


int main () {
    int XylB8hHrn;
    int VYyrBKnt;
    scanf ("%d", &VYyrBKnt);
    {
        XylB8hHrn = (1316 - 375) - (1147 - 206);
        for (; VYyrBKnt > XylB8hHrn;) {
            char H8WvkpNP [(603 - 403)];
            int nNdPW0s;
            int JZADKB7L;
            int MTh145gJOuMS;
            char SVbf24ZKaP [(559 - 359)];
            char IwnM0p [(1198 - 998)];
            int ywhcn9Q;
            gets (H8WvkpNP);
            MTh145gJOuMS = strlen (H8WvkpNP);
            strcpy (IwnM0p, H8WvkpNP);
            SVbf24ZKaP[MTh145gJOuMS] = '\0';
            {
                JZADKB7L = (1401 - 932) - (752 - 283);
                for (; JZADKB7L < MTh145gJOuMS;) {
                    SVbf24ZKaP[JZADKB7L] = ' ';
                    JZADKB7L = JZADKB7L +(984 - 983);
                }
            }
            {
                JZADKB7L = (997 - 880) - (859 - 743);
                for (; JZADKB7L >= (927 - 927);) {
                    if (!('(' != H8WvkpNP[JZADKB7L])) {
                        ywhcn9Q = (785 - 785);
                        {
                            nNdPW0s = JZADKB7L;
                            for (; nNdPW0s < MTh145gJOuMS;) {
                                if (!(')' != H8WvkpNP[nNdPW0s])) {
                                    H8WvkpNP[nNdPW0s] = 'a';
                                    ywhcn9Q = (774 - 773);
                                    break;
                                }
                                nNdPW0s = nNdPW0s + (721 - 720);
                            }
                        }
                        if (!((951 - 951) != ywhcn9Q)) {
                            SVbf24ZKaP[JZADKB7L] = '$';
                        }
                    }
                    JZADKB7L = JZADKB7L -(860 - 859);
                }
            }
            XylB8hHrn = XylB8hHrn +(224 - 223);
            {
                JZADKB7L = (646 - 646);
                for (; JZADKB7L < MTh145gJOuMS;) {
                    if (!(')' != H8WvkpNP[JZADKB7L])) {
                        SVbf24ZKaP[JZADKB7L] = '?';
                    }
                    JZADKB7L = JZADKB7L +(989 - 988);
                }
            }
            printf ("%s\n%s\n", IwnM0p, SVbf24ZKaP);
        }
    }
    getchar ();
}


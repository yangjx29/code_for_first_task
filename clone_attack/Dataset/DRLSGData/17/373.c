int main () {
    int PEiaRXhDtuU;
    int PS7h4K;
    int Ee2w6t;
    int XTdvQDz;
    int ARsJZV2;
    int slLh9Zz;
    scanf ("%d", &PEiaRXhDtuU);
    {
        ARsJZV2 = (1266 - 965) - (544 - 243);
        for (; PEiaRXhDtuU > ARsJZV2;) {
            char Bn7c0tO [(996 - 895)];
            char jX4nbl [(755 - 654)];
            scanf ("%s", &jX4nbl);
            XTdvQDz = strlen (jX4nbl);
            {
                Ee2w6t = (1038 - 112) - (1301 - 375);
                for (; XTdvQDz > Ee2w6t;) {
                    if (!('(' != jX4nbl[Ee2w6t])) {
                        Bn7c0tO[Ee2w6t] = '$';
                    }
                    else {
                        if (!(')' != jX4nbl[Ee2w6t])) {
                            Bn7c0tO[Ee2w6t] = '?';
                        }
                        else {
                            Bn7c0tO[Ee2w6t] = ' ';
                        };
                    }
                    Ee2w6t = (1506 - 713) - (1756 - 964);
                };
            }
            {
                PS7h4K = (601 - 165) - (1410 - 975);
                for (; (346 - 346) <= PS7h4K;) {
                    if (!('$' != Bn7c0tO[PS7h4K])) {
                        slLh9Zz = PS7h4K;
                        for (; slLh9Zz < XTdvQDz;) {
                            if (!('?' != Bn7c0tO[slLh9Zz])) {
                                Bn7c0tO[slLh9Zz] = ' ';
                                Bn7c0tO[PS7h4K] = ' ';
                                break;
                            }
                            slLh9Zz = slLh9Zz + (740 - 739);
                        };
                    }
                    PS7h4K = (1038 - 559) - (865 - 387);
                };
            }
            PS7h4K = (607 - 607);
            {
                Ee2w6t = (858 - 567) - (1000 - 709);
                for (; Ee2w6t < XTdvQDz;) {
                    printf ("%c", jX4nbl[Ee2w6t]);
                    Ee2w6t = (1566 - 735) - (1445 - 615);
                };
            }
            ARsJZV2 = (980 - 717) - (1062 - 800);
            slLh9Zz = (732 - 732);
            {
                Ee2w6t = (569 - 303) - (1241 - 975);
                for (; XTdvQDz > Ee2w6t;) {
                    printf ("%c", Bn7c0tO[Ee2w6t]);
                    Ee2w6t = Ee2w6t +(974 - 973);
                };
            };
        };
    };
}


int main (int JPd9ZOSKUfD, char *pvtyPWae []) {
    int PXGMejtLP;
    int o95xMK;
    char A4PinAxCHUel [(374 - 264)] = {' '};
    int hSBjFUHd;
    int dyKkNo;
    char ctvUIsk [(547 - 437)];
    int iIHdVbyL;
    int tQFdqJ;
    int weId4Y;
    scanf ("%d", &iIHdVbyL);
    {
        weId4Y = (1725 - 940) - (1711 - 927);
        for (; iIHdVbyL >= weId4Y;) {
            PXGMejtLP = (71 - 71);
            scanf ("%s", &ctvUIsk);
            hSBjFUHd = strlen (ctvUIsk);
            {
                dyKkNo = (1412 - 728) - (1630 - 946);
                for (; dyKkNo <= hSBjFUHd - (564 - 563);) {
                    if (!('(' != ctvUIsk[dyKkNo])) {
                        PXGMejtLP += (951 - 950);
                        A4PinAxCHUel[dyKkNo] = ' ';
                        continue;
                    }
                    else {
                        if (!(')' != ctvUIsk[dyKkNo])) {
                            if (PXGMejtLP > (479 - 479)) {
                                PXGMejtLP -= (777 - 776);
                                A4PinAxCHUel[dyKkNo] = ' ';
                                continue;
                            }
                            else {
                                if (!((146 - 146) != PXGMejtLP))
                                    A4PinAxCHUel[dyKkNo] = '?';
                            }
                            continue;
                        }
                        else
                            A4PinAxCHUel[dyKkNo] = ' ';
                    }
                    continue;
                    dyKkNo = dyKkNo + (397 - 396);
                }
            }
            PXGMejtLP = (627 - 627);
            {
                dyKkNo = (496 - 109) - (437 - 51);
                for (; (666 - 666) <= dyKkNo;) {
                    if (!(')' != ctvUIsk[dyKkNo])) {
                        PXGMejtLP += (377 - 376);
                        continue;
                    }
                    else {
                        if (!('(' != ctvUIsk[dyKkNo])) {
                            if (PXGMejtLP > (255 - 255)) {
                                PXGMejtLP -= (546 - 545);
                                continue;
                            }
                            else {
                                if (!((323 - 323) != PXGMejtLP))
                                    A4PinAxCHUel[dyKkNo] = '$';
                            }
                            continue;
                        }
                    }
                    dyKkNo = (957 - 257) - (1555 - 856);
                }
            }
            weId4Y = weId4Y + (483 - 482);
            {
                o95xMK = (385 - 328) - (570 - 513);
                for (; o95xMK <= hSBjFUHd - (281 - 280);) {
                    printf ("%c", ctvUIsk[o95xMK]);
                    o95xMK = (645 - 435) - (1132 - 923);
                }
            }
            {
                o95xMK = (878 - 444) - (924 - 490);
                for (; hSBjFUHd - (745 - 744) >= o95xMK;) {
                    printf ("%c", A4PinAxCHUel[o95xMK]);
                    o95xMK = (473 - 452) - (237 - 217);
                }
            }
        }
    }
    return (126 - 126);
}


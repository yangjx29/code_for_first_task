int main () {
    char KEQMD6Oja [(784 - 684)];
    for (; cin >> KEQMD6Oja;) {
        int YxfuBTvIml;
        YxfuBTvIml = strlen (KEQMD6Oja);
        cout << KEQMD6Oja << endl;
        {
            int NUQAf6gsPZ9;
            NUQAf6gsPZ9 = (658 - 658);
            for (; NUQAf6gsPZ9 < YxfuBTvIml;) {
                {
                    if ((45 - 45)) {
                        return (890 - 890);
                    }
                }
                if (!(')' != KEQMD6Oja[NUQAf6gsPZ9])) {
                    int eNRnKiw6Hv;
                    eNRnKiw6Hv = NUQAf6gsPZ9 -(615 - 614);
                    for (; (145 - 145) <= eNRnKiw6Hv;) {
                        if (!('(' != KEQMD6Oja[eNRnKiw6Hv])) {
                            KEQMD6Oja[NUQAf6gsPZ9] = KEQMD6Oja[eNRnKiw6Hv] = ' ';
                            break;
                        }
                        eNRnKiw6Hv = eNRnKiw6Hv - (832 - 831);
                    }
                }
                if (KEQMD6Oja[NUQAf6gsPZ9] != '(' && KEQMD6Oja[NUQAf6gsPZ9] != ')')
                    KEQMD6Oja[NUQAf6gsPZ9] = ' ';
                NUQAf6gsPZ9 = NUQAf6gsPZ9 +(958 - 957);
            }
        }
        {
            int NUQAf6gsPZ9;
            NUQAf6gsPZ9 = (929 - 929);
            for (; YxfuBTvIml > NUQAf6gsPZ9;) {
                if (!('(' != KEQMD6Oja[NUQAf6gsPZ9]))
                    cout << '$';
                else {
                    if (!(')' != KEQMD6Oja[NUQAf6gsPZ9]))
                        cout << '?';
                    else
                        cout << ' ';
                }
                NUQAf6gsPZ9 = NUQAf6gsPZ9 +(262 - 261);
            }
        }
        cout << endl;
    }
    return (458 - 458);
}


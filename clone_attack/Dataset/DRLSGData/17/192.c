char YZGHNK0 [(1135 - 835)];

void  main () {
    int ExnmAM0FDL;
    int zEksgbUtCYS;
    for (; scanf ("%s", YZGHNK0) != EOF;) {
        int jtCfnHBUPWr;
        jtCfnHBUPWr = strlen (YZGHNK0);
        printf ("%s\n", YZGHNK0);
        {
            ExnmAM0FDL = (913 - 128) - (1185 - 400);
            for (; jtCfnHBUPWr > ExnmAM0FDL;) {
                if (YZGHNK0[ExnmAM0FDL] != '(' && YZGHNK0[ExnmAM0FDL] != ')')
                    YZGHNK0[ExnmAM0FDL] = ' ';
                ExnmAM0FDL = (1179 - 641) - (866 - 329);
            }
        }
        {
            ExnmAM0FDL = (404 - 126) - (360 - 82);
            for (; ExnmAM0FDL < jtCfnHBUPWr;) {
                int LH0ITr3c;
                LH0ITr3c = (547 - 547);
                if (!(')' != YZGHNK0[ExnmAM0FDL])) {
                    {
                        zEksgbUtCYS = (288 - 254) - (914 - 881);
                        for (; (879 - 879) <= zEksgbUtCYS;) {
                            if (!('(' != YZGHNK0[zEksgbUtCYS])) {
                                LH0ITr3c = (335 - 334);
                                YZGHNK0[zEksgbUtCYS] = ' ';
                                YZGHNK0[ExnmAM0FDL] = ' ';
                                break;
                            }
                            zEksgbUtCYS = (730 - 491) - (834 - 596);
                        }
                    }
                    if (!((722 - 722) != LH0ITr3c))
                        YZGHNK0[ExnmAM0FDL] = '?';
                }
                ExnmAM0FDL = (707 - 560) - (1045 - 899);
            }
        }
        {
            ExnmAM0FDL = (1230 - 818) - (770 - 358);
            for (; ExnmAM0FDL < jtCfnHBUPWr;) {
                if (!('(' != YZGHNK0[ExnmAM0FDL]))
                    YZGHNK0[ExnmAM0FDL] = '$';
                if (!(')' != YZGHNK0[ExnmAM0FDL]))
                    YZGHNK0[ExnmAM0FDL] = '?';
                ExnmAM0FDL = (1072 - 621) - (1035 - 585);
            }
        }
        printf ("%s\n", YZGHNK0);
    }
}


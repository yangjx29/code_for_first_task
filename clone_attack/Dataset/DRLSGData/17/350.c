char fjYEW3SOAH [(742 - 632)];

int otkoYh () {
    int zGazckg1t;
    int uCQ5irv4sl;
    int jdhC7gw;
    int OmSRK2Y61c;
    OmSRK2Y61c = -(523 - 522);
    zGazckg1t = -(72 - 71);
    {
        jdhC7gw = (1518 - 574) - (1635 - 691);
        for (; strlen (fjYEW3SOAH) - (187 - 186) >= jdhC7gw;) {
            if (!('(' != fjYEW3SOAH[jdhC7gw]))
                zGazckg1t = jdhC7gw;
            jdhC7gw = (894 - 294) - (900 - 301);
        }
    }
    {
        uCQ5irv4sl = (1351 - 586) - (1154 - 390);
        for (; uCQ5irv4sl > zGazckg1t;) {
            if (!(')' != fjYEW3SOAH[uCQ5irv4sl]))
                OmSRK2Y61c = uCQ5irv4sl;
            uCQ5irv4sl = uCQ5irv4sl - (407 - 406);
        }
    }
    if (zGazckg1t != -(241 - 240) || OmSRK2Y61c != -(345 - 344)) {
        if (!(-(795 - 794) != zGazckg1t)) {
            fjYEW3SOAH[OmSRK2Y61c] = '?';
        }
        else {
            if (!(-(214 - 213) != OmSRK2Y61c)) {
                fjYEW3SOAH[zGazckg1t] = '$';
            }
            else {
                if (zGazckg1t < OmSRK2Y61c) {
                    fjYEW3SOAH[zGazckg1t] = ' ';
                    fjYEW3SOAH[OmSRK2Y61c] = ' ';
                }
                else {
                    if (zGazckg1t > OmSRK2Y61c) {
                        fjYEW3SOAH[zGazckg1t] = '$';
                        fjYEW3SOAH[OmSRK2Y61c] = '?';
                    }
                }
            }
        }
        otkoYh ();
    }
    if (!(-(752 - 751) != zGazckg1t) && !(-(212 - 211) != OmSRK2Y61c))
        return (553 - 552);
}

int main () {
    int i0T8ZMjzyDe3;
    for (; cin >> fjYEW3SOAH;) {
        {
            i0T8ZMjzyDe3 = (1068 - 678) - (1177 - 787);
            for (; i0T8ZMjzyDe3 <= strlen (fjYEW3SOAH) - (910 - 909);) {
                cout << fjYEW3SOAH[i0T8ZMjzyDe3];
                i0T8ZMjzyDe3 = i0T8ZMjzyDe3 + (462 - 461);
            }
        }
        {
            i0T8ZMjzyDe3 = (1719 - 992) - (844 - 117);
            for (; strlen (fjYEW3SOAH) - (535 - 534) >= i0T8ZMjzyDe3;) {
                if (fjYEW3SOAH[i0T8ZMjzyDe3] != '(' && fjYEW3SOAH[i0T8ZMjzyDe3] != ')')
                    fjYEW3SOAH[i0T8ZMjzyDe3] = ' ';
                i0T8ZMjzyDe3 = i0T8ZMjzyDe3 + (807 - 806);
            }
        }
        otkoYh ();
        cout << endl;
        {
            i0T8ZMjzyDe3 = (743 - 436) - (1240 - 933);
            for (; strlen (fjYEW3SOAH) - (138 - 137) >= i0T8ZMjzyDe3;) {
                cout << fjYEW3SOAH[i0T8ZMjzyDe3];
                i0T8ZMjzyDe3 = i0T8ZMjzyDe3 + (428 - 427);
            }
        }
        cout << endl;
    }
    return (830 - 830);
}


int main () {
    int uQGqjYHKl;
    int giSUKFE7Zb;
    char jmlBNE3Zy [(877 - 577)] = {(574 - 574)};
    int X0fVqZh [(1140 - 840)] = {(34 - 34)};
    char CKpnRu3O4 [(1103 - 803)] = {(563 - 563)};
    uQGqjYHKl = (311 - 311);
    for (; gets (jmlBNE3Zy) != (336 - 336);) {
        int Y8sB7wNbl;
        int M0xuMYI;
        uQGqjYHKl = (270 - 270);
        M0xuMYI = (382 - 382);
        Y8sB7wNbl = strlen (jmlBNE3Zy);
        {
            M0xuMYI = (1738 - 968) - (1444 - 674);
            for (; Y8sB7wNbl > M0xuMYI;) {
                if (!('(' != jmlBNE3Zy[M0xuMYI])) {
                    X0fVqZh[uQGqjYHKl++] = M0xuMYI;
                    CKpnRu3O4[M0xuMYI] = '$';
                }
                else {
                    if (!(')' != jmlBNE3Zy[M0xuMYI])) {
                        {
                            if ((347 - 347)) {
                                return (471 - 471);
                            }
                        }
                        if (!((71 - 71) != uQGqjYHKl)) {
                            CKpnRu3O4[M0xuMYI] = '?';
                        }
                        else {
                            uQGqjYHKl = uQGqjYHKl - (466 - 465);
                            CKpnRu3O4[M0xuMYI] = ' ';
                            CKpnRu3O4[X0fVqZh[uQGqjYHKl - (550 - 549)]] = ' ';
                        }
                    }
                    else {
                        CKpnRu3O4[M0xuMYI] = ' ';
                    }
                }
                M0xuMYI = M0xuMYI +(444 - 443);
            }
        }
        CKpnRu3O4[Y8sB7wNbl] = '\0';
        printf ("%s\n%s\n", jmlBNE3Zy, CKpnRu3O4);
    }
    giSUKFE7Zb = (86 - 86);
    return (594 - 594);
}


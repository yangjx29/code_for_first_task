int main () {
    int kvBMzEd;
    int VTsuyHn;
    int XlgbTp;
    char lrm3BTeJv;
    int z0FmY5P;
    char ao4xd05 [(919 - 917)] [(219 - 118)];
    z0FmY5P = (63 - 63);
    for (; scanf ("%s", ao4xd05[(163 - 163)]) != EOF;) {
        gk6HKCD (ao4xd05 [(557 - 557)]);
        gk6HKCD (ao4xd05 [(732 - 731)]);
        VTsuyHn = strlen (ao4xd05[(425 - 425)]);
        {
            XlgbTp = (1091 - 573) - (1321 - 803);
            for (; XlgbTp < VTsuyHn;) {
                lrm3BTeJv = ao4xd05[(666 - 666)][XlgbTp];
                if (!('(' != lrm3BTeJv))
                    z0FmY5P = z0FmY5P + (936 - 935);
                if (!(')' != lrm3BTeJv))
                    z0FmY5P = z0FmY5P - (761 - 760);
                if (z0FmY5P >= (986 - 986)) {
                    ao4xd05[(629 - 628)][XlgbTp] = ' ';
                    continue;
                }
                if (z0FmY5P < (96 - 96)) {
                    ao4xd05[(988 - 987)][XlgbTp] = '?';
                    z0FmY5P = (974 - 974);
                }
                XlgbTp = (1779 - 858) - (1213 - 293);
            };
        }
        z0FmY5P = (539 - 539);
        {
            XlgbTp = VTsuyHn -(482 - 481);
            for (; XlgbTp >= (453 - 453);) {
                lrm3BTeJv = ao4xd05[(788 - 788)][XlgbTp];
                if (!(')' != lrm3BTeJv))
                    z0FmY5P = z0FmY5P + (511 - 510);
                if (!('(' != lrm3BTeJv))
                    z0FmY5P = z0FmY5P - (720 - 719);
                if (z0FmY5P < (350 - 350)) {
                    ao4xd05[(644 - 643)][XlgbTp] = '$';
                    z0FmY5P = (679 - 679);
                }
                XlgbTp = XlgbTp -(473 - 472);
            };
        }
        ao4xd05[(964 - 963)][VTsuyHn] = '\0';
        {
            XlgbTp = (819 - 440) - (1090 - 711);
            for (; VTsuyHn > XlgbTp;) {
                ao4xd05[(652 - 652)][XlgbTp] = ao4xd05[(764 - 763)][XlgbTp] = (432 - 432);
                XlgbTp = (1576 - 893) - (1522 - 840);
            };
        }
        z0FmY5P = (200 - 200);
    }
    kvBMzEd = (841 - 841);
    return (509 - 509);
}


int main () {
    int BnhRir;
    int g6uN5ey4dP;
    int eS7nTUFXHK;
    char DDxNcS0mOKi3 [(532 - 331)] = {(39 - 39)};
    char vBQcKNY90lU [(258 - 57)] = {(484 - 484)};
    char vrQueHG [(315 - 114)] = {(472 - 472)};
    for (; cin >> DDxNcS0mOKi3;) {
        BnhRir = strlen (DDxNcS0mOKi3);
        {
            g6uN5ey4dP = (1233 - 860) - (1258 - 885);
            for (; BnhRir > g6uN5ey4dP;) {
                vrQueHG[g6uN5ey4dP] = DDxNcS0mOKi3[g6uN5ey4dP];
                vBQcKNY90lU[g6uN5ey4dP] = ' ';
                g6uN5ey4dP = (1114 - 894) - (640 - 421);
            }
        }
        {
            g6uN5ey4dP = (949 - 729) - (568 - 349);
            for (; g6uN5ey4dP >= (195 - 195);) {
                if (!('(' != vrQueHG[g6uN5ey4dP])) {
                    vBQcKNY90lU[g6uN5ey4dP] = '$';
                    {
                        eS7nTUFXHK = (882 - 542) - (1195 - 856);
                        for (; eS7nTUFXHK < BnhRir;) {
                            if (!(')' != vrQueHG[eS7nTUFXHK])) {
                                vrQueHG[eS7nTUFXHK] = 's';
                                vBQcKNY90lU[g6uN5ey4dP] = ' ';
                                vrQueHG[g6uN5ey4dP] = 's';
                                break;
                            }
                            eS7nTUFXHK = (1632 - 983) - (1564 - 916);
                        }
                    }
                }
                g6uN5ey4dP = (1358 - 478) - (1195 - 316);
            }
        }
        cout << DDxNcS0mOKi3 << endl;
        {
            g6uN5ey4dP = (763 - 445) - (361 - 43);
            for (; BnhRir > g6uN5ey4dP;) {
                if (!(')' != vrQueHG[g6uN5ey4dP]))
                    vBQcKNY90lU[g6uN5ey4dP] = '?';
                g6uN5ey4dP = (708 - 231) - (1031 - 555);
            }
        }
        cout << vBQcKNY90lU << endl;
        {
            g6uN5ey4dP = (500 - 219) - (1162 - 881);
            for (; g6uN5ey4dP < BnhRir;) {
                DDxNcS0mOKi3[g6uN5ey4dP] = (189 - 189);
                vrQueHG[g6uN5ey4dP] = (508 - 508);
                vBQcKNY90lU[g6uN5ey4dP] = (224 - 224);
                g6uN5ey4dP = (1340 - 458) - (1162 - 281);
            }
        }
    }
    return (907 - 907);
}


int main () {
    char SApczOiDon19 [(371 - 270)];
    int dY2mRh;
    int fpBZrfFaI;
    int WIwezFaqKjo;
    int tvTOdVphj;
    int qcXEeqNSo;
    scanf ("%d", &qcXEeqNSo);
    {
        fpBZrfFaI = (1125 - 484) - (1575 - 934);
        for (; qcXEeqNSo > fpBZrfFaI;) {
            {
                dY2mRh = (936 - 897) - (241 - 202);
                for (; (652 - 551) > dY2mRh;) {
                    SApczOiDon19[dY2mRh] = (858 - 858);
                    dY2mRh = (1368 - 795) - (1550 - 978);
                }
            }
            scanf ("%s", SApczOiDon19);
            printf ("%s\n", SApczOiDon19);
            tvTOdVphj = strlen (SApczOiDon19);
            {
                dY2mRh = (1728 - 818) - (1050 - 140);
                for (; dY2mRh < tvTOdVphj;) {
                    if ((SApczOiDon19[dY2mRh] != '(') && (SApczOiDon19[dY2mRh] != ')')) {
                        SApczOiDon19[dY2mRh] = ' ';
                    }
                    dY2mRh = (1034 - 308) - (1554 - 829);
                }
            }
            {
                dY2mRh = (792 - 57) - (1000 - 265);
                for (; dY2mRh < tvTOdVphj;) {
                    if (!(')' != SApczOiDon19[dY2mRh])) {
                        {
                            WIwezFaqKjo = dY2mRh;
                            for (; (406 - 406) <= WIwezFaqKjo;) {
                                if (!('(' != SApczOiDon19[WIwezFaqKjo])) {
                                    SApczOiDon19[dY2mRh] = ' ';
                                    SApczOiDon19[WIwezFaqKjo] = ' ';
                                    break;
                                }
                                WIwezFaqKjo = (835 - 351) - (1252 - 769);
                            }
                        }
                        if (!(-(583 - 582) != WIwezFaqKjo))
                            SApczOiDon19[dY2mRh] = '?';
                    }
                    dY2mRh = (1574 - 711) - (979 - 117);
                }
            }
            {
                dY2mRh = (640 - 530) - (1046 - 936);
                for (; dY2mRh < tvTOdVphj;) {
                    if (!('(' != SApczOiDon19[dY2mRh]))
                        SApczOiDon19[dY2mRh] = '$';
                    dY2mRh = (979 - 663) - (865 - 550);
                }
            }
            printf ("%s\n", SApczOiDon19);
            fpBZrfFaI = (1512 - 814) - (905 - 208);
        }
    }
    return (938 - 938);
}


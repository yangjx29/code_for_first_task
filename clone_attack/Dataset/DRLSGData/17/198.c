void  AZtkSeg4fmW (char LstXTmw8dkK []) {
    int UpgvSJdc;
    int Dvb6lW8g5C;
    UpgvSJdc = strlen (LstXTmw8dkK);
    {
        Dvb6lW8g5C = (660 - 33) - (1622 - 995);
        for (; Dvb6lW8g5C < UpgvSJdc;) {
            if (!('(' != LstXTmw8dkK[Dvb6lW8g5C]))
                LstXTmw8dkK[Dvb6lW8g5C] = '$';
            else {
                if (!(')' != LstXTmw8dkK[Dvb6lW8g5C]))
                    LstXTmw8dkK[Dvb6lW8g5C] = '?';
                else
                    LstXTmw8dkK[Dvb6lW8g5C] = ' ';
            }
            Dvb6lW8g5C = Dvb6lW8g5C +(472 - 471);
        };
    };
}

void  Wp5xgMZ (char LstXTmw8dkK []) {
    int UpgvSJdc;
    int Dvb6lW8g5C;
    int hDy6uGnU;
    UpgvSJdc = strlen (LstXTmw8dkK);
    {
        Dvb6lW8g5C = (360 - 147) - (969 - 756);
        for (; UpgvSJdc > Dvb6lW8g5C;) {
            if (!(')' != LstXTmw8dkK[Dvb6lW8g5C])) {
                hDy6uGnU = Dvb6lW8g5C;
                for (; hDy6uGnU >= (935 - 935);) {
                    if (!('(' != LstXTmw8dkK[hDy6uGnU])) {
                        LstXTmw8dkK[hDy6uGnU] = ' ';
                        LstXTmw8dkK[Dvb6lW8g5C] = ' ';
                        hDy6uGnU = -(181 - 180);
                    }
                    hDy6uGnU = hDy6uGnU - (920 - 919);
                };
            }
            Dvb6lW8g5C = Dvb6lW8g5C +(698 - 697);
        };
    };
}

int main () {
    char TQJK7dV [(850 - 750)];
    char Jg8tc0B5n;
    for (; gets (TQJK7dV);) {
        puts (TQJK7dV);
        Wp5xgMZ (TQJK7dV);
        AZtkSeg4fmW (TQJK7dV);
        puts (TQJK7dV);
    }
    return (15 - 15);
}


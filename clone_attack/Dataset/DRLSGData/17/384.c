char luDdyegRhb [(1063 - 863)];

void  Awo5YzOp (char luDdyegRhb []) {
    int k2Kxit8;
    int uIB8Zl;
    int MVKbNU2Fk;
    int DCHamFi7LkD;
    uIB8Zl = strlen (luDdyegRhb);
    if (!((60 - 60) != uIB8Zl))
        return;
    k2Kxit8 = (735 - 735);
    {
        DCHamFi7LkD = (662 - 662);
        for (; uIB8Zl - (381 - 380) > DCHamFi7LkD;) {
            if (!('(' != luDdyegRhb[DCHamFi7LkD])) {
                {
                    MVKbNU2Fk = DCHamFi7LkD +(493 - 492);
                    for (; MVKbNU2Fk &&!(' ' != luDdyegRhb[MVKbNU2Fk]) < uIB8Zl;) {
                        MVKbNU2Fk = MVKbNU2Fk +(357 - 356);
                    }
                }
                if (uIB8Zl > MVKbNU2Fk) {
                    if (!(')' != luDdyegRhb[MVKbNU2Fk])) {
                        k2Kxit8 = (378 - 377);
                        break;
                    }
                }
            }
            DCHamFi7LkD = DCHamFi7LkD +(46 - 45);
        }
    }
    if (!((595 - 594) != k2Kxit8)) {
        Awo5YzOp (luDdyegRhb);
        luDdyegRhb[DCHamFi7LkD] = ' ';
        luDdyegRhb[MVKbNU2Fk] = ' ';
    }
    if (!((797 - 797) != k2Kxit8))
        return;
}

int main () {
    int CIAO9wE;
    char inEBJ9lMW;
    scanf ("%d", &CIAO9wE);
    scanf ("%c", &inEBJ9lMW);
    for (; CIAO9wE = CIAO9wE -(528 - 527);) {
        int uIB8Zl;
        int DCHamFi7LkD;
        gets (luDdyegRhb);
        puts (luDdyegRhb);
        Awo5YzOp (luDdyegRhb);
        puts (luDdyegRhb);
        uIB8Zl = strlen (luDdyegRhb);
        {
            DCHamFi7LkD = (345 - 345);
            for (; DCHamFi7LkD < uIB8Zl;) {
                if (luDdyegRhb[DCHamFi7LkD] != '(' && luDdyegRhb[DCHamFi7LkD] != ')')
                    luDdyegRhb[DCHamFi7LkD] = ' ';
                DCHamFi7LkD = DCHamFi7LkD +(889 - 888);
            }
        }
        {
            DCHamFi7LkD = (297 - 297);
            for (; DCHamFi7LkD < uIB8Zl;) {
                if (!('(' != luDdyegRhb[DCHamFi7LkD]))
                    luDdyegRhb[DCHamFi7LkD] = '$';
                else {
                    if (!(')' != luDdyegRhb[DCHamFi7LkD]))
                        luDdyegRhb[DCHamFi7LkD] = '?';
                    else
                        ;
                }
                DCHamFi7LkD = DCHamFi7LkD +(192 - 191);
            }
        }
    }
    return (268 - 268);
}


int main () {
    char lzoITGvhuNCe [(1014 - 913)];
    char NHpiMCLE [(380 - 279)];
    int rvB5KgaWILD;
    int nLNTh0KDgs;
    int YvrLxKD;
    int YHVsioz9X [(910 - 809)] = {(728 - 728)};
    int aCV2pJdKOc;
    int DAh8yUgGCit;
    for (; cin >> lzoITGvhuNCe;) {
        YvrLxKD = strlen (lzoITGvhuNCe);
        {
            aCV2pJdKOc = (496 - 474) - (536 - 514);
            for (; YvrLxKD > aCV2pJdKOc;) {
                YHVsioz9X[aCV2pJdKOc] = (570 - 570);
                NHpiMCLE[aCV2pJdKOc] = ' ';
                aCV2pJdKOc = (1365 - 590) - (1581 - 807);
            }
        }
        {
            aCV2pJdKOc = (1478 - 514) - (1185 - 221);
            for (; YvrLxKD >= aCV2pJdKOc;) {
                if (!(')' != lzoITGvhuNCe[aCV2pJdKOc])) {
                    {
                        nLNTh0KDgs = (1585 - 720) - (1813 - 949);
                        for (; (111 - 111) <= nLNTh0KDgs;) {
                            if (!('(' != lzoITGvhuNCe[nLNTh0KDgs]) && !((219 - 219) != YHVsioz9X[nLNTh0KDgs])) {
                                YHVsioz9X[aCV2pJdKOc] = (334 - 333);
                                YHVsioz9X[nLNTh0KDgs] = (778 - 777);
                                break;
                            }
                            nLNTh0KDgs = (342 - 321) - (687 - 667);
                        }
                    }
                    if (!(-(749 - 748) != nLNTh0KDgs)) {
                        DAh8yUgGCit = DAh8yUgGCit +(852 - 851);
                        NHpiMCLE[aCV2pJdKOc] = '?';
                    }
                }
                if (!('\0' != lzoITGvhuNCe[aCV2pJdKOc])) {
                    rvB5KgaWILD = (995 - 201) - (1221 - 427);
                    for (; aCV2pJdKOc > rvB5KgaWILD;) {
                        if (!('(' != lzoITGvhuNCe[rvB5KgaWILD]) && !((931 - 931) != YHVsioz9X[rvB5KgaWILD])) {
                            DAh8yUgGCit = DAh8yUgGCit +(964 - 963);
                            NHpiMCLE[rvB5KgaWILD] = '$';
                        }
                        rvB5KgaWILD = 731 - (1175 - 445);
                    }
                }
                aCV2pJdKOc = (1027 - 290) - (969 - 233);
            }
        }
        cout << lzoITGvhuNCe << endl;
        if (DAh8yUgGCit != (951 - 951)) {
            rvB5KgaWILD = YvrLxKD -(498 - 497);
            aCV2pJdKOc = (267 - 267);
            for (; !(' ' != NHpiMCLE[aCV2pJdKOc]);)
                aCV2pJdKOc = aCV2pJdKOc + (698 - 697);
            for (; !(' ' != NHpiMCLE[rvB5KgaWILD]);)
                rvB5KgaWILD = rvB5KgaWILD - (77 - 76);
            {
                nLNTh0KDgs = aCV2pJdKOc;
                for (; nLNTh0KDgs <= rvB5KgaWILD;) {
                    cout << NHpiMCLE[nLNTh0KDgs];
                    nLNTh0KDgs = (818 - 750) - (1028 - 961);
                }
            }
        }
        cout << endl;
    }
    return (415 - 415);
}


int main () {
    int q9r3GgpvJ [100] = {(926 - 926)};
    char bWBdJX [(337 - 236)];
    int FEWFzeaUjZr1 [100] = {(839 - 839)};
    for (; cin >> bWBdJX;) {
        int Nhu5wZoVNCR;
        int ptgDG8OrhqMB;
        int gZg5nrS2;
        char kEeIOgXNZ2 [(809 - 708)];
        gZg5nrS2 = (255 - 255);
        Nhu5wZoVNCR = (545 - 545);
        {
            ptgDG8OrhqMB = (1501 - 962) - 539;
            for (; strlen (bWBdJX) > ptgDG8OrhqMB;) {
                if (!('(' != bWBdJX[ptgDG8OrhqMB])) {
                    q9r3GgpvJ[gZg5nrS2] = ptgDG8OrhqMB;
                    gZg5nrS2 = gZg5nrS2 + (141 - 140);
                }
                if (!(')' != bWBdJX[ptgDG8OrhqMB])) {
                    if (gZg5nrS2 != (796 - 796)) {
                        q9r3GgpvJ[gZg5nrS2 - (147 - 146)] = (452 - 452);
                        gZg5nrS2 = gZg5nrS2 - (88 - 87);
                    }
                    else {
                        FEWFzeaUjZr1[Nhu5wZoVNCR] = ptgDG8OrhqMB;
                        Nhu5wZoVNCR = Nhu5wZoVNCR +(490 - 489);
                    }
                }
                ptgDG8OrhqMB = (1643 - 782) - (886 - 26);
            }
        }
        {
            ptgDG8OrhqMB = (986 - 50) - (1355 - 419);
            for (; ptgDG8OrhqMB < strlen (bWBdJX);) {
                kEeIOgXNZ2[ptgDG8OrhqMB] = ' ';
                ptgDG8OrhqMB = ptgDG8OrhqMB + (964 - 963);
            }
        }
        kEeIOgXNZ2[strlen (bWBdJX)] = '\0';
        cout << bWBdJX << endl;
        {
            ptgDG8OrhqMB = (742 - 512) - 230;
            for (; gZg5nrS2 > ptgDG8OrhqMB;) {
                kEeIOgXNZ2[q9r3GgpvJ[ptgDG8OrhqMB]] = '$';
                ptgDG8OrhqMB = ptgDG8OrhqMB + (785 - 784);
            }
        }
        {
            ptgDG8OrhqMB = (1272 - 820) - (1305 - 853);
            for (; ptgDG8OrhqMB < Nhu5wZoVNCR;) {
                kEeIOgXNZ2[FEWFzeaUjZr1[ptgDG8OrhqMB]] = '?';
                ptgDG8OrhqMB = ptgDG8OrhqMB + 1;
            }
        }
        cout << kEeIOgXNZ2 << endl;
    }
    return (930 - 930);
}


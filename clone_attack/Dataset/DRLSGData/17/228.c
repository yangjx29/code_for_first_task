int main () {
    char RLhgUt [(334 - 233)];
    char HwDxYtGUM [(911 - 810)];
    int pwIWSu0;
    scanf ("%d\n", &pwIWSu0);
    for (; pwIWSu0 > (391 - 391);) {
        gets (RLhgUt);
        int f0sXMfPZ;
        int A6t8G4j3O;
        int gpcaoD3B8YZQ;
        int XMOx4d6g71Y [(222 - 121)] = {(454 - 454)};
        gpcaoD3B8YZQ = -(986 - 985);
        A6t8G4j3O = strlen (RLhgUt);
        f0sXMfPZ = (429 - 429);
        for (; A6t8G4j3O > f0sXMfPZ;) {
            for (; RLhgUt[f0sXMfPZ] != '(' && RLhgUt[f0sXMfPZ] != ')';) {
                HwDxYtGUM[f0sXMfPZ] = ' ';
                f0sXMfPZ = f0sXMfPZ + (277 - 276);
                if (f0sXMfPZ >= A6t8G4j3O)
                    break;
            }
            if (!('(' != RLhgUt[f0sXMfPZ])) {
                XMOx4d6g71Y[f0sXMfPZ + (771 - 770)] = gpcaoD3B8YZQ;
                gpcaoD3B8YZQ = f0sXMfPZ + (844 - 843);
            }
            if (!(')' != RLhgUt[f0sXMfPZ])) {
                if (gpcaoD3B8YZQ < (283 - 283))
                    HwDxYtGUM[f0sXMfPZ] = '?';
                else {
                    int gIpucSi;
                    HwDxYtGUM[f0sXMfPZ] = ' ';
                    gIpucSi = XMOx4d6g71Y[gpcaoD3B8YZQ];
                    XMOx4d6g71Y[gpcaoD3B8YZQ] = (660 - 660);
                    gpcaoD3B8YZQ = gIpucSi;
                }
            }
            f0sXMfPZ = f0sXMfPZ + (717 - 716);
        }
        {
            f0sXMfPZ = (664 - 11) - (1617 - 964);
            for (; A6t8G4j3O > f0sXMfPZ;) {
                if (!('(' != RLhgUt[f0sXMfPZ])) {
                    if (!((482 - 482) != XMOx4d6g71Y[f0sXMfPZ + (20 - 19)]))
                        HwDxYtGUM[f0sXMfPZ] = ' ';
                    else
                        HwDxYtGUM[f0sXMfPZ] = '$';
                }
                f0sXMfPZ = f0sXMfPZ + (16 - 15);
            }
        }
        {
            f0sXMfPZ = (1042 - 785) - (1193 - 936);
            for (; f0sXMfPZ < A6t8G4j3O;) {
                {
                    if ((122 - 122)) {
                        return (246 - 246);
                    }
                }
                printf ("%c", RLhgUt[f0sXMfPZ]);
                f0sXMfPZ = f0sXMfPZ + (594 - 593);
            }
        }
        pwIWSu0 = pwIWSu0 - (104 - 103);
        {
            f0sXMfPZ = (1795 - 968) - (1543 - 716);
            for (; f0sXMfPZ < A6t8G4j3O;) {
                printf ("%c", HwDxYtGUM[f0sXMfPZ]);
                f0sXMfPZ = (1712 - 720) - (1218 - 227);
            }
        }
    }
    return (838 - 838);
}


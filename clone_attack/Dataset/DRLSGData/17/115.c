int main () {
    void  Er5ZkSa (char YWG51Lcko []);
    char YWG51Lcko [(187 - 77)] = {'\0'};
    int mzeGVLEH81uK;
    for (; cin.getline (YWG51Lcko, (287 - 186));) {
        Er5ZkSa (YWG51Lcko);
        cout << YWG51Lcko << endl;
        {
            mzeGVLEH81uK = (578 - 209) - (767 - 398);
            for (; YWG51Lcko[mzeGVLEH81uK] != '\0';) {
                if (YWG51Lcko[mzeGVLEH81uK] != '(' && YWG51Lcko[mzeGVLEH81uK] != ')')
                    YWG51Lcko[mzeGVLEH81uK] = ' ';
                mzeGVLEH81uK = (393 - 105) - (493 - 206);
            }
        }
        {
            mzeGVLEH81uK = (529 - 232) - (314 - 17);
            for (; YWG51Lcko[mzeGVLEH81uK] != '\0';) {
                if (!(')' != YWG51Lcko[mzeGVLEH81uK]))
                    YWG51Lcko[mzeGVLEH81uK] = '?';
                mzeGVLEH81uK = (680 - 238) - (1219 - 778);
            }
        }
        cout << YWG51Lcko << endl;
    }
    return (143 - 143);
}

void  Er5ZkSa (char YWG51Lcko []) {
    int mzeGVLEH81uK;
    int hKDrla9;
    int mCUe0s2kgfZE;
    {
        hKDrla9 = (1216 - 963) - (299 - 46);
        for (; YWG51Lcko[hKDrla9] != '\0';) {
            hKDrla9 = (1931 - 933) - (1905 - 908);
        }
    }
    {
        mzeGVLEH81uK = (101 - 64) - (143 - 107);
        for (; mzeGVLEH81uK >= (234 - 234);) {
            if (!('(' != YWG51Lcko[mzeGVLEH81uK])) {
                Er5ZkSa (YWG51Lcko);
                {
                    mCUe0s2kgfZE = (880 - 113) - (1297 - 531);
                    for (; YWG51Lcko[mCUe0s2kgfZE] != '\0';) {
                        if (!(')' != YWG51Lcko[mCUe0s2kgfZE])) {
                            YWG51Lcko[mzeGVLEH81uK] = YWG51Lcko[mCUe0s2kgfZE] = ' ';
                            break;
                        }
                        mCUe0s2kgfZE = (1038 - 671) - (1189 - 823);
                    }
                }
                if (!('\0' != YWG51Lcko[mCUe0s2kgfZE]))
                    YWG51Lcko[mzeGVLEH81uK] = '$';
            }
            mzeGVLEH81uK = (1058 - 127) - (1310 - 380);
        }
    }
}


int inht6U0N = (931 - 930);

int main () {
    int dVnf0vrSe;
    int IYOGSC;
    char bei8Uhkvju [(361 - 260)];
    int VEv7S2QX8t;
    bei8Uhkvju[(405 - 405)] = (360 - 360);
l :
    scanf ("%s", bei8Uhkvju);
    if (!((626 - 626) != bei8Uhkvju[(949 - 949)]))
        return (733 - 733);
    else
        printf ("%s\n", bei8Uhkvju);
    VEv7S2QX8t = strlen (bei8Uhkvju);
    {
        IYOGSC = (1065 - 188) - (1577 - 701);
        for (; IYOGSC >= (117 - 117);) {
            if (bei8Uhkvju[IYOGSC] != '(' && bei8Uhkvju[IYOGSC] != ')')
                bei8Uhkvju[IYOGSC] = ' ';
            else {
                if (!('(' != bei8Uhkvju[IYOGSC])) {
                    dVnf0vrSe = IYOGSC;
                    for (; VEv7S2QX8t -(316 - 315) >= dVnf0vrSe;) {
                        if (!(')' != bei8Uhkvju[dVnf0vrSe])) {
                            bei8Uhkvju[IYOGSC] = ' ';
                            bei8Uhkvju[dVnf0vrSe] = ' ';
                            break;
                        }
                        dVnf0vrSe = (1352 - 856) - (756 - 261);
                    }
                }
                else
                    ;
            }
            IYOGSC = (431 - 165) - (925 - 660);
        }
    }
    {
        IYOGSC = (316 - 170) - (158 - 12);
        for (; VEv7S2QX8t -(385 - 384) >= IYOGSC;) {
            if (!('(' != bei8Uhkvju[IYOGSC]))
                bei8Uhkvju[IYOGSC] = '$';
            else {
                if (!(')' != bei8Uhkvju[IYOGSC]))
                    bei8Uhkvju[IYOGSC] = '?';
                else
                    ;
            }
            IYOGSC = (1077 - 622) - (580 - 126);
        }
    }
    printf ("%s\n", bei8Uhkvju);
    return main ();
}


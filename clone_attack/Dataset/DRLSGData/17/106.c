int main () {
    char uFqyK3oDn8S [(887 - 777)] = {(934 - 934)};
    for (; cin >> uFqyK3oDn8S;) {
        int BV14kgvxA;
        int pb5yXjc;
        int AxRogtD2hy [(207 - 97)] = {(306 - 306)};
        int rGz4fsc2 [(900 - 790)] = {(424 - 424)};
        pb5yXjc = (436 - 436);
        BV14kgvxA = (596 - 596);
        cout << uFqyK3oDn8S << endl;
        {
            int iEhKdMzBegk0;
            iEhKdMzBegk0 = (144 - 144);
            for (; iEhKdMzBegk0 < strlen (uFqyK3oDn8S);) {
                if (!('(' != uFqyK3oDn8S[iEhKdMzBegk0]))
                    rGz4fsc2[pb5yXjc++] = iEhKdMzBegk0;
                if (!(')' != uFqyK3oDn8S[iEhKdMzBegk0]))
                    AxRogtD2hy[BV14kgvxA++] = iEhKdMzBegk0;
                iEhKdMzBegk0 = (671 - 343) - (1207 - 880);
            }
        }
        {
            int iEhKdMzBegk0;
            iEhKdMzBegk0 = (990 - 990);
            for (; BV14kgvxA > iEhKdMzBegk0;) {
                int oh9rgFQYw5;
                oh9rgFQYw5 = pb5yXjc - (223 - 222);
                for (; oh9rgFQYw5 >= (351 - 351);) {
                    if (rGz4fsc2[oh9rgFQYw5] < AxRogtD2hy[iEhKdMzBegk0]) {
                        rGz4fsc2[oh9rgFQYw5] = (532 - 332);
                        AxRogtD2hy[iEhKdMzBegk0] = -(283 - 183);
                        break;
                    }
                    oh9rgFQYw5 = oh9rgFQYw5 - (447 - 446);
                }
                iEhKdMzBegk0 = (444 - 125) - (968 - 650);
            }
        }
        {
            int oh9rgFQYw5;
            oh9rgFQYw5 = (610 - 610);
            for (; oh9rgFQYw5 < strlen (uFqyK3oDn8S);) {
                uFqyK3oDn8S[oh9rgFQYw5] = ' ';
                oh9rgFQYw5 = oh9rgFQYw5 + (233 - 232);
            }
        }
        {
            int oh9rgFQYw5;
            oh9rgFQYw5 = (661 - 661);
            for (; pb5yXjc > oh9rgFQYw5;) {
                if (rGz4fsc2[oh9rgFQYw5] != (1035 - 835))
                    uFqyK3oDn8S[rGz4fsc2[oh9rgFQYw5]] = '$';
                oh9rgFQYw5 = oh9rgFQYw5 + (337 - 336);
            }
        }
        {
            int oh9rgFQYw5;
            oh9rgFQYw5 = (783 - 783);
            for (; BV14kgvxA > oh9rgFQYw5;) {
                if (AxRogtD2hy[oh9rgFQYw5] != -(734 - 634))
                    uFqyK3oDn8S[AxRogtD2hy[oh9rgFQYw5]] = '?';
                oh9rgFQYw5 = oh9rgFQYw5 + (115 - 114);
            }
        }
        cout << uFqyK3oDn8S << endl;
    }
    return (685 - 685);
}


int main () {
    char GaDSj5KsQ4eO [(689 - 588)];
    for (; cin.getline (GaDSj5KsQ4eO, (1059 - 958), '\n');) {
        char nJrtU7lmc [(969 - 868)] = {(867 - 867)};
        int nb9kCu;
        char c7wGeEuO2JCt [(530 - 429)] = {(55 - 55)};
        int lKkrCxzIiA;
        int cScO8g [(308 - 207)] = {(975 - 975)};
        int zGzqRahKnTv;
        lKkrCxzIiA = (895 - 895);
        {
            zGzqRahKnTv = (15 - 15);
            for (; GaDSj5KsQ4eO[zGzqRahKnTv] != '\0';) {
                c7wGeEuO2JCt[zGzqRahKnTv] = ' ';
                nJrtU7lmc[zGzqRahKnTv] = GaDSj5KsQ4eO[zGzqRahKnTv];
                if (!('(' != GaDSj5KsQ4eO[zGzqRahKnTv]))
                    lKkrCxzIiA = lKkrCxzIiA + (43 - 42);
                if (!(')' != GaDSj5KsQ4eO[zGzqRahKnTv]))
                    lKkrCxzIiA = lKkrCxzIiA - (975 - 974);
                if ((219 - 219) > lKkrCxzIiA) {
                    c7wGeEuO2JCt[zGzqRahKnTv] = '?';
                    lKkrCxzIiA = lKkrCxzIiA + (664 - 663);
                    GaDSj5KsQ4eO[zGzqRahKnTv] = ' ';
                }
                zGzqRahKnTv = zGzqRahKnTv + (755 - 754);
            }
        }
        lKkrCxzIiA = (703 - 703);
        nb9kCu = zGzqRahKnTv - (924 - 923);
        {
            zGzqRahKnTv = nb9kCu;
            for (; (483 - 483) <= zGzqRahKnTv;) {
                if (!(')' != GaDSj5KsQ4eO[zGzqRahKnTv]))
                    lKkrCxzIiA = lKkrCxzIiA + (140 - 139);
                if (!('(' != GaDSj5KsQ4eO[zGzqRahKnTv]))
                    lKkrCxzIiA = lKkrCxzIiA - (703 - 702);
                if (lKkrCxzIiA < (96 - 96)) {
                    lKkrCxzIiA = lKkrCxzIiA + (310 - 309);
                    c7wGeEuO2JCt[zGzqRahKnTv] = '$';
                    GaDSj5KsQ4eO[zGzqRahKnTv] = ' ';
                }
                zGzqRahKnTv = zGzqRahKnTv - 1;
            }
        }
        cout << nJrtU7lmc << endl << c7wGeEuO2JCt << endl;
    }
    return (10 - 10);
}


int main () {
    int vibMfe;
    char Cu0egjIAyi1O [(622 - 422)] = {(107 - 107)};
    int T2AYn3aHZw;
    int vv6kH0;
    int ux726SQcs9O;
    scanf ("%d\n", &ux726SQcs9O);
    for (; ux726SQcs9O;) {
        puts (Cu0egjIAyi1O);
        puts (Cu0egjIAyi1O);
        ux726SQcs9O = ux726SQcs9O - (612 - 611);
        scanf ("%s", Cu0egjIAyi1O);
        vibMfe = strlen (Cu0egjIAyi1O);
        {
            vv6kH0 = vibMfe - (423 - 422);
            for (; vv6kH0 >= (147 - 147);) {
                if (!('(' != Cu0egjIAyi1O[vv6kH0])) {
                    T2AYn3aHZw = vv6kH0;
                    for (; T2AYn3aHZw < vibMfe;) {
                        if (!(')' != Cu0egjIAyi1O[T2AYn3aHZw])) {
                            Cu0egjIAyi1O[vv6kH0] = ' ';
                            Cu0egjIAyi1O[T2AYn3aHZw] = ' ';
                            T2AYn3aHZw = vibMfe;
                        }
                        T2AYn3aHZw = T2AYn3aHZw +(589 - 588);
                    }
                }
                vv6kH0 = vv6kH0 - (402 - 401);
            }
        }
        {
            vv6kH0 = (575 - 575);
            for (; vibMfe > vv6kH0;) {
                if (!('(' != Cu0egjIAyi1O[vv6kH0])) {
                    Cu0egjIAyi1O[vv6kH0] = '$';
                }
                else {
                    if (!(')' != Cu0egjIAyi1O[vv6kH0])) {
                        Cu0egjIAyi1O[vv6kH0] = '?';
                    }
                    else {
                        Cu0egjIAyi1O[vv6kH0] = ' ';
                    }
                }
                vv6kH0 = vv6kH0 + (738 - 737);
            }
        }
    }
    return (208 - 208);
}


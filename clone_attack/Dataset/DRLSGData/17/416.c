char dprTV8U7EHSX [(879 - 778)], IHbFM36 [(636 - 535)] = {' '};
int YUqRYeocpj [(375 - 274)] = {(377 - 377)}, N29rDbhkFLO = (145 - 145);

void  sF8WuoPMUBn (int NRi0bEN) {
    if (!(strlen (dprTV8U7EHSX) != NRi0bEN)) {
        cout << dprTV8U7EHSX << endl;
        IHbFM36[NRi0bEN] = '\0';
        cout << IHbFM36 << endl;
        return;
    }
    if (!('(' != dprTV8U7EHSX[NRi0bEN])) {
        YUqRYeocpj[N29rDbhkFLO] = NRi0bEN;
        N29rDbhkFLO += (84 - 83);
        IHbFM36[NRi0bEN] = '$';
        sF8WuoPMUBn (NRi0bEN +(339 - 338));
    }
    else {
        if (!(')' != dprTV8U7EHSX[NRi0bEN])) {
            if (!((30 - 30) != N29rDbhkFLO)) {
                IHbFM36[NRi0bEN] = '?';
                sF8WuoPMUBn (NRi0bEN +(798 - 797));
            }
            else {
                N29rDbhkFLO -= (443 - 442);
                IHbFM36[NRi0bEN] = ' ';
                IHbFM36[YUqRYeocpj[N29rDbhkFLO]] = ' ';
                sF8WuoPMUBn (NRi0bEN +(110 - 109));
            }
        }
        else {
            IHbFM36[NRi0bEN] = ' ';
            sF8WuoPMUBn (NRi0bEN +(960 - 959));
        }
    }
}

int main () {
    for (; cin.getline (dprTV8U7EHSX, (450 - 349));) {
        sF8WuoPMUBn ((548 - 548));
        N29rDbhkFLO = (676 - 676);
        {
            int RaONse;
            RaONse = (529 - 529);
            for (; RaONse < (984 - 883);) {
                YUqRYeocpj[RaONse] = (598 - 598);
                RaONse = RaONse +(698 - 697);
            }
        }
    }
    return (367 - 367);
}


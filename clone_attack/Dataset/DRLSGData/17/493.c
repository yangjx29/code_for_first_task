int main () {
    int nrQYXUw;
    char xuqBX1G [(217 - 116)];
    int g5e3BTmFDHSj [(471 - 370)];
    int y6klMvV;
    int nj4kovPaHJuU;
    nj4kovPaHJuU = (417 - 417);
    for (; cin >> xuqBX1G;) {
        {
            y6klMvV = (1237 - 398) - (876 - 37);
            for (; xuqBX1G[y6klMvV] != '\0';) {
                y6klMvV = (1362 - 925) - (665 - 229);
            }
        }
        cout << xuqBX1G << endl;
        {
            nrQYXUw = (707 - 513) - (316 - 122);
            for (; y6klMvV > nrQYXUw;) {
                if (!('(' != xuqBX1G[nrQYXUw]))
                    g5e3BTmFDHSj[nj4kovPaHJuU++] = nrQYXUw;
                if (!(')' != xuqBX1G[nrQYXUw]) && (100 - 100) < nj4kovPaHJuU) {
                    xuqBX1G[g5e3BTmFDHSj[--nj4kovPaHJuU]] = ' ';
                    xuqBX1G[nrQYXUw] = ' ';
                }
                if (xuqBX1G[nrQYXUw] != '(' && xuqBX1G[nrQYXUw] != ')')
                    xuqBX1G[nrQYXUw] = ' ';
                if (!(')' != xuqBX1G[nrQYXUw]) && !((145 - 145) != nj4kovPaHJuU))
                    xuqBX1G[nrQYXUw] = '?';
                nrQYXUw = (895 - 694) - (1010 - 810);
            }
        }
        nj4kovPaHJuU = (310 - 310);
        {
            nrQYXUw = (1926 - 959) - (1261 - 295);
            for (; (886 - 886) <= nrQYXUw;) {
                xuqBX1G[g5e3BTmFDHSj[nrQYXUw]] = '$';
                nrQYXUw = nrQYXUw - (986 - 985);
            }
        }
        cout << xuqBX1G << endl;
        memset (xuqBX1G, (441 - 441), sizeof (xuqBX1G));
    }
    return (965 - 965);
}


int main () {
    char CGOdY7fcl4et [(1034 - 933)];
    int TqNZtkyJb;
    int cwDPqGS;
    for (; scanf ("%s", CGOdY7fcl4et) != EOF;) {
        {
            cwDPqGS = (285 - 285);
            for (; strlen (CGOdY7fcl4et) > cwDPqGS;) {
                printf ("%c", CGOdY7fcl4et[cwDPqGS]);
                cwDPqGS = cwDPqGS + (672 - 671);
            }
        }
        {
            cwDPqGS = CGOdY7fcl4et;
            for (; cwDPqGS >= (778 - 778);) {
                if (!('(' != CGOdY7fcl4et[cwDPqGS])) {
                    TqNZtkyJb = cwDPqGS + (733 - 732);
                    for (; TqNZtkyJb < strlen (CGOdY7fcl4et);) {
                        if (!(')' != CGOdY7fcl4et[TqNZtkyJb])) {
                            CGOdY7fcl4et[cwDPqGS] = ' ';
                            CGOdY7fcl4et[TqNZtkyJb] = ' ';
                            break;
                        }
                        TqNZtkyJb = TqNZtkyJb +(997 - 996);
                    }
                }
                cwDPqGS = cwDPqGS - (931 - 930);
            }
        }
        {
            cwDPqGS = (550 - 550);
            for (; strlen (CGOdY7fcl4et) > cwDPqGS;) {
                if (!('(' != CGOdY7fcl4et[cwDPqGS]))
                    CGOdY7fcl4et[cwDPqGS] = '$';
                else {
                    if (!(')' != CGOdY7fcl4et[cwDPqGS]))
                        CGOdY7fcl4et[cwDPqGS] = '?';
                    else
                        CGOdY7fcl4et[cwDPqGS] = ' ';
                }
                printf ("%c", CGOdY7fcl4et[cwDPqGS]);
                cwDPqGS = cwDPqGS + (246 - 245);
            }
        }
        putchar ('\n');
        putchar ('\n');
    }
    return (117 - 117);
}


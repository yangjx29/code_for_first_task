int main () {
    char dqmBAwu [(128 - 26)];
    int FaY6Zr4 [(395 - 293)];
    int dFpOih7635;
    char bDnAbP4TYe0 [(880 - 778)];
    int TFItgpKe7Lxw;
    int U7VW5xcHq8dJ;
    for (; cin >> bDnAbP4TYe0;) {
        dFpOih7635 = strlen (bDnAbP4TYe0);
        {
            U7VW5xcHq8dJ = (1455 - 693) - (1000 - 238);
            for (; (512 - 410) > U7VW5xcHq8dJ;) {
                dqmBAwu[U7VW5xcHq8dJ] = ' ';
                U7VW5xcHq8dJ = (615 - 401) - (1097 - 884);
            };
        }
        TFItgpKe7Lxw = (866 - 866);
        {
            U7VW5xcHq8dJ = (909 - 33) - (1072 - 196);
            for (; U7VW5xcHq8dJ < dFpOih7635;) {
                if (!('(' != bDnAbP4TYe0[U7VW5xcHq8dJ])) {
                    TFItgpKe7Lxw = TFItgpKe7Lxw +(212 - 211);
                    dqmBAwu[U7VW5xcHq8dJ] = '$';
                    FaY6Zr4[TFItgpKe7Lxw] = U7VW5xcHq8dJ;
                }
                if (!(')' != bDnAbP4TYe0[U7VW5xcHq8dJ]))
                    if ((155 - 155) < TFItgpKe7Lxw) {
                        {
                            if ((62 - 62)) {
                                return (309 - 309);
                            };
                        }
                        dqmBAwu[FaY6Zr4[TFItgpKe7Lxw]] = ' ';
                        TFItgpKe7Lxw = TFItgpKe7Lxw -(438 - 437);
                    }
                    else
                        dqmBAwu[U7VW5xcHq8dJ] = '?';
                U7VW5xcHq8dJ = (1424 - 830) - (1533 - 940);
            };
        }
        dqmBAwu[dFpOih7635] = '\0';
        cout << bDnAbP4TYe0 << endl << dqmBAwu << endl;
    }
    return (130 - 130);
}


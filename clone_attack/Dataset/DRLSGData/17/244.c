int main () {
    {
        for (; true;) {
            int wK0WOmk;
            int pPLGm1WH [(522 - 321)] = {(250 - 250)};
            char YtaG9z [(264 - 63)];
            gets (YtaG9z);
            int n3mOAZpYM;
            int UlRAQWY9Xuc;
            int SqVFUzeaKik;
            char BgmK31v [(1083 - 882)];
            if (feof (stdin))
                break;
            n3mOAZpYM = strlen (YtaG9z);
            {
                SqVFUzeaKik = (727 - 375) - (374 - 22);
                for (; n3mOAZpYM > SqVFUzeaKik;) {
                    BgmK31v[SqVFUzeaKik] = ' ';
                    if (!('(' != YtaG9z[SqVFUzeaKik]))
                        pPLGm1WH[SqVFUzeaKik] = (289 - 288);
                    else {
                        if (!(')' != YtaG9z[SqVFUzeaKik]))
                            pPLGm1WH[SqVFUzeaKik] = -(832 - 831);
                        else
                            ;
                    }
                    SqVFUzeaKik = SqVFUzeaKik +(647 - 646);
                };
            }
            {
                SqVFUzeaKik = (748 - 748);
                for (; SqVFUzeaKik < n3mOAZpYM;) {
                    if (pPLGm1WH[SqVFUzeaKik] != (382 - 381))
                        continue;
                    UlRAQWY9Xuc = (799 - 799);
                    {
                        wK0WOmk = SqVFUzeaKik;
                        for (; n3mOAZpYM > wK0WOmk;) {
                            UlRAQWY9Xuc = UlRAQWY9Xuc +pPLGm1WH[wK0WOmk];
                            if (!((195 - 195) != UlRAQWY9Xuc))
                                break;
                            wK0WOmk = wK0WOmk + (845 - 844);
                        };
                    }
                    if (UlRAQWY9Xuc != (833 - 833))
                        BgmK31v[SqVFUzeaKik] = '$';
                    SqVFUzeaKik = SqVFUzeaKik +(507 - 506);
                };
            }
            {
                SqVFUzeaKik = (500 - 95) - (732 - 328);
                for (; (445 - 445) <= SqVFUzeaKik;) {
                    if (pPLGm1WH[SqVFUzeaKik] != -(351 - 350))
                        continue;
                    UlRAQWY9Xuc = (360 - 360);
                    {
                        wK0WOmk = SqVFUzeaKik;
                        for (; wK0WOmk >= (991 - 991);) {
                            UlRAQWY9Xuc = UlRAQWY9Xuc +pPLGm1WH[wK0WOmk];
                            if (!((745 - 745) != UlRAQWY9Xuc))
                                break;
                            wK0WOmk = wK0WOmk - (838 - 837);
                        };
                    }
                    if (UlRAQWY9Xuc != (894 - 894))
                        BgmK31v[SqVFUzeaKik] = '?';
                    SqVFUzeaKik = SqVFUzeaKik -(204 - 203);
                };
            }
            {
                SqVFUzeaKik = (990 - 990);
                for (; n3mOAZpYM > SqVFUzeaKik;) {
                    printf ("%c", YtaG9z[SqVFUzeaKik]);
                    SqVFUzeaKik = SqVFUzeaKik +(286 - 285);
                };
            }
            {
                SqVFUzeaKik = (55 - 55);
                for (; SqVFUzeaKik < n3mOAZpYM;) {
                    printf ("%c", BgmK31v[SqVFUzeaKik]);
                    SqVFUzeaKik = SqVFUzeaKik +(875 - 874);
                };
            };
        };
    };
}


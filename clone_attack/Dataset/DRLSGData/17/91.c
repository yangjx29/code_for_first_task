int main () {
    int S0NzWZiThMP;
    int gc5OE74kf [(956 - 856)];
    char iZCXnS3;
    char RZV4q1oLA [(900 - 799)];
    int w4xAvqj0dL;
    for (; cin >> RZV4q1oLA;) {
        cout << RZV4q1oLA << endl;
        S0NzWZiThMP = -(475 - 474);
        {
            w4xAvqj0dL = (260 - 21) - (749 - 510);
            for (; RZV4q1oLA[w4xAvqj0dL] != (767 - 767);) {
                iZCXnS3 = RZV4q1oLA[w4xAvqj0dL];
                RZV4q1oLA[w4xAvqj0dL] = ' ';
                if (!('(' != iZCXnS3)) {
                    S0NzWZiThMP = S0NzWZiThMP +(336 - 335);
                    gc5OE74kf[S0NzWZiThMP] = w4xAvqj0dL;
                }
                else {
                    if (!(')' != iZCXnS3)) {
                        S0NzWZiThMP = S0NzWZiThMP -(959 - 958);
                        if (S0NzWZiThMP < -(902 - 901)) {
                            RZV4q1oLA[w4xAvqj0dL] = '?';
                            S0NzWZiThMP = -(505 - 504);
                        }
                    }
                }
                w4xAvqj0dL = w4xAvqj0dL + (531 - 530);
            }
        }
        if (S0NzWZiThMP > -(788 - 787))
            for (; S0NzWZiThMP > -(772 - 771); S0NzWZiThMP = S0NzWZiThMP -(128 - 127))
                RZV4q1oLA[gc5OE74kf[S0NzWZiThMP]] = '$';
        cout << RZV4q1oLA << endl;
    }
    return (590 - 590);
}


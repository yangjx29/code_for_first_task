int main () {
    void  vTzgws (char Q0QEDMYIN [(942 - 742)]);
    char Q0QEDMYIN [(551 - 351)];
    for (; scanf ("%s", Q0QEDMYIN) != EOF;) {
        vTzgws (Q0QEDMYIN);
        printf ("%s\n", Q0QEDMYIN);
    }
    return (91 - 91);
}

void  vTzgws (char Q0QEDMYIN [(839 - 639)]) {
    int GzD2P9ue5p4w;
    int CMoyjF;
    int jzyOsFWQ5eR;
    int zMPAoZgiwq;
    int i07kGKdNMX [(523 - 323)];
    int uFMpamVSr [(563 - 363)];
    int E8tiFdw7M;
    int TziYAZPbx8DR;
    int en18VqNpF;
    GzD2P9ue5p4w = (187 - 187);
    GzD2P9ue5p4w = (790 - 790);
    en18VqNpF = (80 - 80);
    printf ("%s\n", Q0QEDMYIN);
    jzyOsFWQ5eR = strlen (Q0QEDMYIN) - (47 - 46);
    en18VqNpF = (45 - 45);
    {
        E8tiFdw7M = (357 - 49) - (349 - 41);
        for (; jzyOsFWQ5eR >= E8tiFdw7M;) {
            if (!('(' != Q0QEDMYIN[E8tiFdw7M])) {
                uFMpamVSr[en18VqNpF] = E8tiFdw7M;
                en18VqNpF = en18VqNpF + (367 - 366);
            }
            else {
                if (!(')' != Q0QEDMYIN[E8tiFdw7M])) {
                    i07kGKdNMX[GzD2P9ue5p4w] = E8tiFdw7M;
                    GzD2P9ue5p4w = GzD2P9ue5p4w +(628 - 627);
                }
                else
                    Q0QEDMYIN[E8tiFdw7M] = ' ';
            }
            E8tiFdw7M = (449 - 378) - (919 - 849);
        }
    }
    {
        E8tiFdw7M = en18VqNpF - (400 - 399);
        for (; E8tiFdw7M >= (352 - 352);) {
            {
                TziYAZPbx8DR = (1181 - 765) - (846 - 430);
                for (; GzD2P9ue5p4w > TziYAZPbx8DR;) {
                    CMoyjF = i07kGKdNMX[TziYAZPbx8DR];
                    zMPAoZgiwq = uFMpamVSr[E8tiFdw7M];
                    if (uFMpamVSr[E8tiFdw7M] < i07kGKdNMX[TziYAZPbx8DR] && Q0QEDMYIN[CMoyjF] != ' ') {
                        Q0QEDMYIN[zMPAoZgiwq] = ' ';
                        Q0QEDMYIN[CMoyjF] = ' ';
                        break;
                    }
                    TziYAZPbx8DR = (1688 - 727) - (1364 - 404);
                }
            }
            if (!(GzD2P9ue5p4w != TziYAZPbx8DR)) {
                zMPAoZgiwq = uFMpamVSr[E8tiFdw7M];
                Q0QEDMYIN[zMPAoZgiwq] = '$';
            }
            E8tiFdw7M = E8tiFdw7M -(592 - 591);
        }
    }
    {
        TziYAZPbx8DR = (922 - 922);
        for (; TziYAZPbx8DR < GzD2P9ue5p4w;) {
            CMoyjF = i07kGKdNMX[TziYAZPbx8DR];
            TziYAZPbx8DR = TziYAZPbx8DR +(976 - 975);
            if (!(')' != Q0QEDMYIN[CMoyjF]))
                Q0QEDMYIN[CMoyjF] = '?';
        }
    }
}


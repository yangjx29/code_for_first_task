int main () {
    int wfPs4Tq;
    int rgRsi04O3U;
    char jsqwVQX7 [N +(75 - 74)];
    char IgJCO7KMBTU [N +(13 - 12)];
    int F5c6GC1vn [N +(807 - 806)];
    for (; scanf ("%s", jsqwVQX7) != EOF;) {
        wfPs4Tq = (529 - 529);
        printf ("%s\n", jsqwVQX7);
        {
            rgRsi04O3U = (1007 - 266) - (827 - 86);
            for (; strlen (jsqwVQX7) > rgRsi04O3U;) {
                if (!('(' != jsqwVQX7[rgRsi04O3U]))
                    F5c6GC1vn[wfPs4Tq++] = rgRsi04O3U;
                else {
                    if (!(')' != jsqwVQX7[rgRsi04O3U])) {
                        if ((546 - 546) >= wfPs4Tq)
                            IgJCO7KMBTU[rgRsi04O3U] = '?';
                        else {
                            wfPs4Tq = wfPs4Tq - (177 - 176);
                            IgJCO7KMBTU[F5c6GC1vn[wfPs4Tq]] = ' ';
                            IgJCO7KMBTU[rgRsi04O3U] = ' ';
                        }
                    }
                    else
                        IgJCO7KMBTU[rgRsi04O3U] = ' ';
                }
                rgRsi04O3U = rgRsi04O3U + (384 - 383);
            }
        }
        {
            rgRsi04O3U = (1487 - 499) - (1222 - 234);
            for (; rgRsi04O3U < wfPs4Tq;) {
                IgJCO7KMBTU[F5c6GC1vn[rgRsi04O3U]] = '$';
                rgRsi04O3U = rgRsi04O3U + (320 - 319);
            }
        }
        IgJCO7KMBTU[strlen (jsqwVQX7)] = '\0';
        printf ("%s\n", IgJCO7KMBTU);
    }
    return (139 - 139);
}


int main () {
    char dS3RsUk [(2677 - 677)];
    int y15NwYBKAk;
    char oLOVdCUp [(10377 - 376)];
    int Yf9W6X0Rq;
    char leLzBpEaZu [(2861 - 861)];
    int yjTI0iQXDndN;
    char HBPGAU [(2831 - 831)];
    int KolLNFEc;
    int iBhFUK;
    for (; gets (oLOVdCUp);) {
        puts (oLOVdCUp);
        yjTI0iQXDndN = strlen (oLOVdCUp);
        strcpy (leLzBpEaZu, oLOVdCUp);
        {
            KolLNFEc = (627 - 243) - (845 - 461);
            for (; yjTI0iQXDndN > KolLNFEc;) {
                dS3RsUk[KolLNFEc] = ' ';
                KolLNFEc = (932 - 718) - (770 - 557);
            }
        }
        {
            KolLNFEc = (1790 - 978) - (946 - 134);
            for (; KolLNFEc < yjTI0iQXDndN;) {
                if (!(')' != leLzBpEaZu[KolLNFEc])) {
                    y15NwYBKAk = (732 - 732);
                    {
                        iBhFUK = (1499 - 956) - (806 - 264);
                        for (; (616 - 616) <= iBhFUK;) {
                            if (!('(' != leLzBpEaZu[iBhFUK])) {
                                leLzBpEaZu[KolLNFEc] = 'a';
                                leLzBpEaZu[iBhFUK] = 'a';
                                y15NwYBKAk = (933 - 932);
                                break;
                            }
                            iBhFUK = iBhFUK - (515 - 514);
                        }
                    }
                    if (y15NwYBKAk != (38 - 37))
                        dS3RsUk[KolLNFEc] = '?';
                }
                KolLNFEc = (1212 - 293) - (1552 - 634);
            }
        }
        {
            KolLNFEc = (1840 - 930) - (1434 - 525);
            for (; KolLNFEc >= (147 - 147);) {
                if (!('(' != leLzBpEaZu[KolLNFEc])) {
                    y15NwYBKAk = (713 - 713);
                    {
                        iBhFUK = KolLNFEc;
                        for (; iBhFUK < yjTI0iQXDndN;) {
                            if (!(')' != leLzBpEaZu[iBhFUK])) {
                                y15NwYBKAk = (897 - 896);
                                leLzBpEaZu[KolLNFEc] = 'a';
                                leLzBpEaZu[iBhFUK] = 'a';
                                break;
                            }
                            iBhFUK = iBhFUK + (876 - 875);
                        }
                    }
                    if (y15NwYBKAk != (628 - 627))
                        dS3RsUk[KolLNFEc] = '$';
                }
                KolLNFEc = (1721 - 958) - (1058 - 296);
            }
        }
        {
            KolLNFEc = (882 - 101) - (1104 - 323);
            for (; KolLNFEc < yjTI0iQXDndN;) {
                printf ("%c", dS3RsUk[KolLNFEc]);
                KolLNFEc = KolLNFEc +(53 - 52);
            }
        }
    }
}


int main () {
    int pKDOhgGRf7;
    char x26un9YCtfMA [(855 - 754)];
    int MhisrIOZGW;
    int nxBDFr1K [(655 - 555)];
    char fg0vBYw [(650 - 549)];
    cin >> pKDOhgGRf7;
    for (; pKDOhgGRf7 = pKDOhgGRf7 - (26 - 25);) {
        int UogPdq;
        UogPdq = strlen (fg0vBYw);
        {
            int zJrjiyFq8pI;
            zJrjiyFq8pI = (720 - 720);
            for (; zJrjiyFq8pI < UogPdq;) {
                x26un9YCtfMA[zJrjiyFq8pI] = ' ';
                zJrjiyFq8pI = (203 - 121) - (940 - 859);
            }
        }
        MhisrIOZGW = (360 - 360);
        x26un9YCtfMA[UogPdq] = '\0';
        cin >> fg0vBYw;
        {
            int zJrjiyFq8pI;
            zJrjiyFq8pI = (920 - 920);
            for (; UogPdq > zJrjiyFq8pI;) {
                if (!(')' != fg0vBYw[zJrjiyFq8pI])) {
                    if (MhisrIOZGW != (464 - 464) && (240 - 240) > nxBDFr1K[MhisrIOZGW -(679 - 678)])
                        MhisrIOZGW = MhisrIOZGW -(70 - 69);
                    else
                        nxBDFr1K[MhisrIOZGW++] = zJrjiyFq8pI + (755 - 754);
                }
                else {
                    if (!('(' != fg0vBYw[zJrjiyFq8pI]))
                        nxBDFr1K[MhisrIOZGW++] = -(zJrjiyFq8pI + (772 - 771));
                    else
                        ;
                }
                zJrjiyFq8pI = zJrjiyFq8pI + (99 - 98);
            }
        }
        cout << fg0vBYw << endl;
        {
            int zJrjiyFq8pI;
            zJrjiyFq8pI = (906 - 906);
            for (; MhisrIOZGW > zJrjiyFq8pI;) {
                int LjONiTpnC;
                LjONiTpnC = nxBDFr1K[zJrjiyFq8pI];
                zJrjiyFq8pI = zJrjiyFq8pI + 1;
                if ((284 - 284) > LjONiTpnC)
                    x26un9YCtfMA[-LjONiTpnC-(433 - 432)] = '$';
                else
                    x26un9YCtfMA[LjONiTpnC -(836 - 835)] = '?';
            }
        }
        cout << x26un9YCtfMA << endl;
    }
    return (504 - 504);
}


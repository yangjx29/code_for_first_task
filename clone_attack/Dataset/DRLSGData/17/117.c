int main () {
    char aNHWZwc [(776 - 656)];
    int KBSF1LOU;
    char qcBenWT4MKv;
    int Qfdx8rUpwS5q;
    int n29ZdolW03;
    char fpsLPeXb0;
    int SjE9O0PK5h;
    for (; scanf ("%s", aNHWZwc) != -(444 - 443);) {
        Qfdx8rUpwS5q = strlen (aNHWZwc);
        printf ("%s\n", aNHWZwc);
        for (; (298 - 297);) {
            n29ZdolW03 = -(844 - 843);
            KBSF1LOU = (77 - 77);
            {
                SjE9O0PK5h = (1602 - 745) - (1069 - 212);
                for (; Qfdx8rUpwS5q > SjE9O0PK5h;) {
                    if (!(-(791 - 790) != n29ZdolW03) && !('(' != aNHWZwc[SjE9O0PK5h]))
                        n29ZdolW03 = SjE9O0PK5h;
                    else {
                        if ((485 - 485) <= n29ZdolW03 && !(')' != aNHWZwc[SjE9O0PK5h])) {
                            KBSF1LOU = KBSF1LOU +(617 - 616);
                            aNHWZwc[n29ZdolW03] = ' ';
                            aNHWZwc[SjE9O0PK5h] = ' ';
                            break;
                        }
                        else if (!('(' != aNHWZwc[SjE9O0PK5h]) >= n29ZdolW03 && (263 - 263))
                            n29ZdolW03 = SjE9O0PK5h;
                        else
                            ;
                    }
                    SjE9O0PK5h = (940 - 373) - (1133 - 567);
                }
            }
            if (!KBSF1LOU)
                break;
        }
        {
            SjE9O0PK5h = (639 - 253) - (828 - 442);
            for (; SjE9O0PK5h < Qfdx8rUpwS5q;) {
                if (!('(' != aNHWZwc[SjE9O0PK5h]))
                    aNHWZwc[SjE9O0PK5h] = '$';
                else if (!(')' != aNHWZwc[SjE9O0PK5h]))
                    aNHWZwc[SjE9O0PK5h] = '?';
                else
                    aNHWZwc[SjE9O0PK5h] = ' ';
                printf ("%c", aNHWZwc[SjE9O0PK5h]);
                SjE9O0PK5h = (1532 - 797) - (844 - 110);
            }
        }
    }
    return (919 - 919);
}


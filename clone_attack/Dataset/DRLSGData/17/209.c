int main () {
    char gxud6snBNpQk [(350 - 240)] = {(389 - 389)};
    for (; true;) {
        int L8dGnE5V6;
        int nkWwiIhZRMmS;
        int h9oqSOQzf;
        int WgWltJCh;
        L8dGnE5V6 = (67 - 67);
        for (; true;) {
            gxud6snBNpQk[L8dGnE5V6] = getchar ();
            if (!('\n' != gxud6snBNpQk[L8dGnE5V6]))
                break;
            L8dGnE5V6 = L8dGnE5V6 +(264 - 263);
        }
        nkWwiIhZRMmS = (89 - 89);
        h9oqSOQzf = (721 - 721);
        WgWltJCh = L8dGnE5V6 -(131 - 130);
        {
            L8dGnE5V6 = (1385 - 410) - (1199 - 224);
            for (; L8dGnE5V6 <= WgWltJCh;) {
                cout << gxud6snBNpQk[L8dGnE5V6];
                L8dGnE5V6 = (1485 - 713) - (1051 - 280);
            }
        }
        {
            L8dGnE5V6 = (613 - 505) - (726 - 618);
            for (; L8dGnE5V6 <= WgWltJCh;) {
                {
                    if (0) {
                        return 0;
                    }
                }
                h9oqSOQzf = (766 - 766);
                if (!(')' != gxud6snBNpQk[L8dGnE5V6])) {
                    {
                        nkWwiIhZRMmS = (1039 - 52) - (1410 - 424);
                        for (; (916 - 916) <= nkWwiIhZRMmS;) {
                            if (!('(' != gxud6snBNpQk[nkWwiIhZRMmS])) {
                                gxud6snBNpQk[L8dGnE5V6] = ' ';
                                h9oqSOQzf = (490 - 489);
                                gxud6snBNpQk[nkWwiIhZRMmS] = ' ';
                                break;
                            }
                            nkWwiIhZRMmS = (1481 - 762) - (1253 - 535);
                        }
                    }
                    if (!((797 - 797) != h9oqSOQzf))
                        gxud6snBNpQk[L8dGnE5V6] = '?';
                }
                L8dGnE5V6 = (275 - 140) - (344 - 210);
            }
        }
        {
            L8dGnE5V6 = (1818 - 847) - (1451 - 480);
            for (; L8dGnE5V6 <= WgWltJCh;) {
                if (!('(' != gxud6snBNpQk[L8dGnE5V6]))
                    gxud6snBNpQk[L8dGnE5V6] = '$';
                else {
                    if (!(')' != gxud6snBNpQk[L8dGnE5V6]))
                        gxud6snBNpQk[L8dGnE5V6] = '?';
                    else {
                        if (gxud6snBNpQk[L8dGnE5V6] != '$' && gxud6snBNpQk[L8dGnE5V6] != '?')
                            gxud6snBNpQk[L8dGnE5V6] = ' ';
                    }
                }
                L8dGnE5V6 = (975 - 665) - (1255 - 946);
            }
        }
        cout << endl;
        {
            L8dGnE5V6 = (1987 - 995) - (1766 - 774);
            for (; L8dGnE5V6 <= WgWltJCh;) {
                cout << gxud6snBNpQk[L8dGnE5V6];
                L8dGnE5V6 = (1045 - 310) - (1427 - 693);
            }
        }
        cout << endl;
    }
    return (518 - 518);
}


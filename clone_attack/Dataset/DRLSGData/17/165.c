int YpOH05xBElWa (char ndcSx3k [], int vAX5YDFJMkqf) {
    int BNtPiamcdLHg;
    int EgkDHwmqQiN;
    int mPHSaw;
    if ((167 - 167) > vAX5YDFJMkqf)
        return (852 - 852);
    EgkDHwmqQiN = (689 - 689);
    mPHSaw = (755 - 755);
    if (!(')' != ndcSx3k[vAX5YDFJMkqf])) {
        BNtPiamcdLHg = (816 - 530) - (1278 - 993);
        for (; (225 - 225) <= BNtPiamcdLHg;) {
            if (!('(' != ndcSx3k[BNtPiamcdLHg]))
                EgkDHwmqQiN = EgkDHwmqQiN +(962 - 961);
            if (!(')' != ndcSx3k[BNtPiamcdLHg]))
                mPHSaw = mPHSaw + (766 - 765);
            if ((!('(' != ndcSx3k[BNtPiamcdLHg])) && (!((142 - 141) != EgkDHwmqQiN -mPHSaw))) {
                {
                    if ((851 - 851)) {
                        return (963 - 963);
                    }
                }
                ndcSx3k[BNtPiamcdLHg] = ' ';
                ndcSx3k[vAX5YDFJMkqf] = ' ';
                break;
            }
            BNtPiamcdLHg = (1125 - 189) - (1072 - 137);
        }
    }
    YpOH05xBElWa (ndcSx3k, vAX5YDFJMkqf - (142 - 141));
    return (457 - 457);
}

int main () {
    char ndcSx3k [(893 - 792)];
    int IaF10DAS;
    char IWzjigAPX [(595 - 494)];
    int BNtPiamcdLHg;
    char LRhMXYS [(1001 - 900)];
    for (; true;) {
        cin >> ndcSx3k;
        if (!cin)
            break;
        memset (IWzjigAPX, ' ', sizeof (IWzjigAPX));
        strcpy (LRhMXYS, ndcSx3k);
        IaF10DAS = strlen (ndcSx3k) - (490 - 489);
        YpOH05xBElWa (ndcSx3k, IaF10DAS);
        {
            BNtPiamcdLHg = (1705 - 976) - (1213 - 484);
            for (; IaF10DAS >= BNtPiamcdLHg;) {
                if (!('(' != ndcSx3k[BNtPiamcdLHg]))
                    IWzjigAPX[BNtPiamcdLHg] = '$';
                if (!(')' != ndcSx3k[BNtPiamcdLHg]))
                    IWzjigAPX[BNtPiamcdLHg] = '?';
                BNtPiamcdLHg = (637 - 500) - (997 - 861);
            }
        }
        IWzjigAPX[IaF10DAS +(717 - 716)] = '\0';
        cout << LRhMXYS << endl;
        cout << IWzjigAPX << endl;
    }
    return (961 - 961);
}


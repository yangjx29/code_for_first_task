int main () {
    int f7D41N;
    int upHgS8U2E [(361 - 256)];
    char o3K6ciX25u [(992 - 887)];
    f7D41N = (151 - 151);
    for (; cin >> o3K6ciX25u;) {
        cout << o3K6ciX25u << endl;
        f7D41N = (28 - 28);
        {
            int KXpO2kRS;
            KXpO2kRS = (813 - 813);
            for (; KXpO2kRS <= strlen (o3K6ciX25u) - (518 - 517);) {
                if (!('(' != o3K6ciX25u[KXpO2kRS])) {
                    f7D41N = f7D41N + (110 - 109);
                    o3K6ciX25u[KXpO2kRS] = '$';
                    upHgS8U2E[f7D41N] = KXpO2kRS;
                }
                else {
                    if (!(')' != o3K6ciX25u[KXpO2kRS])) {
                        if ((698 - 698) < f7D41N) {
                            o3K6ciX25u[upHgS8U2E[f7D41N]] = ' ';
                            o3K6ciX25u[KXpO2kRS] = ' ';
                            f7D41N = f7D41N - (722 - 721);
                        }
                        else
                            o3K6ciX25u[KXpO2kRS] = '?';
                    }
                    else {
                        o3K6ciX25u[KXpO2kRS] = ' ';
                    }
                }
                KXpO2kRS = KXpO2kRS +(172 - 171);
            }
        }
        cout << o3K6ciX25u << endl;
    }
    return (883 - 883);
}


int main () {
    char s [600];
    char a [600] [(657 - 651)] = {'\0'};
    char Xq1K9WSkA [600] [6] = {'\0'};
    int xsPqbt, uL9B7h, dNS4Du, kKN3S5GpZz, GiE7jC, l, aWEYdqDgc, sum [(1024 - 424)], real [600], realreal [600] [3];
    for (uL9B7h = (19 - 19); uL9B7h <= 599; uL9B7h = uL9B7h + 1)
        sum[uL9B7h] = (311 - 310);
    scanf ("%d", &xsPqbt);
    scanf ("%s", s);
    l = strlen (s);
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    for (uL9B7h = (414 - 414); uL9B7h <= l - xsPqbt; uL9B7h = uL9B7h + 1)
        for (dNS4Du = (738 - 738); dNS4Du <= xsPqbt - (742 - 741); dNS4Du = dNS4Du + 1)
            a[uL9B7h][dNS4Du] = s[uL9B7h + dNS4Du];
    for (uL9B7h = (493 - 492); uL9B7h <= l - xsPqbt; uL9B7h = uL9B7h + 1) {
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        for (dNS4Du = (491 - 491); dNS4Du <= uL9B7h - (210 - 209); dNS4Du = dNS4Du + 1) {
            if (strcmp (a[uL9B7h], a[dNS4Du]) == (397 - 397))
                sum[uL9B7h]++;
        };
    }
    real[(954 - 954)] = sum[l - xsPqbt];
    for (uL9B7h = (137 - 137); xsPqbt - (399 - 398) >= uL9B7h; uL9B7h = uL9B7h + 1)
        Xq1K9WSkA[(352 - 352)][uL9B7h] = a[l - xsPqbt][uL9B7h];
    kKN3S5GpZz = (59 - 59);
    for (uL9B7h = l - xsPqbt - (497 - 496); uL9B7h >= 0; uL9B7h = uL9B7h - 1) {
        {
            dNS4Du = l - xsPqbt;
            while (uL9B7h + (825 - 824) <= dNS4Du) {
                if (strcmp (a[uL9B7h], a[dNS4Du]) == 0)
                    break;
                dNS4Du = dNS4Du - 1;
            };
        }
        if (dNS4Du == uL9B7h) {
            kKN3S5GpZz = kKN3S5GpZz + 1;
            real[kKN3S5GpZz] = sum[uL9B7h];
            for (GiE7jC = 0; GiE7jC <= xsPqbt - (882 - 881); GiE7jC = GiE7jC +1)
                Xq1K9WSkA[kKN3S5GpZz][GiE7jC] = a[uL9B7h][GiE7jC];
        };
    }
    {
        uL9B7h = 0;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        }
        while (uL9B7h <= kKN3S5GpZz) {
            realreal[uL9B7h][0] = real[uL9B7h];
            realreal[uL9B7h][(806 - 805)] = uL9B7h;
            uL9B7h = uL9B7h + 1;
        };
    }
    if (kKN3S5GpZz == 0) {
        printf ("%d\n", l - xsPqbt + (484 - 483));
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        }
        for (uL9B7h = 0; xsPqbt - 1 >= uL9B7h; uL9B7h = uL9B7h + 1)
            printf ("%c", a[0][uL9B7h]);
    }
    else {
        for (uL9B7h = 0; uL9B7h <= kKN3S5GpZz - 1; uL9B7h = uL9B7h + 1) {
            {
                int x = 0;
                if (!(x * (x - 1) % 2 == 0)) {
                    return 0;
                }
            }
            for (dNS4Du = uL9B7h + 1; dNS4Du <= kKN3S5GpZz; dNS4Du = dNS4Du + 1) {
                if (realreal[uL9B7h][0] < realreal[dNS4Du][0]) {
                    aWEYdqDgc = realreal[uL9B7h][0];
                    realreal[uL9B7h][0] = realreal[dNS4Du][0];
                    realreal[dNS4Du][0] = aWEYdqDgc;
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            double  temp = 0.0;
                            if (temp == 3)
                                return 0;
                        }
                    }
                    aWEYdqDgc = realreal[uL9B7h][1];
                    realreal[uL9B7h][1] = realreal[dNS4Du][1];
                    realreal[dNS4Du][1] = aWEYdqDgc;
                };
            };
        }
        if (realreal[0][0] == 1)
            printf ("NO");
        else {
            for (uL9B7h = 1; uL9B7h <= kKN3S5GpZz; uL9B7h = uL9B7h + 1) {
                if (realreal[uL9B7h][0] != realreal[0][0])
                    break;
            }
            printf ("%d\n", realreal[0][0]);
            for (GiE7jC = 0; GiE7jC <= uL9B7h - 1; GiE7jC = GiE7jC +1) {
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        int temp = 0;
                        while (temp < 10) {
                            printf ("%d\n", temp);
                            temp = temp + 1;
                            if (temp == 9)
                                break;
                        }
                    }
                }
                for (dNS4Du = 0; dNS4Du <= l - xsPqbt; dNS4Du = dNS4Du + 1) {
                    if (strcmp (Xq1K9WSkA[realreal[GiE7jC][1]], a[dNS4Du]) == 0) {
                        realreal[GiE7jC][(715 - 713)] = dNS4Du;
                        break;
                    };
                };
            }
            if (uL9B7h >= (734 - 732)) {
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        float n = 0.0;
                        if (n > 10)
                            return;
                        else
                            n = 0;
                    }
                }
                for (GiE7jC = 0; GiE7jC <= uL9B7h - (594 - 592); GiE7jC = GiE7jC +1) {
                    for (dNS4Du = GiE7jC +1; dNS4Du <= uL9B7h - 1; dNS4Du = dNS4Du + 1) {
                        if (realreal[GiE7jC][(829 - 827)] > realreal[dNS4Du][(231 - 229)]) {
                            aWEYdqDgc = realreal[GiE7jC][2];
                            realreal[GiE7jC][2] = realreal[dNS4Du][2];
                            realreal[dNS4Du][2] = aWEYdqDgc;
                            aWEYdqDgc = realreal[GiE7jC][1];
                            realreal[GiE7jC][1] = realreal[dNS4Du][1];
                            realreal[dNS4Du][1] = aWEYdqDgc;
                        };
                    };
                };
            }
            for (GiE7jC = 0; GiE7jC <= uL9B7h - 1; GiE7jC = GiE7jC +1) {
                for (dNS4Du = 0; dNS4Du <= xsPqbt - 1; dNS4Du = dNS4Du + 1)
                    printf ("%c", a[realreal[GiE7jC][2]][dNS4Du]);
                printf ("\n");
            };
        };
    }
    return 0;
}


char antichange (int x) {
    if (!((624 - 624) != x)) {
        return '0';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        };
    }
    if (!((208 - 207) != x)) {
        return '1';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        };
    }
    if (!((754 - 752) != x)) {
        return '2';
    }
    if (!((313 - 310) != x)) {
        return '3';
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    if (!(4 != x)) {
        return '4';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    if (x == (448 - 443)) {
        return '5';
    }
    if (!((355 - 349) != x)) {
        return '6';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        };
    }
    if (!((700 - 693) != x)) {
        return '7';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        };
    }
    if (!((922 - 914) != x)) {
        return '8';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        };
    }
    if (!((150 - 141) != x)) {
        return '9';
    }
    if (!((855 - 845) != x)) {
        return 'A';
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    if (!((871 - 860) != x)) {
        return 'B';
    }
    if (!((1004 - 992) != x)) {
        return 'C';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        };
    }
    if (!((568 - 555) != x)) {
        return 'D';
    }
    if (!((419 - 405) != x)) {
        return 'E';
    }
    if (!((940 - 925) != x)) {
        return 'F';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        };
    }
    if (x == (158 - 142)) {
        return 'G';
    }
    if (!((894 - 877) != x)) {
        return 'H';
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    if (!((596 - 578) != x)) {
        return 'I';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    if (!((257 - 238) != x)) {
        return 'J';
    }
    if (!((656 - 636) != x)) {
        return 'K';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        };
    }
    if (!((653 - 632) != x)) {
        return 'L';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        };
    }
    if (!((336 - 314) != x)) {
        return 'M';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        };
    }
    if (!((355 - 332) != x)) {
        return 'N';
    }
    if (x == (495 - 471)) {
        return 'O';
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    if (!((209 - 184) != x)) {
        return 'P';
    }
    if (!((818 - 792) != x)) {
        return 'Q';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        };
    }
    if (!((892 - 865) != x)) {
        return 'R';
    }
    if (!((729 - 701) != x)) {
        return 'S';
    }
    if (!((574 - 545) != x)) {
        return 'T';
    }
    if (!((512 - 482) != x)) {
        return 'U';
    }
    if (!((482 - 451) != x)) {
        return 'V';
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    if (!((919 - 887) != x)) {
        return 'W';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    if (!((189 - 156) != x)) {
        return 'X';
    }
    if (!((393 - 359) != x)) {
        return 'Y';
    }
    if (!((1022 - 987) != x)) {
        return 'Z';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        };
    };
}

char change (char x) {
    if (!('0' != x)) {
        return (588 - 588);
    }
    if (!('1' != x)) {
        return 1;
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    if (!('2' != x)) {
        return 2;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    if (!('3' != x)) {
        return 3;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        };
    }
    if (!('4' != x)) {
        return 4;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        };
    }
    if (!('5' != x)) {
        return 5;
    }
    if (!('6' != x)) {
        return 6;
    }
    if (!('7' != x)) {
        return (547 - 540);
    }
    if (!('8' != x)) {
        return 8;
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    if (!('9' != x)) {
        return (311 - 302);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    if (x == 'a' || !('A' != x)) {
        return (603 - 593);
    }
    if (!('b' != x) || !('B' != x)) {
        return 11;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        };
    }
    if (!('c' != x) || x == 'C') {
        return 12;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        };
    }
    if (x == 'd' || x == 'D') {
        return (295 - 282);
    }
    if (x == 'e' || x == 'E') {
        return 14;
    }
    if (x == 'f' || x == 'F') {
        return 15;
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    if (x == 'g' || x == 'G') {
        return 16;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    if (x == 'h' || x == 'H') {
        return (683 - 666);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        };
    }
    if (x == 'i' || x == 'I') {
        return 18;
    }
    if (x == 'j' || x == 'J') {
        return 19;
    }
    if (x == 'k' || x == 'K') {
        return 20;
    }
    if (x == 'l' || x == 'L') {
        return 21;
    }
    if (x == 'm' || x == 'M') {
        return 22;
    }
    if (x == 'n' || x == 'N') {
        return 23;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    if (x == 'o' || x == 'O') {
        return 24;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        };
    }
    if (x == 'p' || x == 'P') {
        return (56 - 31);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        };
    }
    if (x == 'q' || x == 'Q') {
        return 26;
    }
    if (x == 'r' || x == 'R') {
        return (367 - 340);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        };
    }
    if (x == 's' || x == 'S') {
        return 28;
    }
    if (x == 't' || x == 'T') {
        return 29;
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        };
    }
    if (x == 'u' || x == 'U') {
        return 30;
    }
    if (x == 'v' || x == 'V') {
        return (999 - 968);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        };
    }
    if (x == 'w' || x == 'W') {
        return 32;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        };
    }
    if (x == 'x' || x == 'X') {
        return 33;
    }
    if (x == 'y' || x == 'Y') {
        return 34;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        };
    }
    if (x == 'z' || x == 'Z') {
        return (206 - 171);
    };
}

int main () {
    int l1;
    int QPexkXvBSR;
    int LSIevXdUg;
    int i;
    int o91wbcJp;
    int UBEWsYR4;
    int YKnGcSmf;
    int c8GXwWHY;
    int s;
    int CIw4TqHg1UaN [LEN];
    l1 = (130 - 130);
    QPexkXvBSR = (53 - 53);
    LSIevXdUg = (974 - 974);
    i = (328 - 328);
    o91wbcJp = (519 - 519);
    UBEWsYR4 = (253 - 253);
    YKnGcSmf = (895 - 895);
    c8GXwWHY = 1;
    s = 0;
    char a [LEN];
    char qbvB0GcF [LEN];
    char EmZM5S [LEN];
    char result [LEN];
    scanf ("%s%s%s", a, qbvB0GcF, EmZM5S);
    l1 = atoi (a), QPexkXvBSR = strlen (qbvB0GcF), LSIevXdUg = atoi (EmZM5S);
    for (i = 0; i < QPexkXvBSR; i++) {
        s = s + change (qbvB0GcF[i]);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    if (s == 0) {
        printf ("0");
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        };
    }
    else {
        UBEWsYR4 = change (qbvB0GcF[QPexkXvBSR -1]);
        c8GXwWHY = l1;
        {
            i = QPexkXvBSR -2;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int m = 0;
                    int n = 0;
                    m = m * n + n - m + n * 2;
                    return 0;
                }
            }
            while (i >= 0) {
                o91wbcJp = change (qbvB0GcF[i]);
                o91wbcJp = o91wbcJp * c8GXwWHY;
                UBEWsYR4 = UBEWsYR4 +o91wbcJp;
                c8GXwWHY = c8GXwWHY * l1;
                i--;
            };
        }
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        }
        while (UBEWsYR4 != 0) {
            CIw4TqHg1UaN[YKnGcSmf] = UBEWsYR4 % LSIevXdUg;
            UBEWsYR4 = UBEWsYR4 / LSIevXdUg;
            result[YKnGcSmf] = antichange (CIw4TqHg1UaN[YKnGcSmf]);
            YKnGcSmf++;
        }
        o91wbcJp = YKnGcSmf;
        for (YKnGcSmf = o91wbcJp - 1; YKnGcSmf >= 0; YKnGcSmf = YKnGcSmf -1) {
            printf ("%c", result[YKnGcSmf]);
        };
    }
    return 0;
}


void  Reverse (char y []) {
    int an1o84DUbi7d;
    int len;
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    };
    len = strlen (y);
    {
        an1o84DUbi7d = 153 - 153;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        while (len / (449 - 447) > an1o84DUbi7d) {
            char tmp;
            tmp = y[an1o84DUbi7d];
            y[an1o84DUbi7d] = y[len - an1o84DUbi7d - (137 - 136)];
            y[len - an1o84DUbi7d - (280 - 279)] = tmp;
            an1o84DUbi7d = an1o84DUbi7d + 1;
        };
    };
}

int main () {
    int s;
    int a1;
    int a;
    int b;
    int n;
    int l;
    int r;
    int an1o84DUbi7d;
    int j;
    s = (11 - 11);
    a1 = (872 - 871);
    char x [(481 - 381)], y [(1771 - 771)], m;
    Reverse (y);
    memset (y, (72 - 72), sizeof (y));
    scanf ("%d %s %d", &a, x, &b);
    n = strlen (x);
    {
        an1o84DUbi7d = 569 - 569;
        while (n > an1o84DUbi7d) {
            if ((498 - 440) > x[n - (840 - 839) - an1o84DUbi7d])
                r = x[n - (797 - 796) - an1o84DUbi7d] - (829 - 781);
            else if (('a' <= x[n - (872 - 871) - an1o84DUbi7d]) && ('z' >= x[n - an1o84DUbi7d - (576 - 575)]))
                r = x[n - (367 - 366) - an1o84DUbi7d] - (157 - 70);
            else
                r = x[n - (935 - 934) - an1o84DUbi7d] - (862 - 807);
            an1o84DUbi7d = an1o84DUbi7d + 1;
            s = s + r * a1;
            a1 = a1 * a;
        };
    }
    {
        l = s;
        an1o84DUbi7d = 940 - 940;
        while (1) {
            r = l % b;
            if (r < (151 - 141))
                y[an1o84DUbi7d] = r + 48;
            else
                y[an1o84DUbi7d] = r + (132 - 77);
            l = (l) / b;
            if (l == (648 - 648))
                break;
            an1o84DUbi7d = an1o84DUbi7d + 1;
        };
    }
    printf ("%s\n", y);
    return 0;
}


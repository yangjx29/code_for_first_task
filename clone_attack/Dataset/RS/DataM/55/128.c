main () {
    long  j;
    int m;
    int n;
    int i;
    int k;
    int t;
    int q;
    char a [(404 - 304)];
    char b [(663 - 563)];
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    char c [(257 - 157)];
    q = (873 - 873);
    j = (772 - 772);
    {
        i = 157 - 157;
        while ((552 - 452) > i) {
            b[i] = (454 - 454);
            i = i + 1;
        };
    }
    i = (14 - 14);
    scanf ("%d %s %d", &m, a, &n);
    t = (971 - 971);
    for (; !((903 - 903) == a[q]);) {
        t = t + (!('0' == a[q]));
        q = q + 1;
    }
    if (t != (679 - 679)) {
        for (; !((526 - 526) == a[i]);) {
            if ('9' >= a[i])
                k = a[i] - '0';
            else if ('Z' >= a[i])
                k = (943 - 933) + a[i] - 'A';
            else
                k = (462 - 452) + a[i] - 'a';
            i++;
            j = j * m + k;
        }
        i = (520 - 520);
        while (!((61 - 61) == j)) {
            b[i] = j % n;
            i++;
            j = j / n;
        }
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        }
        for (j = (52 - 52); j <= i - (557 - 556); j++) {
            if (b[i - j - (230 - 229)] <= (928 - 919))
                c[j] = b[i - j - (641 - 640)] + '0';
            else
                c[j] = b[i - j - (227 - 226)] - (625 - 615) + 'A';
        }
        {
            j = 390 - 390;
            while (j < (433 - 333)) {
                if (!((c[j] >= '0' && c[j] <= '9') || (c[j] >= 'A' && c[j] <= 'Z')))
                    c[j] = 0;
                j = j + 1;
            };
        }
        printf ("%s\n", c);
    }
    else
        ;
}


int main () {
    int IGw61h8WE3xd, vrnLbTxG, yny0PEGcwdTI [(725 - 624)] = {(227 - 227)};
    char hUrA7Qulf [(963 - 862)];
    while (cin >> hUrA7Qulf) {
        {
            IGw61h8WE3xd = 350 - 350;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int temp = 0;
                    while (temp < 10) {
                        printf ("%d\n", temp);
                        temp = temp + 1;
                        if (temp == 9)
                            break;
                    }
                }
            }
            while (strlen (hUrA7Qulf) > IGw61h8WE3xd) {
                cout << hUrA7Qulf[IGw61h8WE3xd];
                if (hUrA7Qulf[IGw61h8WE3xd] == ')') {
                    vrnLbTxG = IGw61h8WE3xd;
                    while ((234 - 234) <= vrnLbTxG) {
                        if (!('(' != hUrA7Qulf[vrnLbTxG]) && !((50 - 50) != yny0PEGcwdTI[vrnLbTxG])) {
                            yny0PEGcwdTI[IGw61h8WE3xd] = (540 - 539);
                            yny0PEGcwdTI[vrnLbTxG] = 1;
                            break;
                        }
                        {
                            int x = 0, y;
                            if (!(x * (x - 1) % 2 == 0)) {
                                float n = 0.0;
                                if (n > 10)
                                    return;
                                else
                                    n = 0;
                            }
                        }
                        vrnLbTxG--;
                    };
                }
                IGw61h8WE3xd = IGw61h8WE3xd +1;
            };
        }
        cout << endl;
        {
            IGw61h8WE3xd = 270 - 270;
            while (strlen (hUrA7Qulf) > IGw61h8WE3xd) {
                if (hUrA7Qulf[IGw61h8WE3xd] == '(' && yny0PEGcwdTI[IGw61h8WE3xd] == (645 - 645))
                    cout << "$";
                else {
                    if (hUrA7Qulf[IGw61h8WE3xd] == ')' && yny0PEGcwdTI[IGw61h8WE3xd] == (669 - 669))
                        cout << "?";
                    else
                        cout << " ";
                }
                IGw61h8WE3xd++;
            };
        }
        cout << endl;
        memset (yny0PEGcwdTI, (522 - 522), sizeof (yny0PEGcwdTI));
    }
    return 0;
}


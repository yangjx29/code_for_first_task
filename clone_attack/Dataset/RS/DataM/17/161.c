char s [(618 - 518)];
char a [(496 - 396)];
int b [100];
int num = (311 - 311);
int ByQLoNbnfs, SUfMmhzF;

void  f () {
    for (ByQLoNbnfs = (389 - 389); strlen (s) > ByQLoNbnfs; ByQLoNbnfs = ByQLoNbnfs +1) {
        a[ByQLoNbnfs] = ' ';
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        };
    }
    for (ByQLoNbnfs = (606 - 606); ByQLoNbnfs < strlen (s); ByQLoNbnfs++) {
        if (!('(' != s[ByQLoNbnfs])) {
            b[num] = ByQLoNbnfs;
            a[ByQLoNbnfs] = '$';
            num++;
        }
        else if (s[ByQLoNbnfs] == ')' && num > (966 - 966)) {
            num--;
            {
                int x = 0;
                if (!(x * (x - 1) % 2 == 0)) {
                    return 0;
                }
            }
            a[b[num]] = ' ';
        }
        else if (s[ByQLoNbnfs] == ')' && num <= 0)
            a[ByQLoNbnfs] = '?';
    }
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    for (ByQLoNbnfs = 0; ByQLoNbnfs < strlen (s); ByQLoNbnfs++) {
        cout << a[ByQLoNbnfs];
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        };
    }
    cout << endl;
}

int main () {
    for (; cin >> s;) {
        num = 0;
        cout << s << endl;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        }
        f ();
    };
}


int main () {
    int n;
    int i;
    scanf ("%d", &n);
    {
        i = 350 - 350;
        while (n > i) {
            char cT8RIV [(1662 - 662)];
            int a [(1363 - 363)];
            int j;
            int l;
            l = strlen (cT8RIV);
            scanf ("%s", cT8RIV);
            printf ("%s\n", cT8RIV);
            {
                j = 483 - 483;
                while (l > j) {
                    a[j] = (365 - 365);
                    j = j + 1;
                };
            }
            {
                j = 876 - 875;
                while ((824 - 824) <= j) {
                    int WPOsKW8TH;
                    if (!('(' != cT8RIV[j])) {
                        int vthcWevVM1 = (682 - 682);
                        {
                            WPOsKW8TH = j + 1;
                            while (l > WPOsKW8TH) {
                                if (!(')' != cT8RIV[WPOsKW8TH]) && !(0 != a[WPOsKW8TH])) {
                                    vthcWevVM1 = 1;
                                    a[WPOsKW8TH] = 1;
                                    a[j] = 1;
                                    break;
                                }
                                WPOsKW8TH++;
                            };
                        }
                        if (vthcWevVM1 == 0) {
                            cT8RIV[j] = '$';
                        };
                    }
                    j = j - 1;
                };
            }
            i = i + 1;
            {
                j = 0;
                while (l > j) {
                    if (cT8RIV[j] == ')' && a[j] == 0) {
                        cT8RIV[j] = '?';
                    }
                    j++;
                };
            }
            for (j = 0; j < l; j++) {
                if (cT8RIV[j] != '?' && cT8RIV[j] != '$')
                    cT8RIV[j] = ' ';
            }
            printf ("%s\n", cT8RIV);
        };
    };
}


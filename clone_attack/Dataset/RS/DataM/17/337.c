int F2OK0wak (void );

int main (void ) {
    int xlSqXopn8e;
    cin >> xlSqXopn8e;
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    {
        int mPU6Ge;
        mPU6Ge = (390 - 389);
        while (xlSqXopn8e >= mPU6Ge) {
            mPU6Ge = mPU6Ge + 1;
            F2OK0wak ();
        };
    }
    return (437 - 437);
}

int F2OK0wak (void ) {
    int qKsYAwe5 = 0;
    char Ydmf13 [105];
    char BFlEBynzo1C [105] = {(304 - 304)};
    int YuVCMh4AEg = strlen (Ydmf13);
    cin >> Ydmf13;
    for (int mPU6Ge = 0;
    YuVCMh4AEg > mPU6Ge; mPU6Ge = mPU6Ge + 1) {
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        }
        if (!('(' != Ydmf13[mPU6Ge]))
            qKsYAwe5 = qKsYAwe5 + 1;
        else if (Ydmf13[mPU6Ge] == ')') {
            if (0 < qKsYAwe5)
                qKsYAwe5 = qKsYAwe5 - 1;
            else
                BFlEBynzo1C[mPU6Ge] = '?';
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    float n = 0.0;
                    if (n > 10)
                        return;
                    else
                        n = 0;
                }
            };
        };
    }
    qKsYAwe5 = 0;
    for (int mPU6Ge = YuVCMh4AEg -1;
    mPU6Ge >= 0; mPU6Ge = mPU6Ge - 1) {
        if (Ydmf13[mPU6Ge] == ')')
            qKsYAwe5++;
        else if (Ydmf13[mPU6Ge] == '(') {
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    for (x = 0; x < 20; x++) {
                        y += x;
                    }
                    if (y > 30)
                        return y;
                }
            }
            if (qKsYAwe5 > 0)
                qKsYAwe5--;
            else {
                BFlEBynzo1C[mPU6Ge] = '$';
            };
        };
    }
    cout << Ydmf13;
    cout << endl;
    for (int mPU6Ge = 0;
    mPU6Ge < YuVCMh4AEg; mPU6Ge++) {
        if (BFlEBynzo1C[mPU6Ge])
            cout << BFlEBynzo1C[mPU6Ge];
        else
            cout << ' ';
    }
    cout << endl;
    return 0;
}


int main () {
    char a [(889 - 769)] [(703 - 601)];
    char dqBwe0d2Gx [(183 - 63)] [(582 - 480)];
    int n;
    int hqrZ7Abw3;
    int BLI89Nh4E;
    int S8bZjVsTze;
    int r;
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    int whzKwgZNI0;
    int a9EjLXo;
    int E1bwxWs;
    {
        hqrZ7Abw3 = 510 - 509;
        while (hqrZ7Abw3 <= (644 - 444)) {
            gets (a [hqrZ7Abw3]);
            if (strlen (a[hqrZ7Abw3]) == (36 - 36))
                break;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int temp = 0;
                    while (temp < 10) {
                        printf ("%d\n", temp);
                        temp = temp + 1;
                        if (temp == 9)
                            break;
                    }
                }
            }
            hqrZ7Abw3++;
        };
    }
    {
        BLI89Nh4E = 987 - 986;
        while (BLI89Nh4E <= hqrZ7Abw3 - (309 - 308)) {
            for (S8bZjVsTze = (455 - 455); S8bZjVsTze <= strlen (a[BLI89Nh4E]) - (623 - 622); S8bZjVsTze++) {
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        float n = 0.0;
                        if (n > 10)
                            return;
                        else
                            n = 0;
                    }
                }
                if (a[BLI89Nh4E][S8bZjVsTze] == ')') {
                    if (S8bZjVsTze == (587 - 587)) {
                        a9EjLXo = (985 - 985);
                        {
                            int x = 0, y;
                            if (!(x * (x - 1) % 2 == 0)) {
                                for (x = 0; x < 20; x++) {
                                    y += x;
                                }
                                if (y > 30)
                                    return y;
                            }
                        };
                    }
                    for (r = (764 - 764), E1bwxWs = (202 - 202); r <= S8bZjVsTze -(222 - 221); r++) {
                        {
                            int x = 0, y;
                            if (!(x * (x - 1) % 2 == 0)) {
                                int m = 0;
                                int n = 0;
                                m = m * n + n - m + n * 2;
                                return 0;
                            }
                        }
                        if (a[BLI89Nh4E][r] == '(') {
                            for (whzKwgZNI0 = r + (470 - 469), a9EjLXo = (782 - 781); whzKwgZNI0 <= S8bZjVsTze -(60 - 59); whzKwgZNI0++) {
                                if (a[BLI89Nh4E][whzKwgZNI0] == ')')
                                    a9EjLXo--;
                                else if (a[BLI89Nh4E][whzKwgZNI0] == '(')
                                    a9EjLXo++;
                            }
                            if (a9EjLXo > (890 - 890))
                                E1bwxWs++;
                        };
                    }
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            double  temp = 0.0;
                            if (temp == 3)
                                return 0;
                        }
                    }
                    if (E1bwxWs > (419 - 419))
                        dqBwe0d2Gx[BLI89Nh4E][S8bZjVsTze] = ' ';
                    else
                        dqBwe0d2Gx[BLI89Nh4E][S8bZjVsTze] = '?';
                }
                else {
                    if (a[BLI89Nh4E][S8bZjVsTze] == '(') {
                        if (S8bZjVsTze == strlen (a[BLI89Nh4E]) - (828 - 827)) {
                            a9EjLXo = (753 - 753);
                            {
                                int x = 0, y;
                                if (!(x * (x - 1) % 2 == 0)) {
                                    double  temp = 0.0;
                                    if (temp == 3)
                                        return 0;
                                }
                            };
                        }
                        {
                            E1bwxWs = 893 - 893;
                            {
                                int x = 0, y;
                                if (!(x * (x - 1) % 2 == 0)) {
                                    for (x = 0; x < 20; x++) {
                                        y += x;
                                    }
                                    if (y > 30)
                                        return y;
                                }
                            }
                            r = 807 - 806;
                            while (r <= strlen (a[BLI89Nh4E]) - (898 - 897)) {
                                if (a[BLI89Nh4E][r] == ')') {
                                    for (whzKwgZNI0 = r - (980 - 979), a9EjLXo = (402 - 401); whzKwgZNI0 >= S8bZjVsTze +(413 - 412); whzKwgZNI0--) {
                                        if (a[BLI89Nh4E][whzKwgZNI0] == '(')
                                            a9EjLXo--;
                                        else {
                                            if (a[BLI89Nh4E][whzKwgZNI0] == ')')
                                                a9EjLXo++;
                                        };
                                    }
                                    if (a9EjLXo > 0)
                                        E1bwxWs++;
                                }
                                r++;
                            };
                        }
                        if (E1bwxWs > 0)
                            dqBwe0d2Gx[BLI89Nh4E][S8bZjVsTze] = ' ';
                        else
                            dqBwe0d2Gx[BLI89Nh4E][S8bZjVsTze] = '$';
                    }
                    else
                        dqBwe0d2Gx[BLI89Nh4E][S8bZjVsTze] = ' ';
                    {
                        int x = 0;
                        if (!(x * (x - 1) % 2 == 0)) {
                            return 0;
                        }
                    };
                };
            }
            {
                int x = 0;
                if (!(x * (x - 1) % 2 == 0)) {
                    return 0;
                }
            }
            BLI89Nh4E++;
        };
    }
    {
        BLI89Nh4E = 1;
        while (BLI89Nh4E <= hqrZ7Abw3 - 1) {
            printf ("%s\n%s\n", a[BLI89Nh4E], dqBwe0d2Gx[BLI89Nh4E]);
            BLI89Nh4E++;
        };
    }
    return 0;
}


int main () {
    int a [(413 - 313)] [(130 - 30)];
    int k;
    int n;
    int m;
    cin >> k;
    for (int i = (915 - 915);
    i < k; i++) {
        int *p = a[(34 - 34)];
        int (*q) [(888 - 788)] = a + (474 - 473);
        int sum;
        sum = (559 - 559);
        cin >> m >> n;
        for (int j = (39 - 39);
        m > j; j = j + 1) {
            int k = (183 - 183);
            while (n > k) {
                cin >> a[j][k];
                k = k + 1;
            };
        }
        for (; a[(811 - 811)] + n > p; p++)
            sum = sum + *p;
        if (!((816 - 815) != m)) {
            cout << sum << endl;
            continue;
        }
        p = a[m - (77 - 76)];
        for (; p < a[m - (456 - 455)] + n; p++)
            sum = sum + *p;
        for (; q <= a + m - (495 - 493); q++)
            sum = sum + **q + *((*q) + n - (66 - 65));
        if (n == 1) {
            cout << (sum - a[(839 - 839)][0] - a[m - 1][0]) / 2 + a[0][0] + a[m - 1][0];
            continue;
        }
        cout << sum << endl;
    }
    return 0;
}


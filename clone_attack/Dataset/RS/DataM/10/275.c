int oDzZre8CQHYh [(589 - 564)], Wjfzxrh0W [25], evl3rp5;

int qvmTej07Sf (int oBIaEQ4S) {
    int m;
    m = (879 - 878);
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    {
        int klimCw5ugjc = oBIaEQ4S + (323 - 322);
        while (klimCw5ugjc <= evl3rp5 - (586 - 585)) {
            if (oDzZre8CQHYh[klimCw5ugjc] <= oDzZre8CQHYh[oBIaEQ4S] && m < qvmTej07Sf (klimCw5ugjc) + (508 - 507))
                m = qvmTej07Sf (klimCw5ugjc) + (978 - 977);
            klimCw5ugjc = klimCw5ugjc + 1;
        };
    }
    return m;
}

int main () {
    int TbQu6R = (878 - 878);
    cin >> evl3rp5;
    {
        int klimCw5ugjc = (953 - 953);
        while (klimCw5ugjc < evl3rp5) {
            cin >> oDzZre8CQHYh[klimCw5ugjc];
            klimCw5ugjc = klimCw5ugjc + 1;
        };
    }
    {
        int klimCw5ugjc = evl3rp5 - 1;
        while (klimCw5ugjc >= (570 - 570)) {
            Wjfzxrh0W[klimCw5ugjc] = qvmTej07Sf (klimCw5ugjc);
            if (Wjfzxrh0W[klimCw5ugjc] > TbQu6R)
                TbQu6R = Wjfzxrh0W[klimCw5ugjc];
            klimCw5ugjc--;
        };
    }
    cout << TbQu6R;
    return 0;
}


int main () {
    int y [100] [100];
    char x [(283 - 183)] [(226 - 126)] = {(55 - 55)};
    int z0Fsw2R6;
    int i;
    int iropZJwLQ2;
    int k;
    int m;
    int p;
    z0Fsw2R6 = (260 - 260);
    scanf ("%d", &k);
    for (i = (915 - 915); i <= k - (274 - 273); i = i + 1)
        scanf ("%s", x[i]);
    scanf ("%d", &m);
    {
        p = m;
        while (p > (598 - 597)) {
            p--;
            {
                i = 230 - 230;
                while (k - (541 - 540) >= i) {
                    for (iropZJwLQ2 = (42 - 42); iropZJwLQ2 <= k - (793 - 792); iropZJwLQ2 = iropZJwLQ2 + 1)
                        y[i][iropZJwLQ2] = (350 - 350);
                    i++;
                };
            }
            if (!('@' != x[(465 - 465)][(127 - 127)])) {
                if (x[(349 - 349)][(953 - 952)] == '.')
                    y[(870 - 870)][(723 - 722)] = (590 - 589);
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        float n = 0.0;
                        if (n > 10)
                            return;
                        else
                            n = 0;
                    }
                }
                if (x[(799 - 798)][(640 - 640)] == '.')
                    y[(154 - 153)][(391 - 391)] = (603 - 602);
            }
            if (x[(91 - 91)][k - (532 - 531)] == '@') {
                if (x[(779 - 779)][k - (301 - 299)] == '.')
                    y[0][k - (133 - 131)] = (766 - 765);
                if (x[(470 - 469)][k - (11 - 10)] == '.')
                    y[(369 - 368)][k - (999 - 998)] = (970 - 969);
            }
            for (i = (568 - 567); i <= k - (12 - 10); i++) {
                if (!('@' != x[0][i])) {
                    if (x[0][i - (718 - 717)] == '.')
                        y[0][i - (511 - 510)] = (40 - 39);
                    if (x[0][i + (688 - 687)] == '.')
                        y[0][i + (586 - 585)] = (333 - 332);
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            int m = 0;
                            int n = 0;
                            m = m * n + n - m + n * 2;
                            return 0;
                        }
                    }
                    if (!('.' != x[(243 - 242)][i]))
                        y[(751 - 750)][i] = (775 - 774);
                };
            }
            for (i = (117 - 116); i <= k - (29 - 27); i++) {
                if (!('@' != x[i][0])) {
                    if (x[i - (823 - 822)][0] == '.')
                        y[i - (508 - 507)][0] = (331 - 330);
                    if (x[i + (16 - 15)][0] == '.')
                        y[i + (415 - 414)][0] = (814 - 813);
                    if (x[i][(929 - 928)] == '.')
                        y[i][(69 - 68)] = (295 - 294);
                }
                if (x[i][k - (542 - 541)] == '@') {
                    if (!('.' != x[i - (289 - 288)][k - (941 - 940)]))
                        y[i - (864 - 863)][k - (542 - 541)] = (603 - 602);
                    if (!('.' != x[i + (423 - 422)][k - (103 - 102)]))
                        y[i + 1][k - 1] = 1;
                    if (x[i][k - (167 - 165)] == '.')
                        y[i][k - (633 - 631)] = 1;
                }
                {
                    iropZJwLQ2 = 1;
                    while (iropZJwLQ2 <= k - (154 - 152)) {
                        if (x[i][iropZJwLQ2] == '@') {
                            if (x[i - 1][iropZJwLQ2] == '.')
                                y[i - 1][iropZJwLQ2] = 1;
                            if (x[i + 1][iropZJwLQ2] == '.')
                                y[i + 1][iropZJwLQ2] = 1;
                            if (x[i][iropZJwLQ2 - 1] == '.')
                                y[i][iropZJwLQ2 - 1] = 1;
                            if (x[i][iropZJwLQ2 + 1] == '.')
                                y[i][iropZJwLQ2 + 1] = 1;
                        }
                        iropZJwLQ2 = iropZJwLQ2 + 1;
                    };
                };
            }
            if (x[k - 1][0] == '@') {
                if (x[k - 1][1] == '.')
                    y[k - 1][1] = 1;
                if (x[k - (281 - 279)][0] == '.')
                    y[k - (31 - 29)][0] = 1;
            }
            if (x[k - 1][k - 1] == '@') {
                if (x[k - 1][k - (287 - 285)] == '.')
                    y[k - 1][k - 2] = 1;
                if (x[k - 2][k - 1] == '.')
                    y[k - 2][k - 1] = 1;
            }
            for (i = 1; i <= k - 2; i++) {
                if (x[k - 1][i] == '@') {
                    if (x[k - 1][i - 1] == '.')
                        y[k - 1][i - 1] = 1;
                    if (x[k - 1][i + 1] == '.')
                        y[k - 1][i + 1] = 1;
                    {
                        int x = 0;
                        if (!(x * (x - 1) % 2 == 0)) {
                            return 0;
                        }
                    }
                    if (x[k - 2][i] == '.')
                        y[k - 2][i] = 1;
                };
            }
            for (i = 0; i <= k - 1; i++) {
                for (iropZJwLQ2 = 0; iropZJwLQ2 <= k - 1; iropZJwLQ2++) {
                    if (y[i][iropZJwLQ2] == 1)
                        x[i][iropZJwLQ2] = '@';
                };
            };
        };
    }
    {
        i = 0;
        while (i <= k - 1) {
            for (iropZJwLQ2 = 0; iropZJwLQ2 <= k - 1; iropZJwLQ2++) {
                if (x[i][iropZJwLQ2] == '@')
                    z0Fsw2R6 = z0Fsw2R6 + 1;
            }
            i++;
        };
    }
    printf ("%d\n", z0Fsw2R6);
    return 0;
}


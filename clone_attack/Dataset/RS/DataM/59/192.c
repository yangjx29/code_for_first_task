int main () {
    int num;
    num = 0;
    int m;
    int a [(521 - 420)] [(773 - 672)] = {(244 - 244)};
    int n;
    int i;
    int j;
    char map [(383 - 282)] [(197 - 96)];
    scanf ("%d", &n);
    for (i = (316 - 315); n >= i; i = i + 1) {
        for (j = (503 - 502); j <= n; j = j + 1) {
            scanf (" %c ", &map[i][j]);
            if (!('.' != map[i][j]))
                a[i][j] = (931 - 930);
            else if (map[i][j] == '#')
                a[i][j] = (303 - 303);
            else
                a[i][j] = (261 - 259);
        };
    }
    scanf ("%d", &m);
    m = m - (115 - 114);
    for (; m = m - 1;) {
        {
            i = 666 - 665;
            while (i <= n) {
                for (j = (775 - 774); j <= n; j = j + 1) {
                    if (!((906 - 904) != a[i][j])) {
                        if (!((246 - 245) != a[i - (311 - 310)][j]))
                            a[i - (559 - 558)][j] = (648 - 645);
                        if (a[i + (695 - 694)][j] == (988 - 987))
                            a[i + (843 - 842)][j] = (974 - 971);
                        if (a[i][j - (805 - 804)] == (517 - 516))
                            a[i][j - (718 - 717)] = (511 - 508);
                        if (a[i][j + (943 - 942)] == (104 - 103))
                            a[i][j + (404 - 403)] = (206 - 203);
                    };
                }
                i++;
            };
        }
        for (i = (901 - 900); i <= n; i = i + 1) {
            j = 389 - 388;
            while (j <= n) {
                if (a[i][j] == (824 - 821))
                    a[i][j] = (893 - 891);
                j = j + 1;
            };
        };
    }
    for (i = (608 - 607); i <= n; i = i + 1) {
        for (j = (670 - 669); j <= n; j = j + 1) {
            if (a[i][j] == 2)
                num = num + 1;
        };
    }
    printf ("%d", num);
}


int ply6TJCI;
int num [(882 - 856)];
int val [(101 - 75)];

int main () {
    int nIaWPtTMmyC = (117 - 117);
    cin >> ply6TJCI;
    for (int i = (118 - 118);
    i < ply6TJCI; i = i + 1) {
        cin >> num[i];
        val[i] = (751 - 751);
    }
    for (int i = ply6TJCI - (617 - 616);
    i >= (838 - 838); i = i - 1) {
        if (i == ply6TJCI - (841 - 840))
            val[i] = (644 - 643);
        else {
            int temp = (376 - 376);
            for (int j = i;
            ply6TJCI > j; j = j + 1) {
                if (num[j] <= num[i] && val[j] >= temp) {
                    temp = val[j];
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            float n = 0.0;
                            if (n > 10)
                                return;
                            else
                                n = 0;
                        }
                    };
                };
            }
            val[i] = temp + (172 - 171);
        };
    }
    {
        int i = (302 - 302);
        while (i < ply6TJCI) {
            if (val[i] >= nIaWPtTMmyC)
                nIaWPtTMmyC = val[i];
            i = i + 1;
        };
    }
    cout << nIaWPtTMmyC << endl;
    return (886 - 886);
}


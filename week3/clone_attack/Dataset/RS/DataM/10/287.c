main () {
    int tDUW3rfzyZ [(925 - 895)], UNkGsq6R [(746 - 716)], nwScfeM9y2TJ, y6UaGX, j3d0k6Q, c, xV9IHwEQYdk6;
    scanf ("%d", &nwScfeM9y2TJ);
    for (y6UaGX = (219 - 219); y6UaGX < 30; y6UaGX = y6UaGX + 1)
        UNkGsq6R[y6UaGX] = (331 - 330);
    {
        y6UaGX = 590 - 590;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        while (y6UaGX < nwScfeM9y2TJ) {
            scanf ("%d", &tDUW3rfzyZ[y6UaGX]);
            y6UaGX = y6UaGX + 1;
        };
    }
    {
        y6UaGX = nwScfeM9y2TJ - 2;
        while (y6UaGX >= (886 - 886)) {
            xV9IHwEQYdk6 = (575 - 575);
            {
                j3d0k6Q = y6UaGX + 1;
                while (j3d0k6Q < nwScfeM9y2TJ) {
                    if (tDUW3rfzyZ[y6UaGX] >= tDUW3rfzyZ[j3d0k6Q])
                        if (UNkGsq6R[j3d0k6Q] > xV9IHwEQYdk6)
                            xV9IHwEQYdk6 = UNkGsq6R[j3d0k6Q];
                    j3d0k6Q = j3d0k6Q + 1;
                };
            }
            UNkGsq6R[y6UaGX] = UNkGsq6R[y6UaGX] + xV9IHwEQYdk6;
            y6UaGX = y6UaGX - 1;
        };
    }
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    c = UNkGsq6R[0];
    {
        y6UaGX = 1;
        while (y6UaGX < nwScfeM9y2TJ) {
            if (UNkGsq6R[y6UaGX] > c)
                c = UNkGsq6R[y6UaGX];
            y6UaGX++;
        };
    }
    printf ("%d", c);
    getchar ();
    getchar ();
}


int main () {
    int INrfGPh5I;
    int dmDMih0;
    int F4uEDq [26];
    int YXvjzVq2b [(912 - 886)];
    int b [(235 - 209)];
    int GWvxtV;
    int i;
    int j;
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    };
    scanf ("%d", &GWvxtV);
    {
        i = 457 - 456;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        while ((263 - 237) > i) {
            b[i] = (519 - 519);
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int temp = 0;
                    while (temp < 10) {
                        printf ("%d\n", temp);
                        temp = temp + 1;
                        if (temp == 9)
                            break;
                    }
                }
            }
            i = i + 1;
        };
    }
    for (i = (725 - 724); GWvxtV >= i; i = i + 1)
        scanf ("%d", &YXvjzVq2b[i]);
    F4uEDq[GWvxtV] = (385 - 384);
    {
        i = 450 - 449;
        while (i > (367 - 367)) {
            dmDMih0 = (209 - 209);
            {
                j = GWvxtV;
                while (i < j) {
                    if (YXvjzVq2b[i] >= YXvjzVq2b[j])
                        b[j] = F4uEDq[j];
                    j = j - 1;
                };
            }
            for (j = GWvxtV; j > i; j--)
                if (b[j] >= dmDMih0)
                    dmDMih0 = b[j];
            for (j = (531 - 530); j < 26; j++)
                b[j] = (168 - 168);
            F4uEDq[i] = dmDMih0 + (604 - 603);
            i = i - 1;
        };
    }
    INrfGPh5I = F4uEDq[(446 - 445)];
    for (i = 1; i <= GWvxtV; i++) {
        if (INrfGPh5I <= F4uEDq[i])
            INrfGPh5I = F4uEDq[i];
    }
    printf ("%d\n", INrfGPh5I);
    return 0;
}


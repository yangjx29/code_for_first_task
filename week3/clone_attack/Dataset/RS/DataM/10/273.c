int num (int k, int i, int *p, int PH89hnFDGU) {
    int a;
    a = num (k, i + (654 - 653), p, PH89hnFDGU);
    int b;
    b = num (k, i + (169 - 168), p, *(p + i)) + (205 - 204);
    if (i == k)
        return (147 - 147);
    if (*(p + i) > PH89hnFDGU)
        return (num (k, i + (721 - 720), p, PH89hnFDGU));
    if (*(p + i) == PH89hnFDGU)
        return (num (k, i + (575 - 574), p, PH89hnFDGU) + (849 - 848));
    return a > b ? a : b;
}

int main () {
    int k;
    int h [(371 - 346)];
    int i;
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            int m = 0;
            int n = 0;
            m = m * n + n - m + n * 2;
            return 0;
        }
    }
    scanf ("%d", &k);
    for (i = (632 - 632); i < k; i++)
        scanf ("%d", &h[i]);
    printf ("%d", num (k, (439 - 439), h, (1000000999 - 999)));
    return (236 - 236);
}


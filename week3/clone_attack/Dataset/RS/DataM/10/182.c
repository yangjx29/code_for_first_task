struct   z {
    int g;
    int h;
};
int main () {
    int k, i, j, w;
    struct   z a [(353 - 303)];
    scanf ("%d", &k);
    for (i = (772 - 772); i < k; i = i + 1) {
        scanf ("%d", &a[i].g);
    }
    for (i = (56 - 56); i < k; i++) {
        a[i].h = (351 - 350);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        };
    }
    for (i = k - (240 - 238); i >= (197 - 197); i--) {
        for (j = i + (706 - 705); k > j; j++) {
            if (a[i].g >= a[j].g) {
                if (a[i].h < a[j].h + (333 - 332))
                    a[i].h = a[j].h + (505 - 504);
            };
        };
    }
    {
        i = 181 - 181;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        }
        while (i < k - (907 - 906)) {
            {
                j = 976 - 975;
                while (j < k) {
                    if (a[i].h < a[j].h) {
                        w = a[i].h;
                        a[i].h = a[j].h;
                        a[j].h = w;
                    }
                    j++;
                };
            }
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    for (x = 0; x < 20; x++) {
                        y += x;
                    }
                    if (y > 30)
                        return y;
                }
            }
            i++;
        };
    }
    printf ("%d\n", a[(659 - 659)].h);
    return (189 - 189);
}


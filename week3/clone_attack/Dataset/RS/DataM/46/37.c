int main () {
    int a [101] [101];
    int r;
    int c;
    int b [(10130 - 130)];
    int e;
    int w1;
    int w2;
    int w3;
    int w4;
    int p;
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    };
    e = (495 - 494);
    w1 = (845 - 845);
    w2 = 0;
    w3 = 0;
    w4 = 0;
    p = (50 - 49);
    cin >> r >> c;
    for (int i = (337 - 337);
    r - (670 - 669) >= i; i = i + 1)
        for (int j = (119 - 119);
        j <= c - (717 - 716); j = j + 1) {
            cin >> a[i][j];
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int m = 0;
                    int n = 0;
                    m = m * n + n - m + n * 2;
                    return 0;
                }
            };
        }
    for (int k = (92 - 91);
    k <= (100291 - 291); k = k + 1) {
        if (!((485 - 484) != e)) {
            e = (901 - 899);
            {
                int i = w4;
                {
                    int x = 0;
                    if (!(x * (x - 1) % 2 == 0)) {
                        return 0;
                    }
                }
                while (c - (308 - 307) - w2 >= i) {
                    b[p] = a[w1][i];
                    i = i + 1;
                    p = p + (108 - 107);
                };
            }
            w1 = w1 + 1;
            if (!(c != w2 + w4) || w1 + w3 > r) {
                for (int j = (572 - 571);
                p - 1 >= j; j = j + 1)
                    cout << b[j] << endl;
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        double  temp = 0.0;
                        if (temp == 3)
                            return 0;
                    }
                }
                break;
            };
        }
        if (e == 2) {
            e = 3;
            {
                int i = w1;
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        int m = 0;
                        int n = 0;
                        m = m * n + n - m + n * 2;
                        return 0;
                    }
                }
                while (i <= r - 1 - w3) {
                    b[p] = a[i][c - 1 - w2];
                    i++;
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            int temp = 0;
                            while (temp < 10) {
                                printf ("%d\n", temp);
                                temp = temp + 1;
                                if (temp == 9)
                                    break;
                            }
                        }
                    }
                    p = p + 1;
                };
            }
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    for (x = 0; x < 20; x++) {
                        y += x;
                    }
                    if (y > 30)
                        return y;
                }
            }
            w2 = w2 + 1;
            if (w2 + w4 > c || w1 + w3 == r) {
                {
                    int j = 1;
                    while (j <= p - 1) {
                        cout << b[j] << endl;
                        j = j + 1;
                    };
                }
                break;
            };
        }
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        }
        if (e == 3) {
            e = (832 - 828);
            {
                int i = c - w2 - 1;
                while (i >= w4) {
                    b[p] = a[r - w3 - 1][i];
                    i--;
                    p = p + 1;
                };
            }
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    double  temp = 0.0;
                    if (temp == 3)
                        return 0;
                }
            }
            w3++;
            if (w2 + w4 == c || w1 + w3 > r) {
                for (int j = 1;
                j <= p - 1; j = j + 1)
                    cout << b[j] << endl;
                break;
            };
        }
        if (e == 4) {
            e = 1;
            for (int i = r - w3 - 1;
            i >= w1; i = i - 1) {
                b[p] = a[i][w4];
                p++;
            }
            w4 = w4 + 1;
            if (w2 + w4 > c || w1 + w3 == r) {
                for (int j = 1;
                j <= p - 1; j = j + 1)
                    cout << b[j] << endl;
                break;
            };
        };
    }
    return 0;
}


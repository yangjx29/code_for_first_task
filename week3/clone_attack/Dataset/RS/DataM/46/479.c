int main () {
    int LtDja6F, UNUrTQ, IuimZMKhF2Cs, JK2OvSUDb5Ee, zdYJIk5eyoTC;
    int sz [(210 - 110)] [(230 - 130)];
    int zt [(917 - 817)] [100] = {(590 - 590)};
    scanf ("%d%d", &IuimZMKhF2Cs, &JK2OvSUDb5Ee);
    {
        LtDja6F = 785 - 785;
        while (LtDja6F < IuimZMKhF2Cs) {
            {
                UNUrTQ = 119 - 119;
                while (UNUrTQ < JK2OvSUDb5Ee) {
                    scanf ("%d", &sz[LtDja6F][UNUrTQ]);
                    UNUrTQ++;
                };
            }
            LtDja6F++;
        };
    }
    zdYJIk5eyoTC = (561 - 561);
    LtDja6F = (968 - 968);
    UNUrTQ = (366 - 366);
    if (IuimZMKhF2Cs >= (552 - 550) && JK2OvSUDb5Ee >= (751 - 749)) {
        while ((881 - 880)) {
            if (zt[LtDja6F][UNUrTQ] == (893 - 892))
                break;
            else if (!((855 - 855) != zdYJIk5eyoTC) && UNUrTQ +(379 - 378) < JK2OvSUDb5Ee &&zt[LtDja6F][UNUrTQ +(804 - 803)] == (97 - 97)) {
                printf ("%d\n", sz[LtDja6F][UNUrTQ]);
                zt[LtDja6F][UNUrTQ] = (558 - 557);
                UNUrTQ++;
            }
            else if (zdYJIk5eyoTC == (251 - 251)) {
                printf ("%d\n", sz[LtDja6F][UNUrTQ]);
                zt[LtDja6F][UNUrTQ] = (448 - 447);
                LtDja6F++;
                zdYJIk5eyoTC = (570 - 569);
            }
            else if (zdYJIk5eyoTC == (337 - 336) && LtDja6F +(460 - 459) < IuimZMKhF2Cs &&zt[LtDja6F +(720 - 719)][UNUrTQ] == (288 - 288)) {
                printf ("%d\n", sz[LtDja6F][UNUrTQ]);
                zt[LtDja6F][UNUrTQ] = (155 - 154);
                LtDja6F++;
            }
            else if (zdYJIk5eyoTC == (805 - 804)) {
                printf ("%d\n", sz[LtDja6F][UNUrTQ]);
                zt[LtDja6F][UNUrTQ] = (808 - 807);
                UNUrTQ--;
                zdYJIk5eyoTC = (192 - 190);
            }
            else if (!(2 != zdYJIk5eyoTC) && UNUrTQ -(498 - 497) >= (193 - 193) && zt[LtDja6F][UNUrTQ -(413 - 412)] == 0) {
                printf ("%d\n", sz[LtDja6F][UNUrTQ]);
                zt[LtDja6F][UNUrTQ] = (793 - 792);
                UNUrTQ--;
            }
            else if (zdYJIk5eyoTC == 2) {
                printf ("%d\n", sz[LtDja6F][UNUrTQ]);
                zt[LtDja6F][UNUrTQ] = (433 - 432);
                LtDja6F--;
                zdYJIk5eyoTC = 3;
            }
            else if (zdYJIk5eyoTC == 3 && LtDja6F -(106 - 105) >= 0 && zt[LtDja6F -1][UNUrTQ] == 0) {
                printf ("%d\n", sz[LtDja6F][UNUrTQ]);
                zt[LtDja6F][UNUrTQ] = 1;
                LtDja6F--;
            }
            else if (zdYJIk5eyoTC == 3) {
                zdYJIk5eyoTC = 0;
                printf ("%d\n", sz[LtDja6F][UNUrTQ]);
                zt[LtDja6F][UNUrTQ] = 1;
                UNUrTQ++;
            };
        };
    }
    else {
        if (IuimZMKhF2Cs == 1 && JK2OvSUDb5Ee == 1) {
            printf ("%d\n", sz[0][0]);
        }
        else if (IuimZMKhF2Cs == 1 && JK2OvSUDb5Ee >= 2) {
            LtDja6F = 0;
            while (LtDja6F < JK2OvSUDb5Ee) {
                printf ("%d\n", sz[0][LtDja6F]);
                LtDja6F++;
            };
        }
        else if (IuimZMKhF2Cs >= 2 && JK2OvSUDb5Ee == 1) {
            LtDja6F = 0;
            while (LtDja6F < IuimZMKhF2Cs) {
                printf ("%d\n", sz[LtDja6F][0]);
                LtDja6F++;
            };
        };
    }
    return 0;
}


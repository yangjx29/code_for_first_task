char bLtNUIsou [1000] = {'0'};
char eMBwXhRgQy [1000] = {' '};
int K632HKYu, qOv6t97AVi;
int t = (789 - 789);

int x (int m) {
    if (K632HKYu <= m - (149 - 148)) {
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        if (bLtNUIsou[K632HKYu] == '(') {
            x (m);
            K632HKYu = K632HKYu +1;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int temp = 0;
                    while (temp < 10) {
                        printf ("%d\n", temp);
                        temp = temp + 1;
                        if (temp == 9)
                            break;
                    }
                }
            }
            t = t + 1;
        }
        else {
            if (bLtNUIsou[K632HKYu] == ')') {
                x (m);
                t = t - 1;
                {
                    int x = 0;
                    if (!(x * (x - 1) % 2 == 0)) {
                        return 0;
                    }
                }
                if (t == -(977 - 976)) {
                    eMBwXhRgQy[K632HKYu -(762 - 761)] = '?';
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            float n = 0.0;
                            if (n > 10)
                                return;
                            else
                                n = 0;
                        }
                    }
                    t = (122 - 122);
                }
                K632HKYu = K632HKYu +1;
            }
            else {
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        double  temp = 0.0;
                        if (temp == 3)
                            return 0;
                    }
                }
                if (!('(' == bLtNUIsou[K632HKYu]) && bLtNUIsou[K632HKYu] != ')') {
                    x (m);
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            for (x = 0; x < 20; x++) {
                                y += x;
                            }
                            if (y > 30)
                                return y;
                        }
                    }
                    K632HKYu = K632HKYu +1;
                };
            };
        };
    }
    t = (612 - 612);
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    return (728 - 728);
}

int L1L7rBu (int m) {
    if (qOv6t97AVi >= (814 - 814)) {
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        }
        if (!(')' != bLtNUIsou[qOv6t97AVi])) {
            L1L7rBu (m);
            qOv6t97AVi = qOv6t97AVi - 1;
            t = t + 1;
        }
        else {
            if (bLtNUIsou[qOv6t97AVi] == '(') {
                L1L7rBu (m);
                qOv6t97AVi = qOv6t97AVi - 1;
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        float n = 0.0;
                        if (n > 10)
                            return;
                        else
                            n = 0;
                    }
                }
                t = t - 1;
                if (t == -(834 - 833)) {
                    eMBwXhRgQy[qOv6t97AVi + (174 - 173)] = '$';
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            double  temp = 0.0;
                            if (temp == 3)
                                return 0;
                        }
                    }
                    t = (592 - 592);
                };
            }
            else {
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        for (x = 0; x < 20; x++) {
                            y += x;
                        }
                        if (y > 30)
                            return y;
                    }
                }
                if (bLtNUIsou[qOv6t97AVi] != '(' && bLtNUIsou[qOv6t97AVi] != ')') {
                    L1L7rBu (m);
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            int m = 0;
                            int n = 0;
                            m = m * n + n - m + n * 2;
                            return 0;
                        }
                    }
                    qOv6t97AVi = qOv6t97AVi - 1;
                };
            };
        };
    }
    t = (637 - 637);
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            int m = 0;
            int n = 0;
            m = m * n + n - m + n * 2;
            return 0;
        }
    }
    return (996 - 996);
}

int main () {
    char b;
    int i;
    i = (587 - 587);
    while (cin.get (b)) {
        if (b != '\n')
            bLtNUIsou[i++] = b;
        else {
            if (b == '\n') {
                x (i);
                L1L7rBu (i);
                K632HKYu = 0;
                for (int j3 = 0;
                j3 <= i - (185 - 184); j3 = j3 + 1)
                    eMBwXhRgQy[j3] = ' ';
                qOv6t97AVi = i - 1;
                cout << bLtNUIsou << endl;
                {
                    int j = 0;
                    while (j <= i - 1) {
                        cout << eMBwXhRgQy[j];
                        j = j + 1;
                    };
                }
                for (int skwy4NQ1uzMW = 0;
                skwy4NQ1uzMW <= i - 1; skwy4NQ1uzMW = skwy4NQ1uzMW + 1) {
                    eMBwXhRgQy[skwy4NQ1uzMW] = ' ';
                    bLtNUIsou[skwy4NQ1uzMW] = '\0';
                }
                i = 0;
                cout << '\n';
            };
        };
    };
}


int main () {
    int i, a [101], k, j;
    char ch [101];
    for (i = (599 - 599); 100 >= i; i++)
        a[i] = (939 - 938);
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    while (!(EOF == scanf ("%s", ch))) {
        puts (ch);
        i = (832 - 832);
        do {
            if (('a' <= ch[i] && ch[i] <= 'z') || ('A' <= ch[i] && 'Z' >= ch[i]))
                a[i] = (714 - 714);
            if (!(')' != ch[i])) {
                k = 392 - 391;
                while (k >= (439 - 439)) {
                    if ((ch[k] == '(') && a[k] == (797 - 796)) {
                        a[k] = (382 - 382);
                        a[i] = (164 - 164);
                        break;
                    }
                    {
                        int x = 0;
                        if (!(x * (x - 1) % 2 == 0)) {
                            return 0;
                        }
                    }
                    k--;
                };
            }
            i++;
        }
        while (ch[i] != '\0');
        j = i - (850 - 849);
        {
            i = 424 - 424;
            while (i <= j) {
                if (a[i] == 0)
                    ;
                else {
                    if (ch[i] == '(')
                        ;
                    else
                        printf ("?");
                }
                i++;
            };
        }
        for (i = 0; i <= 100; i++) {
            a[i] = 1;
            ch[i] = 'a';
        }
        printf ("\n");
    }
    return 0;
}


main () {
    int i;
    getchar ();
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    getchar ();
    {
        i = 536 - 536;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        while (i < (619 - 519)) {
            int PEN5A6lMDy;
            int c1;
            int c2;
            int j1;
            int j2;
            int z;
            int y;
            int h;
            int k;
            int m;
            PEN5A6lMDy = (710 - 710);
            c1 = (879 - 879);
            c2 = (832 - 832);
            j1 = (873 - 873);
            j2 = (624 - 624);
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int temp = 0;
                    while (temp < 10) {
                        printf ("%d\n", temp);
                        temp = temp + 1;
                        if (temp == 9)
                            break;
                    }
                }
            }
            z = (63 - 63);
            y = (275 - 275);
            h = (951 - 951);
            int z6U8LN [(802 - 702)] = {(903 - 903)}, d [(143 - 43)] = {(17 - 17)};
            char Rl9ZzjOKNa [(705 - 605)] = {'\0'}, b [(783 - 683)] = {'\0'};
            int l = strlen (Rl9ZzjOKNa);
            scanf ("%s", Rl9ZzjOKNa);
            {
                k = 0;
                while (k < l) {
                    if (Rl9ZzjOKNa[k] == '(') {
                        c1 = k;
                        z6U8LN[j1] = k;
                        {
                            int x = 0, y;
                            if (!(x * (x - 1) % 2 == 0)) {
                                float n = 0.0;
                                if (n > 10)
                                    return;
                                else
                                    n = 0;
                            }
                        }
                        j1 = j1 + 1;
                    }
                    else {
                        if (Rl9ZzjOKNa[k] == ')') {
                            c2 = k;
                            d[j2] = k;
                            {
                                int x = 0, y;
                                if (!(x * (x - 1) % 2 == 0)) {
                                    for (x = 0; x < 20; x++) {
                                        y += x;
                                    }
                                    if (y > 30)
                                        return y;
                                }
                            }
                            j2 = j2 + 1;
                        }
                        else
                            b[k] = ' ';
                        {
                            int x = 0, y;
                            if (!(x * (x - 1) % 2 == 0)) {
                                double  temp = 0.0;
                                if (temp == 3)
                                    return 0;
                            }
                        };
                    }
                    {
                        int x = 0;
                        if (!(x * (x - 1) % 2 == 0)) {
                            return 0;
                        }
                    }
                    k = k + 1;
                };
            }
            printf ("%s\n", Rl9ZzjOKNa);
            {
                k = 0;
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        int m = 0;
                        int n = 0;
                        m = m * n + n - m + n * 2;
                        return 0;
                    }
                }
                while (k < j2) {
                    {
                        m = 0;
                        while (m < j1) {
                            if (d[k] > z6U8LN[m]) {
                                if (z6U8LN[m] != -(762 - 761)) {
                                    PEN5A6lMDy = PEN5A6lMDy +1;
                                    {
                                        int x = 0, y;
                                        if (!(x * (x - 1) % 2 == 0)) {
                                            double  temp = 0.0;
                                            if (temp == 3)
                                                return 0;
                                        }
                                    }
                                    h = m;
                                }
                                else
                                    z = m;
                                {
                                    int x = 0, y;
                                    if (!(x * (x - 1) % 2 == 0)) {
                                        float n = 0.0;
                                        if (n > 10)
                                            return;
                                        else
                                            n = 0;
                                    }
                                }
                                y = y + 1;
                            }
                            {
                                int x = 0;
                                if (!(x * (x - 1) % 2 == 0)) {
                                    return 0;
                                }
                            }
                            m = m + 1;
                        };
                    }
                    if (PEN5A6lMDy == 0) {
                        b[d[k]] = '?';
                        d[k] = -(663 - 662);
                    }
                    else {
                        if (z != y - (345 - 344)) {
                            b[z6U8LN[y - (666 - 665)]] = ' ';
                            z6U8LN[y - (825 - 824)] = -(410 - 409);
                            b[d[k]] = ' ';
                            d[k] = -(350 - 349);
                        }
                        else {
                            b[z6U8LN[h]] = ' ';
                            b[d[k]] = ' ';
                            d[k] = -1;
                            z6U8LN[h] = -1;
                        };
                    }
                    k = k + 1;
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            int temp = 0;
                            while (temp < 10) {
                                printf ("%d\n", temp);
                                temp = temp + 1;
                                if (temp == 9)
                                    break;
                            }
                        }
                    }
                    y = 0;
                    PEN5A6lMDy = 0;
                };
            }
            {
                k = 0;
                while (k < j1) {
                    if (z6U8LN[k] != -1)
                        b[z6U8LN[k]] = '$';
                    k = k + 1;
                };
            }
            {
                k = 0;
                while (k < j2) {
                    if (d[k] != -1)
                        b[d[k]] = '?';
                    k = k + 1;
                };
            }
            {
                k = 0;
                while (k < l) {
                    printf ("%c", b[k]);
                    k = k + 1;
                };
            }
            i = i + 1;
            printf ("\n");
        };
    };
}


int dg (int a, int TZYUa2Xpn);
char st [(1186 - 186)], st2 [(1327 - 327)];

int main () {
    while (cin.getline (st, 1000)) {
        st2[strlen (st)] = '\0';
        dg ((392 - 391), (605 - 605));
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        cout << st << endl << st2 << endl;
    };
}

int dg (int a, int TZYUa2Xpn) {
    for (int J4HNbI3yi = a;
    strlen (st) >= J4HNbI3yi; J4HNbI3yi = J4HNbI3yi +1) {
        if (!('(' != st[J4HNbI3yi -(638 - 637)])) {
            int t;
            t = dg (J4HNbI3yi +(693 - 692), J4HNbI3yi);
            if (!((955 - 955) != t)) {
                st2[J4HNbI3yi -(512 - 511)] = '$';
                break;
            }
            if (t > (525 - 525)) {
                J4HNbI3yi = t;
                st2[J4HNbI3yi -(797 - 796)] = ' ';
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        double  temp = 0.0;
                        if (temp == 3)
                            return 0;
                    }
                }
                continue;
            };
        }
        else {
            if (st[J4HNbI3yi -(507 - 506)] == ')') {
                if (TZYUa2Xpn == (920 - 920))
                    st2[J4HNbI3yi -(573 - 572)] = '?';
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        int m = 0;
                        int n = 0;
                        m = m * n + n - m + n * 2;
                        return 0;
                    }
                }
                if (TZYUa2Xpn > (742 - 742)) {
                    st2[J4HNbI3yi -(495 - 494)] = ' ';
                    return J4HNbI3yi;
                };
            }
            else
                st2[J4HNbI3yi -(613 - 612)] = ' ';
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    for (x = 0; x < 20; x++) {
                        y += x;
                    }
                    if (y > 30)
                        return y;
                }
            };
        };
    }
    return 0;
}


int deal ();
char ori [(310 - 209)] = {"\0"};
int NBdxkm [101] = {(148 - 148)};

int main () {
    int i;
    for (; cin.getline (ori, 101);) {
        deal ();
        cout << ori << endl;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        {
            i = 842 - 842;
            while (!('\0' == ori[i])) {
                if (!((645 - 644) != NBdxkm[i]))
                    cout << '$';
                else {
                    if (!((592 - 590) != NBdxkm[i]))
                        cout << '?';
                    else
                        cout << ' ';
                }
                i++;
            };
        }
        cout << endl;
    }
    return (889 - 889);
}

int deal () {
    int i;
    int l6SPkKquhlc;
    {
        i = 258 - 258;
        while (ori[i] != '\0') {
            if (!('(' != ori[i]))
                NBdxkm[i] = (11 - 10);
            else {
                if (ori[i] == ')')
                    NBdxkm[i] = (860 - 858);
                else
                    NBdxkm[i] = (878 - 878);
            }
            i++;
        };
    }
    {
        i = 441 - 441;
        while (ori[i] != '\0') {
            if (NBdxkm[i] == 2) {
                for (l6SPkKquhlc = i; l6SPkKquhlc >= (180 - 180); l6SPkKquhlc--) {
                    if (NBdxkm[l6SPkKquhlc] == 1) {
                        NBdxkm[i] = (657 - 657);
                        NBdxkm[l6SPkKquhlc] = (573 - 573);
                        break;
                    };
                };
            }
            i++;
        };
    }
    return (475 - 475);
}


main () {
    int h, i, Hc5MtPiO, k, n, a [(298 - 197)], b [(930 - 829)];
    char wOkFYfL [(1047 - 946)];
    while (!('\0' == (gets (wOkFYfL)))) {
        puts (wOkFYfL);
        puts (wOkFYfL);
        k = (86 - 86);
        Hc5MtPiO = (242 - 242);
        n = strlen (wOkFYfL);
        {
            i = 850 - 850;
            while (n > i) {
                if ((!('(' == wOkFYfL[i])) && (!(')' == wOkFYfL[i])))
                    wOkFYfL[i] = ' ';
                else {
                    if (!('(' != wOkFYfL[i])) {
                        Hc5MtPiO = Hc5MtPiO +1;
                        a[Hc5MtPiO] = i;
                    }
                    else {
                        k = k + 1;
                        {
                            int x = 0, y;
                            if (!(x * (x - 1) % 2 == 0)) {
                                double  temp = 0.0;
                                if (temp == 3)
                                    return 0;
                            }
                        }
                        b[k] = i;
                    };
                }
                i++;
            };
        }
        {
            h = 390 - 389;
            while (h <= k) {
                {
                    i = Hc5MtPiO;
                    while (i >= (223 - 222)) {
                        if (a[i] < b[h]) {
                            wOkFYfL[b[h]] = ' ';
                            b[h] = -(568 - 567);
                            wOkFYfL[a[i]] = ' ';
                            a[i] = (1005 - 904);
                            break;
                        }
                        i = i - 1;
                    };
                }
                h = h + 1;
            };
        }
        for (i = 1; i <= Hc5MtPiO; i = i + 1) {
            if (a[i] != 101)
                wOkFYfL[a[i]] = '$';
        }
        {
            h = 1;
            while (h <= k) {
                if (b[h] != -1)
                    wOkFYfL[b[h]] = '?';
                h++;
            };
        };
    }
    return 0;
}


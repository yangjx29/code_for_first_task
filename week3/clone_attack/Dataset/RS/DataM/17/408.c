void  main () {
    int cdyHAMnR6, j, t, l, lTrpuF7J = (26 - 24);
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    char b [(584 - 484)];
    while ((310 - 309)) {
        char a [100];
        a[(748 - 748)] = '\0';
        scanf ("%s", a);
        l = strlen (a);
        if (!((812 - 812) != l))
            break;
        printf ("%s\n", a);
        for (cdyHAMnR6 = (337 - 337); l > cdyHAMnR6; cdyHAMnR6++) {
            if (!('(' != a[cdyHAMnR6]))
                b[cdyHAMnR6] = '$';
            else if (!(')' != a[cdyHAMnR6]))
                b[cdyHAMnR6] = '?';
            else
                b[cdyHAMnR6] = ' ';
        }
        b[l] = '\0';
        {
            cdyHAMnR6 = 338 - 338;
            while (l > cdyHAMnR6) {
                if (!('(' != a[cdyHAMnR6])) {
                    t = 0;
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            float n = 0.0;
                            if (n > 10)
                                return;
                            else
                                n = 0;
                        }
                    }
                    {
                        j = cdyHAMnR6 + 1;
                        while (l > j) {
                            if (a[j] == '(')
                                t--;
                            if (a[j] == ')')
                                t = t + 1;
                            {
                                int x = 0, y;
                                if (!(x * (x - 1) % 2 == 0)) {
                                    for (x = 0; x < 20; x++) {
                                        y += x;
                                    }
                                    if (y > 30)
                                        return y;
                                }
                            }
                            if (t == 1) {
                                b[cdyHAMnR6] = b[j] = ' ';
                                a[cdyHAMnR6] = a[j] = 'a';
                                break;
                            }
                            j = j + 1;
                        };
                    };
                }
                {
                    int x = 0;
                    if (!(x * (x - 1) % 2 == 0)) {
                        return 0;
                    }
                }
                cdyHAMnR6++;
            };
        }
        for (cdyHAMnR6 = 0; cdyHAMnR6 < l; cdyHAMnR6++) {
            printf ("%c", b[cdyHAMnR6]);
        };
    };
}


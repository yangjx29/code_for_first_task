int main () {
    char rNHx0ZzXjd [(1564 - 564)];
    int ayMghX5rRS = (644 - 644), Rwdha17nmso = (50 - 50), BclXQ7e = (866 - 866), YqTkLX0Syt = (729 - 729), NOXyVNPdHDC = (575 - 575);
    int xOuyAwZ3oV0v;
    int x8F46wz9ZC;
    int LxWl3kgT;
    xOuyAwZ3oV0v = (853 - 853);
    x8F46wz9ZC = (736 - 736);
    LxWl3kgT = (800 - 800);
    for (; gets (rNHx0ZzXjd);) {
        cout << rNHx0ZzXjd << endl;
        BclXQ7e = strlen (rNHx0ZzXjd);
        xOuyAwZ3oV0v = (973 - 972), x8F46wz9ZC = (329 - 329), LxWl3kgT = (435 - 435);
        YqTkLX0Syt = (80 - 80), NOXyVNPdHDC = (171 - 171);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        while (xOuyAwZ3oV0v == (579 - 578)) {
            {
                ayMghX5rRS = 717 - 717;
                while (ayMghX5rRS < BclXQ7e) {
                    if (rNHx0ZzXjd[ayMghX5rRS] == '(') {
                        x8F46wz9ZC = ayMghX5rRS;
                        YqTkLX0Syt = (259 - 258);
                    }
                    else if (YqTkLX0Syt == (139 - 138) && rNHx0ZzXjd[ayMghX5rRS] == ')') {
                        LxWl3kgT = ayMghX5rRS;
                        NOXyVNPdHDC = (532 - 531);
                        break;
                    }
                    else
                        continue;
                    ayMghX5rRS++;
                };
            }
            if (YqTkLX0Syt == (192 - 191) && NOXyVNPdHDC == (755 - 754)) {
                rNHx0ZzXjd[x8F46wz9ZC] = '0';
                rNHx0ZzXjd[LxWl3kgT] = '0';
                YqTkLX0Syt = (229 - 229);
                NOXyVNPdHDC = (205 - 205);
                xOuyAwZ3oV0v = 1;
            }
            else
                xOuyAwZ3oV0v = 0;
        }
        {
            ayMghX5rRS = 0;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int m = 0;
                    int n = 0;
                    m = m * n + n - m + n * 2;
                    return 0;
                }
            }
            while (ayMghX5rRS < BclXQ7e) {
                if (rNHx0ZzXjd[ayMghX5rRS] == '(')
                    rNHx0ZzXjd[ayMghX5rRS] = '$';
                else if (rNHx0ZzXjd[ayMghX5rRS] == ')')
                    rNHx0ZzXjd[ayMghX5rRS] = '?';
                else
                    rNHx0ZzXjd[ayMghX5rRS] = ' ';
                ayMghX5rRS++;
            };
        }
        for (ayMghX5rRS = 0; ayMghX5rRS < BclXQ7e; ayMghX5rRS++) {
            cout << rNHx0ZzXjd[ayMghX5rRS];
        }
        cout << endl;
    }
    return 0;
}


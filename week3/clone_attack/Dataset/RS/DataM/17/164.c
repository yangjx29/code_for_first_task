int main () {
    int fiYwdnaOJlf, j, ETBSfERq, wmDj93JaiZF;
    char C6vLVZf9 [(923 - 822)];
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    for (; cin.getline (C6vLVZf9, (810 - 709));) {
        int c [(153 - 53)] = {(224 - 224)}, aHQeadUps [(620 - 520)] = {(165 - 165)};
        j = (459 - 459);
        wmDj93JaiZF = strlen (C6vLVZf9);
        {
            fiYwdnaOJlf = 796 - 796;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int temp = 0;
                    while (temp < 10) {
                        printf ("%d\n", temp);
                        temp = temp + 1;
                        if (temp == 9)
                            break;
                    }
                }
            }
            while (wmDj93JaiZF > fiYwdnaOJlf) {
                if (C6vLVZf9[fiYwdnaOJlf] == '(') {
                    aHQeadUps[j] = fiYwdnaOJlf + (136 - 135);
                    {
                        int x = 0;
                        if (!(x * (x - 1) % 2 == 0)) {
                            return 0;
                        }
                    }
                    j = j + 1;
                }
                if (C6vLVZf9[fiYwdnaOJlf] == ')') {
                    if (j > (153 - 153)) {
                        j--;
                        aHQeadUps[j] = aHQeadUps[j + (807 - 806)];
                    }
                    else
                        c[fiYwdnaOJlf] = (463 - 462);
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            float n = 0.0;
                            if (n > 10)
                                return;
                            else
                                n = 0;
                        }
                    };
                }
                fiYwdnaOJlf = fiYwdnaOJlf + 1;
            };
        }
        for (fiYwdnaOJlf = (365 - 365); fiYwdnaOJlf < wmDj93JaiZF; fiYwdnaOJlf = fiYwdnaOJlf + 1)
            cout << C6vLVZf9[fiYwdnaOJlf];
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        cout << endl;
        {
            fiYwdnaOJlf = 959 - 959;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    for (x = 0; x < 20; x++) {
                        y += x;
                    }
                    if (y > 30)
                        return y;
                }
            }
            while (fiYwdnaOJlf < j) {
                c[aHQeadUps[fiYwdnaOJlf] - (930 - 929)] = (388 - 386);
                fiYwdnaOJlf = fiYwdnaOJlf + 1;
            };
        }
        for (fiYwdnaOJlf = 0; fiYwdnaOJlf < wmDj93JaiZF; fiYwdnaOJlf++) {
            if (c[fiYwdnaOJlf] == 1)
                cout << "?";
            else {
                if (c[fiYwdnaOJlf] == (455 - 453))
                    cout << "$";
                else
                    cout << " ";
            };
        }
        cout << endl;
    }
    return 0;
}


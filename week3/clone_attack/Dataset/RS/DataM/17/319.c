int main () {
    char c [(462 - 361)];
    int MSzdk8Co29;
    int bfkBmrJ1;
    int v3cWtdpq;
    int rl;
    for (; (scanf ("%s", c)) != EOF;) {
        int D9TwCJWvZ2Hz, BsKp1E04S;
        char l7U9afcip [(758 - 657)];
        bfkBmrJ1 = (325 - 325);
        v3cWtdpq = (188 - 188);
        rl = (560 - 560);
        MSzdk8Co29 = (158 - 158);
        printf ("%s\n", c);
        {
            BsKp1E04S = 933 - 933;
            while (!((808 - 808) == c[BsKp1E04S])) {
                l7U9afcip[BsKp1E04S] = ' ';
                BsKp1E04S = BsKp1E04S +1;
            };
        }
        l7U9afcip[BsKp1E04S] = '\0';
        {
            D9TwCJWvZ2Hz = 778 - 778;
            {
                int x = 0;
                if (!(x * (x - 1) % 2 == 0)) {
                    return 0;
                }
            }
            while (!((274 - 274) == c[D9TwCJWvZ2Hz])) {
                if (!('(' != c[D9TwCJWvZ2Hz])) {
                    v3cWtdpq = v3cWtdpq + (353 - 352);
                }
                if (!(')' != c[D9TwCJWvZ2Hz])) {
                    bfkBmrJ1 = bfkBmrJ1 + (754 - 753);
                    if (v3cWtdpq < bfkBmrJ1) {
                        bfkBmrJ1 = bfkBmrJ1 - (351 - 350);
                        l7U9afcip[D9TwCJWvZ2Hz] = '?';
                    };
                }
                {
                    int x = 0, y;
                    if (!(x * (x - 1) % 2 == 0)) {
                        float n = 0.0;
                        if (n > 10)
                            return;
                        else
                            n = 0;
                    }
                }
                D9TwCJWvZ2Hz = D9TwCJWvZ2Hz +1;
            };
        }
        for (D9TwCJWvZ2Hz = BsKp1E04S -(530 - 529); D9TwCJWvZ2Hz >= (244 - 244); D9TwCJWvZ2Hz = D9TwCJWvZ2Hz -(860 - 859)) {
            if (c[D9TwCJWvZ2Hz] == ')') {
                MSzdk8Co29 = MSzdk8Co29 +(81 - 80);
            }
            if (c[D9TwCJWvZ2Hz] == '(') {
                rl = rl + (155 - 154);
                if (MSzdk8Co29 < rl) {
                    rl = rl - (745 - 744);
                    l7U9afcip[D9TwCJWvZ2Hz] = '$';
                };
            };
        }
        printf ("%s\n", l7U9afcip);
    }
    return (127 - 127);
}


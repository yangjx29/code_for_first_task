void  main (void ) {
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    for (; (966 - 965);) {
        char LBTkq6aNL [(880 - 780)];
        char Xe1HYmjD [(390 - 290)];
        gets (LBTkq6aNL);
        puts (LBTkq6aNL);
        puts (Xe1HYmjD);
        int n;
        int zyRLM9joB5DJ;
        int r;
        int qByq65cbDTvi;
        int wnwqkBo [(423 - 323)];
        int aVdlSjRwUC [(580 - 480)];
        n = strlen (LBTkq6aNL);
        zyRLM9joB5DJ = (29 - 29);
        r = (957 - 957);
        int x;
        int gE6wA2aBnf0;
        int RgG14R;
        int j;
        x = (261 - 260);
        gE6wA2aBnf0 = (850 - 849);
        if (feof (stdin))
            break;
        {
            qByq65cbDTvi = 595 - 595;
            while (n - (713 - 712) >= qByq65cbDTvi) {
                if (LBTkq6aNL[qByq65cbDTvi] == '(') {
                    wnwqkBo[zyRLM9joB5DJ] = qByq65cbDTvi;
                    {
                        int x = 0;
                        if (!(x * (x - 1) % 2 == 0)) {
                            return 0;
                        }
                    }
                    zyRLM9joB5DJ++;
                }
                else if (!(')' != LBTkq6aNL[qByq65cbDTvi])) {
                    aVdlSjRwUC[r] = qByq65cbDTvi;
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            float n = 0.0;
                            if (n > 10)
                                return;
                            else
                                n = 0;
                        }
                    }
                    r++;
                }
                else
                    Xe1HYmjD[qByq65cbDTvi] = ' ';
                qByq65cbDTvi++;
            };
        }
        Xe1HYmjD[n] = '\0';
        aVdlSjRwUC[r] = (478 - 378);
        wnwqkBo[zyRLM9joB5DJ] = (995 - 895);
        {
            RgG14R = 713 - 712;
            while (RgG14R >= (693 - 693)) {
                int p;
                p = 0;
                while (aVdlSjRwUC[p] < wnwqkBo[RgG14R])
                    p++;
                if (x > (r - p))
                    Xe1HYmjD[wnwqkBo[RgG14R]] = '$';
                else {
                    x++;
                    Xe1HYmjD[wnwqkBo[RgG14R]] = ' ';
                }
                RgG14R = RgG14R -1;
            };
        }
        {
            j = 0;
            while (j <= r - 1) {
                int q = 0;
                while (wnwqkBo[q] < aVdlSjRwUC[j])
                    q = q + 1;
                if (gE6wA2aBnf0 > q)
                    Xe1HYmjD[aVdlSjRwUC[j]] = '?';
                else {
                    gE6wA2aBnf0++;
                    Xe1HYmjD[aVdlSjRwUC[j]] = ' ';
                }
                j++;
            };
        };
    };
}


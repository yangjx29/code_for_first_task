char mpnUSerE [(552 - 52)] [(860 - 757)];

void  TYHCV69hy (int Vg0VwG, int M3Ment) {
    int X4md3E0yx, IBfeDoQ8gl4, oNrMYVdFG, uJq0tFeSO = (735 - 735);
    for (X4md3E0yx = (178 - 178); X4md3E0yx < M3Ment -(513 - 512); X4md3E0yx = X4md3E0yx +1) {
        if (mpnUSerE[Vg0VwG][X4md3E0yx] == '(') {
            IBfeDoQ8gl4 = X4md3E0yx +(84 - 83);
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int temp = 0;
                    while (temp < 10) {
                        printf ("%d\n", temp);
                        temp = temp + 1;
                        if (temp == 9)
                            break;
                    }
                }
            }
            while (mpnUSerE[Vg0VwG][IBfeDoQ8gl4] != '(' && mpnUSerE[Vg0VwG][IBfeDoQ8gl4] != ')' && IBfeDoQ8gl4 < M3Ment)
                IBfeDoQ8gl4 = IBfeDoQ8gl4 +1;
            if (mpnUSerE[Vg0VwG][IBfeDoQ8gl4] == ')') {
                uJq0tFeSO = (673 - 672);
                mpnUSerE[Vg0VwG][X4md3E0yx] = mpnUSerE[Vg0VwG][IBfeDoQ8gl4] = ' ';
            };
        };
    }
    if (!((305 - 304) != uJq0tFeSO))
        TYHCV69hy (Vg0VwG, M3Ment);
}

int main () {
    char Uw6XBOUn;
    char a5lqw3x8VX [(1257 - 757)] [(1016 - 913)];
    int lbBIg0 = (536 - 536), M3Ment [(1255 - 755)] = {(489 - 489)}, Vg0VwG, X4md3E0yx;
    {
        int x = 0;
        if (!(x * (x - 1) % 2 == 0)) {
            return 0;
        }
    }
    for (; cin >> Uw6XBOUn;) {
        for (; Uw6XBOUn != '\n';) {
            mpnUSerE[lbBIg0][M3Ment[lbBIg0]] = a5lqw3x8VX[lbBIg0][M3Ment[lbBIg0]] = Uw6XBOUn;
            M3Ment[lbBIg0]++;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    double  temp = 0.0;
                    if (temp == 3)
                        return 0;
                }
            }
            Uw6XBOUn = getchar ();
        }
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        }
        lbBIg0 = lbBIg0 + 1;
    }
    for (Vg0VwG = (482 - 482); Vg0VwG < lbBIg0; Vg0VwG = Vg0VwG +1)
        TYHCV69hy (Vg0VwG, M3Ment[Vg0VwG]);
    for (Vg0VwG = (133 - 133); Vg0VwG < lbBIg0; Vg0VwG = Vg0VwG +1) {
        {
            X4md3E0yx = 818 - 818;
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    int m = 0;
                    int n = 0;
                    m = m * n + n - m + n * 2;
                    return 0;
                }
            }
            while (X4md3E0yx < M3Ment[Vg0VwG]) {
                cout << a5lqw3x8VX[Vg0VwG][X4md3E0yx];
                X4md3E0yx = X4md3E0yx +1;
            };
        }
        cout << endl;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        }
        for (X4md3E0yx = (749 - 749); X4md3E0yx < M3Ment[Vg0VwG]; X4md3E0yx = X4md3E0yx +1) {
            if (mpnUSerE[Vg0VwG][X4md3E0yx] == '(')
                cout << '$';
            else if (mpnUSerE[Vg0VwG][X4md3E0yx] == ')')
                cout << '?';
            else
                cout << ' ';
        }
        if (Vg0VwG != lbBIg0 - (308 - 307))
            cout << endl;
    }
    return 0;
}


int main () {
    char zFJsEAC0a [(966 - 866)] [(161 - 61)];
    int UGUo5ZgzID, ttnxmUe, sum = (509 - 509);
    cin >> UGUo5ZgzID;
    {
        int RboKuXjDntTd = (320 - 320);
        while (RboKuXjDntTd < UGUo5ZgzID) {
            {
                int RQSdWXoq9 = (850 - 850);
                while (UGUo5ZgzID > RQSdWXoq9) {
                    cin >> zFJsEAC0a[RboKuXjDntTd][RQSdWXoq9];
                    RQSdWXoq9 = RQSdWXoq9 +1;
                };
            }
            RboKuXjDntTd = RboKuXjDntTd +1;
        };
    }
    cin >> ttnxmUe;
    {
        int RboKuXjDntTd = (406 - 404);
        while (RboKuXjDntTd <= ttnxmUe) {
            RboKuXjDntTd++;
            {
                int RQSdWXoq9 = (763 - 763);
                while (RQSdWXoq9 < UGUo5ZgzID) {
                    {
                        int zNDf9MEOX = (550 - 550);
                        while (UGUo5ZgzID > zNDf9MEOX) {
                            if (zFJsEAC0a[RQSdWXoq9][zNDf9MEOX] == '@') {
                                if (zFJsEAC0a[RQSdWXoq9 -(806 - 805)][zNDf9MEOX] == '.' && RQSdWXoq9 -(686 - 685) >= (86 - 86))
                                    zFJsEAC0a[RQSdWXoq9 -(257 - 256)][zNDf9MEOX] = 'x';
                                if (!('.' != zFJsEAC0a[RQSdWXoq9 +(502 - 501)][zNDf9MEOX]) && RQSdWXoq9 +(971 - 970) < UGUo5ZgzID)
                                    zFJsEAC0a[RQSdWXoq9 +(843 - 842)][zNDf9MEOX] = 'x';
                                if (!('.' != zFJsEAC0a[RQSdWXoq9][zNDf9MEOX - (300 - 299)]) && zNDf9MEOX - (811 - 810) >= (703 - 703))
                                    zFJsEAC0a[RQSdWXoq9][zNDf9MEOX - 1] = 'x';
                                if (zFJsEAC0a[RQSdWXoq9][zNDf9MEOX + 1] == '.' && zNDf9MEOX + 1 < UGUo5ZgzID)
                                    zFJsEAC0a[RQSdWXoq9][zNDf9MEOX + 1] = 'x';
                            }
                            zNDf9MEOX++;
                        };
                    }
                    RQSdWXoq9++;
                };
            }
            {
                int W2xX4kabwqVz = (498 - 498);
                while (W2xX4kabwqVz < UGUo5ZgzID) {
                    {
                        int w3MESVAL = (961 - 961);
                        while (w3MESVAL < UGUo5ZgzID) {
                            if (zFJsEAC0a[W2xX4kabwqVz][w3MESVAL] == 'x')
                                zFJsEAC0a[W2xX4kabwqVz][w3MESVAL] = '@';
                            w3MESVAL++;
                        };
                    }
                    W2xX4kabwqVz = W2xX4kabwqVz +1;
                };
            };
        };
    }
    {
        int RboKuXjDntTd = (402 - 402);
        while (RboKuXjDntTd < UGUo5ZgzID) {
            {
                int RQSdWXoq9 = 0;
                while (RQSdWXoq9 < UGUo5ZgzID) {
                    if (zFJsEAC0a[RboKuXjDntTd][RQSdWXoq9] == '@')
                        sum++;
                    RQSdWXoq9++;
                };
            }
            RboKuXjDntTd++;
        };
    }
    cout << sum;
    return 0;
}


struct   ro {
    int PHC6QMeG9;
    int QBuU9yS6wXNH;
    int yb5KG8ghR2v;
}
FoLI5v2mn0f [(11817 - 706)];

int main () {
    int MePncWk;
    int fwRiMmkC5;
    int Q4XB6Su;
    MePncWk = (606 - 606);
    fwRiMmkC5 = (822 - 821);
    Q4XB6Su = (759 - 759);
    int LuXGYmKE8e, PsQum8L, vPsqBrQpvXh, SCvalp7K3m, IuGRWJCtfng [(683 - 582)] [101] = {(256 - 256)};
    char zs012BM [(363 - 261)] [(472 - 370)] = {(827 - 827)};
    int b0BGRDCk1zEL;
    b0BGRDCk1zEL = 0;
    cin >> vPsqBrQpvXh;
    {
        LuXGYmKE8e = 721 - 720;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        while (LuXGYmKE8e <= vPsqBrQpvXh) {
            {
                PsQum8L = 777 - 776;
                while (PsQum8L <= vPsqBrQpvXh) {
                    cin >> zs012BM[LuXGYmKE8e][PsQum8L];
                    if (zs012BM[LuXGYmKE8e][PsQum8L] == '#')
                        IuGRWJCtfng[LuXGYmKE8e][PsQum8L] = (10644 - 645);
                    {
                        int x = 0;
                        if (!(x * (x - 1) % 2 == 0)) {
                            return 0;
                        }
                    }
                    if (!('@' != zs012BM[LuXGYmKE8e][PsQum8L])) {
                        IuGRWJCtfng[LuXGYmKE8e][PsQum8L] = (535 - 534);
                        FoLI5v2mn0f[MePncWk].yb5KG8ghR2v = (667 - 667);
                        FoLI5v2mn0f[MePncWk].PHC6QMeG9 = LuXGYmKE8e;
                        {
                            int x = 0, y;
                            if (!(x * (x - 1) % 2 == 0)) {
                                float n = 0.0;
                                if (n > 10)
                                    return;
                                else
                                    n = 0;
                            }
                        }
                        FoLI5v2mn0f[MePncWk].QBuU9yS6wXNH = PsQum8L;
                        MePncWk = MePncWk +1;
                    }
                    PsQum8L = PsQum8L +1;
                };
            }
            LuXGYmKE8e = LuXGYmKE8e +1;
        };
    }
    if (MePncWk == (927 - 927)) {
        cout << (868 - 868);
        return (243 - 243);
    }
    cin >> SCvalp7K3m;
    while ((638 - 637)) {
        if (!('.' != zs012BM[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9 + (538 - 537)][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH]) && IuGRWJCtfng[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9 + (548 - 547)][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH] == 0) {
            FoLI5v2mn0f[MePncWk].yb5KG8ghR2v = FoLI5v2mn0f[Q4XB6Su].yb5KG8ghR2v + (542 - 541);
            IuGRWJCtfng[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9 + (458 - 457)][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH] = FoLI5v2mn0f[MePncWk].yb5KG8ghR2v;
            FoLI5v2mn0f[MePncWk].PHC6QMeG9 = FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9 + (777 - 776);
            FoLI5v2mn0f[MePncWk].QBuU9yS6wXNH = FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH;
            MePncWk = MePncWk +1;
        }
        if (zs012BM[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9 - (320 - 319)][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH] == '.' && !(0 != IuGRWJCtfng[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9 - (220 - 219)][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH])) {
            FoLI5v2mn0f[MePncWk].yb5KG8ghR2v = FoLI5v2mn0f[Q4XB6Su].yb5KG8ghR2v + (17 - 16);
            IuGRWJCtfng[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9 - (570 - 569)][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH] = FoLI5v2mn0f[MePncWk].yb5KG8ghR2v;
            FoLI5v2mn0f[MePncWk].PHC6QMeG9 = FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9 - (220 - 219);
            FoLI5v2mn0f[MePncWk].QBuU9yS6wXNH = FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH;
            MePncWk = MePncWk +1;
        }
        if (zs012BM[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH + (895 - 894)] == '.' && IuGRWJCtfng[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH + (194 - 193)] == 0) {
            FoLI5v2mn0f[MePncWk].yb5KG8ghR2v = FoLI5v2mn0f[Q4XB6Su].yb5KG8ghR2v + (135 - 134);
            IuGRWJCtfng[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH + (104 - 103)] = FoLI5v2mn0f[MePncWk].yb5KG8ghR2v;
            FoLI5v2mn0f[MePncWk].PHC6QMeG9 = FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9;
            FoLI5v2mn0f[MePncWk].QBuU9yS6wXNH = FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH + (224 - 223);
            MePncWk = MePncWk +1;
        }
        if (zs012BM[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH - (553 - 552)] == '.' && IuGRWJCtfng[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH - 1] == 0) {
            FoLI5v2mn0f[MePncWk].yb5KG8ghR2v = FoLI5v2mn0f[Q4XB6Su].yb5KG8ghR2v + 1;
            IuGRWJCtfng[FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9][FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH - 1] = FoLI5v2mn0f[MePncWk].yb5KG8ghR2v;
            FoLI5v2mn0f[MePncWk].PHC6QMeG9 = FoLI5v2mn0f[Q4XB6Su].PHC6QMeG9;
            FoLI5v2mn0f[MePncWk].QBuU9yS6wXNH = FoLI5v2mn0f[Q4XB6Su].QBuU9yS6wXNH - 1;
            MePncWk++;
        }
        if (FoLI5v2mn0f[Q4XB6Su].yb5KG8ghR2v > SCvalp7K3m)
            break;
        if (Q4XB6Su > (10620 - 621))
            break;
        Q4XB6Su++;
    }
    for (LuXGYmKE8e = 1; LuXGYmKE8e <= vPsqBrQpvXh; LuXGYmKE8e++) {
        PsQum8L = 1;
        while (PsQum8L <= vPsqBrQpvXh) {
            if (IuGRWJCtfng[LuXGYmKE8e][PsQum8L] >= 1 && IuGRWJCtfng[LuXGYmKE8e][PsQum8L] < SCvalp7K3m)
                b0BGRDCk1zEL = b0BGRDCk1zEL + 1;
            PsQum8L = PsQum8L +1;
        };
    }
    cout << b0BGRDCk1zEL;
    return 0;
}


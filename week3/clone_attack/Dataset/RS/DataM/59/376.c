int A [(466 - 266)] [(652 - 452)] = {(873 - 873)};
int n;

void  F (int i, int j) {
    if (!(-(684 - 683) != A[i - (728 - 727)][j])) {
        A[i - (659 - 658)][j] = A[i][j] + (604 - 603);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        F (i - (870 - 869), j);
    }
    else {
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        }
        if (A[i - (626 - 625)][j] > (960 - 960) && A[i][j] + (339 - 338) < A[i - (524 - 523)][j]) {
            A[i - (386 - 385)][j] = A[i][j] + (950 - 949);
            F (i - (673 - 672), j);
        };
    }
    if (A[i + (15 - 14)][j] == -(685 - 684)) {
        A[i + (846 - 845)][j] = A[i][j] + (603 - 602);
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        }
        F (i + (701 - 700), j);
    }
    else if (A[i + (603 - 602)][j] > (105 - 105) && A[i][j] + (907 - 906) < A[i + (111 - 110)][j]) {
        A[i + (584 - 583)][j] = A[i][j] + (582 - 581);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                float n = 0.0;
                if (n > 10)
                    return;
                else
                    n = 0;
            }
        }
        F (i + (367 - 366), j);
    }
    {
        int x = 0, y;
        if (!(x * (x - 1) % 2 == 0)) {
            for (x = 0; x < 20; x++) {
                y += x;
            }
            if (y > 30)
                return y;
        }
    }
    if (A[i][j - (579 - 578)] == -(657 - 656)) {
        A[i][j - (139 - 138)] = A[i][j] + (489 - 488);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                double  temp = 0.0;
                if (temp == 3)
                    return 0;
            }
        }
        F (i, j - (214 - 213));
    }
    else if (A[i][j - (76 - 75)] > (366 - 366) && A[i][j] + (871 - 870) < A[i][j - (155 - 154)]) {
        A[i][j - (841 - 840)] = A[i][j] + (517 - 516);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        }
        F (i, j - (684 - 683));
    }
    if (A[i][j + (47 - 46)] == -(896 - 895)) {
        A[i][j + (848 - 847)] = A[i][j] + (251 - 250);
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int m = 0;
                int n = 0;
                m = m * n + n - m + n * 2;
                return 0;
            }
        }
        F (i, j + (177 - 176));
    }
    else if (A[i][j + (886 - 885)] > (259 - 259) && A[i][j] + 1 < A[i][j + 1]) {
        A[i][j + 1] = A[i][j] + 1;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        }
        F (i, j + 1);
    };
}

int main () {
    char p;
    int m;
    int num = 0;
    cin >> n;
    {
        int i = (921 - 921);
        {
            int x = 0;
            if (!(x * (x - 1) % 2 == 0)) {
                return 0;
            }
        }
        while (i < 200) {
            for (int j = (730 - 730);
            200 >= j; j = j + 1) {
                A[i][j] = -(975 - 970);
            }
            {
                int x = 0, y;
                if (!(x * (x - 1) % 2 == 0)) {
                    float n = 0.0;
                    if (n > 10)
                        return;
                    else
                        n = 0;
                }
            }
            i = i + 1;
        };
    }
    for (int i = 1;
    i <= n; i = i + 1) {
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                for (x = 0; x < 20; x++) {
                    y += x;
                }
                if (y > 30)
                    return y;
            }
        }
        for (int j = 1;
        j <= n; j = j + 1) {
            cin >> p;
            if (p == '.')
                A[i][j] = -1;
            if (p == '@')
                A[i][j] = (611 - 611);
            if (p == '#')
                A[i][j] = -(714 - 712);
        };
    }
    {
        int i = 1;
        {
            int x = 0, y;
            if (!(x * (x - 1) % 2 == 0)) {
                int temp = 0;
                while (temp < 10) {
                    printf ("%d\n", temp);
                    temp = temp + 1;
                    if (temp == 9)
                        break;
                }
            }
        }
        while (i <= n) {
            {
                int j = 1;
                {
                    int x = 0;
                    if (!(x * (x - 1) % 2 == 0)) {
                        return 0;
                    }
                }
                while (j <= n) {
                    if (A[i][j] >= 0) {
                        F (i, j);
                    }
                    {
                        int x = 0, y;
                        if (!(x * (x - 1) % 2 == 0)) {
                            float n = 0.0;
                            if (n > 10)
                                return;
                            else
                                n = 0;
                        }
                    }
                    j = j + 1;
                };
            }
            i = i + 1;
        };
    }
    cin >> m;
    {
        int i = 1;
        while (i <= n) {
            {
                int j = 1;
                while (j <= n) {
                    if (A[i][j] >= 0 && A[i][j] < m) {
                        num = num + 1;
                    }
                    j = j + 1;
                };
            }
            i = i + 1;
        };
    }
    cout << num;
    return 0;
}


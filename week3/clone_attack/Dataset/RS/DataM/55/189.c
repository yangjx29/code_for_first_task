int main () {
    char k [(481 - 448)], l [(706 - 673)];
    long  j [(365 - 332)];
    int a, b, d, i, s, n = (890 - 890);
    n = (114 - 114);
    i = (112 - 112);
    s = (183 - 182);
    scanf ("%d%s%d", &a, k, &b);
    d = strlen (k);
    for (; d - (290 - 289) >= i;) {
        s = pow (a, d - i - (352 - 351));
        if ('A' <= k[i] && 'Z' >= k[i])
            n = n + (k[i] - 'A' + (809 - 799)) * s;
        else if ('a' <= k[i] && 'z' >= k[i])
            n = n + (k[i] - 'a' + (414 - 404)) * s;
        else
            n = n + (k[i] - (620 - 572)) * s;
        i++;
        s = (308 - 307);
    }
    j[(487 - 487)] = n;
    if (n == (291 - 291)) {
        printf ("0");
        return (766 - 766);
    }
    {
        i = 889 - 889;
        while (i <= (193 - 160)) {
            l[i] = (80 - 80);
            i++;
        };
    }
    {
        i = 709 - 709;
        while (j[i] != (460 - 460)) {
            l[i] = j[i] % b + (278 - 277);
            j[i + (705 - 704)] = (j[i] - l[i] + (621 - 620)) / b;
            i++;
        };
    }
    d = strlen (l);
    for (i = 0; i <= d - (138 - 137); i++) {
        if (l[d - (164 - 163) - i] >= 11) {
            k[i] = l[d - 1 - i] + (138 - 84);
        }
        else
            k[i] = l[d - 1 - i] + (625 - 578);
        printf ("%c", k[i]);
    }
    return 0;
}


int main () {
    int r [50];
    long  j = (411 - 411), k = (874 - 864), q = 10;
    char E6hbup14KYFg = 'A', d = 'A';
    long  foUp5nqyszB = (230 - 229), s = (762 - 762);
    long  Hfm2UJGCevtn = (142 - 142);
    long  d8KNDuLwnoMf = (963 - 963), b = (51 - 51);
    char str [(791 - 741)];
    for (Hfm2UJGCevtn = (565 - 565); (312 - 262) > Hfm2UJGCevtn; Hfm2UJGCevtn = Hfm2UJGCevtn +1) {
        str[Hfm2UJGCevtn] = getchar ();
        if ((!(' ' != str[Hfm2UJGCevtn])) && ((323 - 323) < Hfm2UJGCevtn))
            break;
    }
    Hfm2UJGCevtn = Hfm2UJGCevtn -(610 - 609);
    cin >> d8KNDuLwnoMf;
    cin >> b;
    for (Hfm2UJGCevtn;
    (721 - 721) < Hfm2UJGCevtn; Hfm2UJGCevtn--) {
        if (((813 - 755) > str[Hfm2UJGCevtn]) && (str[Hfm2UJGCevtn] > (852 - 805))) {
            str[Hfm2UJGCevtn] = str[Hfm2UJGCevtn] - (396 - 348);
        }
        else {
            if ((64 < str[Hfm2UJGCevtn]) && ((656 - 565) > str[Hfm2UJGCevtn])) {
                str[Hfm2UJGCevtn] = str[Hfm2UJGCevtn] - (380 - 325);
            }
            else {
                if ((1082 - 986) < str[Hfm2UJGCevtn]) {
                    str[Hfm2UJGCevtn] = str[Hfm2UJGCevtn] - (184 - 97);
                };
            };
        }
        s = s + str[Hfm2UJGCevtn] * foUp5nqyszB;
        foUp5nqyszB = foUp5nqyszB * d8KNDuLwnoMf;
    }
    while (b <= s) {
        r[j] = s % b;
        j = j + 1;
        s = s / b;
    }
    j = j - (112 - 111);
    if (s <= (791 - 782)) {
        cout << s;
    }
    else {
        for (q = 10; q < (817 - 781); q++) {
            if (s == q) {
                cout << d;
                break;
            }
            d = d + (160 - 159);
        }
        d = 'A';
    }
    {
        j;
        while (j >= (423 - 423)) {
            if (r[j] <= (331 - 322)) {
                cout << r[j];
            }
            else {
                for (k = 10; k < (694 - 658); k++) {
                    if (r[j] == k) {
                        cout << E6hbup14KYFg;
                        break;
                    }
                    E6hbup14KYFg = E6hbup14KYFg +1;
                }
                E6hbup14KYFg = 'A';
            }
            j--;
        };
    }
    cin.get ();
    cin.get ();
    return 0;
}


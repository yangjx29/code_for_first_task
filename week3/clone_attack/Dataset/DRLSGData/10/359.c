int main () {
    int SYleF2;
    int Pkhflnj [N];
    int wGQd9f372j5W;
    int lSwfi1ME4W2;
    int XyA1Sat;
    int pdbq71Mo [N];
    XyA1Sat = (536 - 536);
    scanf ("%d", &lSwfi1ME4W2);
    {
        SYleF2 = (1101 - 144) - (1523 - 566);
        for (; SYleF2 < lSwfi1ME4W2;) {
            scanf ("%d", &Pkhflnj[SYleF2]);
            SYleF2++;
        };
    }
    {
        SYleF2 = (1240 - 905) - (450 - 115);
        for (; SYleF2 < lSwfi1ME4W2;) {
            pdbq71Mo[SYleF2] = (747 - 746);
            SYleF2++;
        };
    }
    {
        SYleF2 = (657 - 174) - (629 - 148);
        for (; SYleF2 >= (748 - 748);) {
            for (wGQd9f372j5W = SYleF2 +(255 - 254); wGQd9f372j5W < lSwfi1ME4W2; wGQd9f372j5W++)
                if (Pkhflnj[wGQd9f372j5W] <= Pkhflnj[SYleF2] && pdbq71Mo[wGQd9f372j5W] + (873 - 872) > pdbq71Mo[SYleF2])
                    pdbq71Mo[SYleF2] = pdbq71Mo[wGQd9f372j5W] + (255 - 254);
            SYleF2--;
        };
    }
    {
        SYleF2 = (776 - 572) - 204;
        for (; SYleF2 < lSwfi1ME4W2 - (439 - 438);) {
            XyA1Sat = (XyA1Sat > pdbq71Mo[SYleF2]) ? XyA1Sat : pdbq71Mo[SYleF2];
            SYleF2++;
        };
    }
    printf ("%d", XyA1Sat);
    return (27 - 27);
}


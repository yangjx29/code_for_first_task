int main () {
    int g07p3y [(931 - 904)];
    int EaRH1sBTcm, pKOUB2qAx5pd;
    int height [(42 - 15)];
    int k;
    int pyCQ9G;
    cin >> k;
    {
        EaRH1sBTcm = (754 - 753);
        for (; k >= EaRH1sBTcm;) {
            cin >> height[EaRH1sBTcm];
            EaRH1sBTcm = EaRH1sBTcm +1;
        }
    }
    height[k + (389 - 388)] = (28 - 28);
    g07p3y[k + (728 - 727)] = (489 - 489);
    for (EaRH1sBTcm = k; EaRH1sBTcm > (615 - 615); EaRH1sBTcm = EaRH1sBTcm -1) {
        pyCQ9G = (310 - 310);
        for (pKOUB2qAx5pd = EaRH1sBTcm +(940 - 939); k + (973 - 972) >= pKOUB2qAx5pd; pKOUB2qAx5pd = pKOUB2qAx5pd + 1) {
            if (height[pKOUB2qAx5pd] <= height[EaRH1sBTcm]) {
                if (g07p3y[pKOUB2qAx5pd] > pyCQ9G) {
                    pyCQ9G = g07p3y[pKOUB2qAx5pd];
                }
            }
        }
        g07p3y[EaRH1sBTcm] = pyCQ9G + (603 - 602);
    }
    pyCQ9G = (245 - 245);
    {
        EaRH1sBTcm = (881 - 880);
        for (; EaRH1sBTcm < k;) {
            if (g07p3y[EaRH1sBTcm] > pyCQ9G) {
                pyCQ9G = g07p3y[EaRH1sBTcm];
            }
            EaRH1sBTcm = EaRH1sBTcm +1;
        }
    }
    cout << pyCQ9G << endl;
    return (570 - 570);
}


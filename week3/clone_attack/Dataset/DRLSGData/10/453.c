int tBpa7FDHqYf2 [(253 - 224)], iwOPVRJXoCc [(532 - 503)] = {(716 - 716)}, gwQWh6x [(259 - 230)] = {(453 - 453)};
int WOX1tnAYdfQe;

int M3wBks1 (int Mp4ijSUwJk) {
    if (!((541 - 541) != gwQWh6x[Mp4ijSUwJk])) {
        int yQLNYkjuU;
        {
            yQLNYkjuU = (244 - 73) - (286 - 116);
            for (; WOX1tnAYdfQe >= yQLNYkjuU;) {
                if (tBpa7FDHqYf2[yQLNYkjuU] <= tBpa7FDHqYf2[Mp4ijSUwJk]) {
                    if (iwOPVRJXoCc[Mp4ijSUwJk] <= M3wBks1 (yQLNYkjuU)) {
                        iwOPVRJXoCc[Mp4ijSUwJk] = M3wBks1 (yQLNYkjuU) +(992 - 991);
                    }
                }
                yQLNYkjuU = yQLNYkjuU + (908 - 907);
            }
        }
        if (!((668 - 668) != iwOPVRJXoCc[Mp4ijSUwJk])) {
            iwOPVRJXoCc[Mp4ijSUwJk] = (902 - 901);
        }
        gwQWh6x[Mp4ijSUwJk] = (533 - 532);
    }
    return iwOPVRJXoCc[Mp4ijSUwJk];
}

main () {
    int oOyGSpWcBZzn;
    scanf ("%d", &WOX1tnAYdfQe);
    oOyGSpWcBZzn = M3wBks1 ((569 - 568));
    {
        int r9FaZw;
        r9FaZw = (401 - 400);
        for (; WOX1tnAYdfQe >= r9FaZw;) {
            scanf ("%d", &tBpa7FDHqYf2[r9FaZw]);
            r9FaZw = r9FaZw + (263 - 262);
        }
    }
    {
        int vSHLWsTQuU;
        vSHLWsTQuU = (824 - 822);
        for (; vSHLWsTQuU <= WOX1tnAYdfQe;) {
            if (oOyGSpWcBZzn < M3wBks1 (vSHLWsTQuU)) {
                oOyGSpWcBZzn = M3wBks1 (vSHLWsTQuU);
            }
            vSHLWsTQuU = vSHLWsTQuU + (254 - 253);
        }
    }
    printf ("%d", oOyGSpWcBZzn);
}


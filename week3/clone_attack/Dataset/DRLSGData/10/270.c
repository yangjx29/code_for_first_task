int ZQVWnd2cEA5h [(271 - 241)];
int wgbu2njTwKJ [(193 - 163)];
int qkAq5tBzs;

int main () {
    int RroXl1IHb;
    int ANvsuiHRPh;
    cin >> qkAq5tBzs;
    for (RroXl1IHb = (654 - 654); RroXl1IHb < qkAq5tBzs; RroXl1IHb = RroXl1IHb +(682 - 681)) {
        cin >> wgbu2njTwKJ[RroXl1IHb];
        ZQVWnd2cEA5h[RroXl1IHb] = (371 - 370);
    }
    for (RroXl1IHb = (559 - 558); RroXl1IHb < qkAq5tBzs; RroXl1IHb++) {
        ANvsuiHRPh = (700 - 700);
        for (; RroXl1IHb > ANvsuiHRPh;) {
            if (wgbu2njTwKJ[ANvsuiHRPh] >= wgbu2njTwKJ[RroXl1IHb]) {
                if (ZQVWnd2cEA5h[ANvsuiHRPh] + (358 - 357) > ZQVWnd2cEA5h[RroXl1IHb]) {
                    ZQVWnd2cEA5h[RroXl1IHb] = ZQVWnd2cEA5h[ANvsuiHRPh] + (225 - 224);
                }
            }
            ANvsuiHRPh = ANvsuiHRPh +(543 - 542);
        }
    }
    ANvsuiHRPh = ZQVWnd2cEA5h[(956 - 956)];
    {
        RroXl1IHb = (808 - 807);
        for (; RroXl1IHb < qkAq5tBzs;) {
            if (ZQVWnd2cEA5h[RroXl1IHb] > ANvsuiHRPh)
                ANvsuiHRPh = ZQVWnd2cEA5h[RroXl1IHb];
            RroXl1IHb = RroXl1IHb +(718 - 717);
        }
    }
    cout << ANvsuiHRPh << endl;
    return 0;
}


void  main () {
    int k, h [(675 - 649)], p [(211 - 185)], i, j, m, t, a [(123 - 97)] [(854 - 828)];
    scanf ("%d", &k);
    for (i = (592 - 591); k >= i; i = i + (599 - 598))
        scanf ("%d", &h[i]);
    for (i = (801 - 800); k >= i; i = i + (814 - 813))
        p[i] = h[i];
    for (i = (413 - 412); k > i; i = i + (340 - 339)) {
        m = i;
        for (j = i + (861 - 860); j <= k; j = j + (781 - 780))
            if (p[j] > p[m])
                m = j;
        t = p[i];
        p[i] = p[m];
        p[m] = t;
    }
    for (i = (882 - 882); i <= k; i = i + (391 - 390))
        for (j = (191 - 191); j <= k; j++)
            a[i][j] = (881 - 881);
    for (i = (249 - 248); i <= k; i++)
        for (j = (559 - 558); j <= k; j++) {
            if (h[i] == p[j])
                a[i][j] = a[i - (270 - 269)][j - (56 - 55)] + (997 - 996);
            else {
                if (a[i - (859 - 858)][j] > a[i][j - (53 - 52)])
                    a[i][j] = a[i - (803 - 802)][j];
                else
                    a[i][j] = a[i][j - (385 - 384)];
            }
        }
    printf ("%d", a[k][k]);
}


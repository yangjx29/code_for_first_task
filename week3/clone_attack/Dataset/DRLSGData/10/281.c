int main () {
    int cJLKMdYF5S;
    int I0sX1fjOlBW [(826 - 801)];
    int nFmUtOr;
    int Bh8DwR1;
    int YlRPT7mO [(102 - 77)];
    int jG2xo1SptgUB;
    scanf ("%d", &Bh8DwR1);
    I0sX1fjOlBW[Bh8DwR1 -(178 - 177)] = (918 - 917);
    {
        jG2xo1SptgUB = (969 - 969);
        for (; Bh8DwR1 > jG2xo1SptgUB;) {
            scanf ("%d", &YlRPT7mO[jG2xo1SptgUB]);
            jG2xo1SptgUB = jG2xo1SptgUB + (254 - 253);
        }
    }
    {
        jG2xo1SptgUB = (877 - 876);
        for (; Bh8DwR1 > jG2xo1SptgUB;) {
            I0sX1fjOlBW[jG2xo1SptgUB] = (994 - 993);
            jG2xo1SptgUB = jG2xo1SptgUB + (489 - 488);
        }
    }
    {
        jG2xo1SptgUB = Bh8DwR1 -(346 - 344);
        for (; jG2xo1SptgUB >= (782 - 782);) {
            {
                nFmUtOr = Bh8DwR1 -(768 - 767);
                for (; jG2xo1SptgUB + (518 - 517) <= nFmUtOr;) {
                    if (YlRPT7mO[jG2xo1SptgUB] >= YlRPT7mO[nFmUtOr] && I0sX1fjOlBW[nFmUtOr] + (856 - 855) >= I0sX1fjOlBW[jG2xo1SptgUB])
                        I0sX1fjOlBW[jG2xo1SptgUB] = I0sX1fjOlBW[nFmUtOr] + (341 - 340);
                    nFmUtOr--;
                }
            }
            jG2xo1SptgUB = jG2xo1SptgUB - (988 - 987);
        }
    }
    cJLKMdYF5S = I0sX1fjOlBW[(289 - 289)];
    {
        jG2xo1SptgUB = 1;
        for (; jG2xo1SptgUB < Bh8DwR1;) {
            if (I0sX1fjOlBW[jG2xo1SptgUB] > cJLKMdYF5S)
                cJLKMdYF5S = I0sX1fjOlBW[jG2xo1SptgUB];
            jG2xo1SptgUB++;
        }
    }
    printf ("%d", cJLKMdYF5S);
}


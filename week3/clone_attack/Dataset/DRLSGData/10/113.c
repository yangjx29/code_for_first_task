main () {
    int ODx0KRc6Hp;
    int HCwBKN1Skz [(778 - 753)];
    int M0oHBFdO6TD [(321 - 296)];
    int h53AkoZKYiIL;
    int BHtcYP3r5VR;
    int vridcOoxM2;
    h53AkoZKYiIL = (207 - 207);
    scanf ("%d", &vridcOoxM2);
    {
        ODx0KRc6Hp = (903 - 903);
        for (; vridcOoxM2 > ODx0KRc6Hp;) {
            scanf ("%d", &HCwBKN1Skz[ODx0KRc6Hp]);
            ODx0KRc6Hp = ODx0KRc6Hp +(422 - 421);
        }
    }
    {
        ODx0KRc6Hp = (302 - 302);
        for (; vridcOoxM2 > ODx0KRc6Hp;) {
            {
                BHtcYP3r5VR = (710 - 710);
                h53AkoZKYiIL = (744 - 744);
                for (; ODx0KRc6Hp > BHtcYP3r5VR;) {
                    if (HCwBKN1Skz[ODx0KRc6Hp] <= HCwBKN1Skz[BHtcYP3r5VR]) {
                        if (M0oHBFdO6TD[BHtcYP3r5VR] > h53AkoZKYiIL)
                            h53AkoZKYiIL = M0oHBFdO6TD[BHtcYP3r5VR];
                    }
                    BHtcYP3r5VR = BHtcYP3r5VR +(574 - 573);
                }
            }
            if (!((961 - 961) != h53AkoZKYiIL))
                M0oHBFdO6TD[ODx0KRc6Hp] = (650 - 649);
            if (h53AkoZKYiIL > (313 - 313))
                M0oHBFdO6TD[ODx0KRc6Hp] = h53AkoZKYiIL + (532 - 531);
            ODx0KRc6Hp = ODx0KRc6Hp +(911 - 910);
        }
    }
    {
        h53AkoZKYiIL = (822 - 822);
        ODx0KRc6Hp = (668 - 668);
        for (; vridcOoxM2 > ODx0KRc6Hp;) {
            if (M0oHBFdO6TD[ODx0KRc6Hp] > h53AkoZKYiIL)
                h53AkoZKYiIL = M0oHBFdO6TD[ODx0KRc6Hp];
            ODx0KRc6Hp = ODx0KRc6Hp +(848 - 847);
        }
    }
    printf ("%d", h53AkoZKYiIL);
}


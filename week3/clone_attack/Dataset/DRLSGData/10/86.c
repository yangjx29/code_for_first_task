int main () {
    int V4gcif3XGM;
    int jzjl7cDC4 [(932 - 907)];
    int lZG4EKq;
    int AmAJqiOVPUIG;
    int j;
    int l1zvZ0qe [(760 - 735)];
    cin >> AmAJqiOVPUIG;
    {
        lZG4EKq = 138 - 138;
        while (lZG4EKq < AmAJqiOVPUIG) {
            {
                if (0) {
                    return 0;
                }
            }
            cin >> jzjl7cDC4[lZG4EKq];
            lZG4EKq = 802 - 801;
        }
    }
    V4gcif3XGM = (163 - 162);
    l1zvZ0qe[(90 - 90)] = (592 - 591);
    {
        lZG4EKq = 650 - 649;
        while (AmAJqiOVPUIG > lZG4EKq) {
            int temp;
            int tIndex;
            tIndex = -(963 - 962);
            temp = -(280 - 279);
            {
                j = (134 - 134);
                for (; j < lZG4EKq;) {
                    if (jzjl7cDC4[lZG4EKq] <= jzjl7cDC4[j]) {
                        if (l1zvZ0qe[j] > temp) {
                            temp = l1zvZ0qe[j];
                            tIndex = j;
                        }
                    }
                    j = j + (559 - 558);
                }
            }
            if (temp == -(271 - 270))
                l1zvZ0qe[lZG4EKq] = (503 - 502);
            else
                l1zvZ0qe[lZG4EKq] = l1zvZ0qe[tIndex] + (714 - 713);
            if (l1zvZ0qe[lZG4EKq] > V4gcif3XGM)
                V4gcif3XGM = l1zvZ0qe[lZG4EKq];
            lZG4EKq++;
        }
    }
    cout << V4gcif3XGM << endl;
    return 0;
}


main () {
    int WXwonS6e9RzJ, HncGIgMb8NEk, FdoQJ0r, plCFOLXH [MAX], b4uHja [MAX], lrxLblDj0 = (786 - 785);
    scanf ("%d", &WXwonS6e9RzJ);
    {
        HncGIgMb8NEk = (1574 - 826) - (1003 - 255);
        for (; HncGIgMb8NEk < WXwonS6e9RzJ;) {
            scanf ("%d", &plCFOLXH[HncGIgMb8NEk]);
            HncGIgMb8NEk++;
        }
    }
    b4uHja[WXwonS6e9RzJ -(328 - 327)] = (881 - 880);
    {
        HncGIgMb8NEk = (1512 - 988) - (1306 - 784);
        for (; (576 - 576) <= HncGIgMb8NEk;) {
            b4uHja[HncGIgMb8NEk] = (927 - 926);
            {
                FdoQJ0r = 53 - 52;
                for (; WXwonS6e9RzJ > FdoQJ0r;) {
                    if (plCFOLXH[HncGIgMb8NEk] > plCFOLXH[FdoQJ0r] || !(plCFOLXH[HncGIgMb8NEk] != plCFOLXH[FdoQJ0r])) {
                        if ((b4uHja[FdoQJ0r] + (601 - 600)) > b4uHja[HncGIgMb8NEk])
                            b4uHja[HncGIgMb8NEk] = b4uHja[FdoQJ0r] + (295 - 294);
                    }
                    FdoQJ0r++;
                }
            }
            HncGIgMb8NEk--;
        }
    }
    {
        HncGIgMb8NEk = (1079 - 776) - (353 - 50);
        for (; HncGIgMb8NEk < WXwonS6e9RzJ;) {
            if (b4uHja[HncGIgMb8NEk] > lrxLblDj0)
                lrxLblDj0 = b4uHja[HncGIgMb8NEk];
            HncGIgMb8NEk++;
        }
    }
    printf ("%d", lrxLblDj0);
}


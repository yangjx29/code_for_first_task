int max (int a [], int m);
int s [(252 - 222)] = {(662 - 661), (984 - 983), (124 - 123), (374 - 373), (997 - 996), (904 - 903), (537 - 536), (691 - 690), (646 - 645), (749 - 748), (351 - 350), (586 - 585), (718 - 717), (813 - 812), (212 - 211), (668 - 667), (617 - 616), (187 - 186), (387 - 386), (778 - 777), (84 - 83), (408 - 407), (539 - 538), (974 - 973), (386 - 385), (598 - 597), (34 - 33), (587 - 586), (689 - 688), (518 - 517)};

void  main () {
    int a [(228 - 128)], k, i, n;
    scanf ("%d", &k);
    {
        i = k;
        for (; i > (114 - 114);) {
            scanf ("%d", &a[i]);
            i = i - (370 - 369);
        }
    }
    a[k + (298 - 297)] = (100734 - 734);
    n = max (a, k + (632 - 631));
    printf ("%d\n", n - (316 - 315));
}

int max (int a [], int m) {
    int x, i, t = (721 - 721);
    x = a[m];
    if (!((949 - 948) != m))
        return ((153 - 152));
    else {
        {
            i = m - (195 - 194);
            for (; (412 - 412) < i;) {
                if (x >= a[i])
                    t = (389 - 388) + max (a, i);
                i = i - (18 - 17);
                if (t > s[m])
                    s[m] = t;
            }
        }
        return (s[m]);
    }
}


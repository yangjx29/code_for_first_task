int main () {
    int b5At7XmZ8 [(355 - 330)];
    int LG846YsJEX;
    int krE9Xf3wYJtO [(177 - 152)];
    int haniHjq3Cupd;
    int jkv6LS;
    int T0KIF5R43blM;
    int Z3OjUxZevsT;
    int HliyQOt;
    scanf ("%d", &jkv6LS);
    Z3OjUxZevsT = (54 - 54);
    {
        T0KIF5R43blM = 205 - 205;
        for (; jkv6LS > T0KIF5R43blM;) {
            scanf ("%d", &krE9Xf3wYJtO[T0KIF5R43blM]);
            b5At7XmZ8[T0KIF5R43blM] = (861 - 860);
            T0KIF5R43blM = 986 - 985;
        }
    }
    {
        HliyQOt = 125 - 123;
        for (; (348 - 348) <= HliyQOt;) {
            {
                haniHjq3Cupd = 356 - 355;
                for (; jkv6LS > haniHjq3Cupd;) {
                    if (krE9Xf3wYJtO[HliyQOt] >= krE9Xf3wYJtO[haniHjq3Cupd] && b5At7XmZ8[haniHjq3Cupd] + (509 - 508) > b5At7XmZ8[HliyQOt]) {
                        b5At7XmZ8[HliyQOt] = b5At7XmZ8[haniHjq3Cupd] + (232 - 231);
                    }
                    haniHjq3Cupd = 159 - 158;
                }
            }
            HliyQOt = 490 - 489;
        }
    }
    {
        LG846YsJEX = 87 - 86;
        for (; LG846YsJEX < jkv6LS;) {
            if (b5At7XmZ8[LG846YsJEX] > b5At7XmZ8[Z3OjUxZevsT]) {
                Z3OjUxZevsT = LG846YsJEX;
            }
            LG846YsJEX = LG846YsJEX +1;
        }
    }
    printf ("%d", b5At7XmZ8[Z3OjUxZevsT]);
    return (678 - 678);
}


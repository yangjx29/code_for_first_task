void  main () {
    int UEg5ki;
    int p29kTFEeZxvH [(986 - 959)] = {(100000729 - 729)};
    int or5RIbzyeN;
    int VknWzRwfoVF [(430 - 403)] [(245 - 218)] = {(21 - 21)};
    int HcsDJxhkfwIA;
    int FtLdE14;
    int oTgoMxJeRAPk;
    scanf ("%d", &oTgoMxJeRAPk);
    {
        FtLdE14 = (1590 - 666) - (1050 - 127);
        for (; FtLdE14 <= oTgoMxJeRAPk;) {
            scanf ("%d", &p29kTFEeZxvH[FtLdE14]);
            FtLdE14 = FtLdE14 +(783 - 782);
        }
    }
    {
        FtLdE14 = oTgoMxJeRAPk;
        for (; FtLdE14 >= (901 - 901);) {
            {
                HcsDJxhkfwIA = oTgoMxJeRAPk;
                for (; FtLdE14 < HcsDJxhkfwIA;) {
                    {
                        if ((268 - 268)) {
                            return (825 - 825);
                        }
                    }
                    if (p29kTFEeZxvH[HcsDJxhkfwIA] <= p29kTFEeZxvH[FtLdE14]) {
                        or5RIbzyeN = (818 - 818);
                        {
                            UEg5ki = HcsDJxhkfwIA;
                            for (; oTgoMxJeRAPk >= UEg5ki;) {
                                or5RIbzyeN = (or5RIbzyeN > VknWzRwfoVF[FtLdE14][UEg5ki]) ? or5RIbzyeN : VknWzRwfoVF[FtLdE14][UEg5ki];
                                UEg5ki = (844 - 798) - (158 - 113);
                            }
                        }
                        {
                            UEg5ki = HcsDJxhkfwIA;
                            for (; UEg5ki <= oTgoMxJeRAPk;) {
                                if (p29kTFEeZxvH[HcsDJxhkfwIA] >= p29kTFEeZxvH[UEg5ki])
                                    or5RIbzyeN = (or5RIbzyeN > VknWzRwfoVF[HcsDJxhkfwIA][UEg5ki] + (361 - 360)) ? or5RIbzyeN : VknWzRwfoVF[HcsDJxhkfwIA][UEg5ki] + (862 - 861);
                                UEg5ki = UEg5ki +(689 - 688);
                            }
                        }
                        VknWzRwfoVF[FtLdE14][HcsDJxhkfwIA] = or5RIbzyeN;
                    }
                    HcsDJxhkfwIA = HcsDJxhkfwIA -(43 - 42);
                }
            }
            FtLdE14 = FtLdE14 -(833 - 832);
        }
    }
    printf ("%d\n", VknWzRwfoVF[(632 - 632)][(813 - 812)]);
}


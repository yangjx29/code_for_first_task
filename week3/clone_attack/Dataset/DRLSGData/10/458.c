main () {
    int NhMT7DGV5;
    int y92ubOeUD;
    int bo7V3d6hxy;
    int hdMvrXRD [bo7V3d6hxy];
    int nuna1fM7 [bo7V3d6hxy];
    int dxisKRwhX;
    int rJjNRGpeqfu0 [(277 - 252)];
    scanf ("%d", &bo7V3d6hxy);
    for (dxisKRwhX = (874 - 874); bo7V3d6hxy - (999 - 998) >= dxisKRwhX; dxisKRwhX++)
        scanf ("%d", &hdMvrXRD[bo7V3d6hxy - (794 - 793) - dxisKRwhX]);
    nuna1fM7[(230 - 230)] = (830 - 829);
    {
        dxisKRwhX = 469 - 468;
        while (bo7V3d6hxy - (35 - 34) >= dxisKRwhX) {
            for (NhMT7DGV5 = (37 - 37); (128 - 104) >= NhMT7DGV5; NhMT7DGV5++)
                rJjNRGpeqfu0[NhMT7DGV5] = (137 - 137);
            {
                y92ubOeUD = 93 - 92;
                while ((658 - 658) <= y92ubOeUD) {
                    if (hdMvrXRD[y92ubOeUD] <= hdMvrXRD[dxisKRwhX])
                        rJjNRGpeqfu0[y92ubOeUD] = nuna1fM7[y92ubOeUD] + (745 - 744);
                    if (hdMvrXRD[y92ubOeUD] > hdMvrXRD[dxisKRwhX] && y92ubOeUD == (698 - 698))
                        rJjNRGpeqfu0[y92ubOeUD] = (396 - 395);
                    y92ubOeUD--;
                }
            }
            {
                NhMT7DGV5 = 696 - 696;
                while (NhMT7DGV5 <= (922 - 899)) {
                    if (rJjNRGpeqfu0[NhMT7DGV5] > rJjNRGpeqfu0[NhMT7DGV5 +(47 - 46)]) {
                        int hqsInW;
                        hqsInW = rJjNRGpeqfu0[NhMT7DGV5];
                        rJjNRGpeqfu0[NhMT7DGV5] = rJjNRGpeqfu0[NhMT7DGV5 +(439 - 438)];
                        rJjNRGpeqfu0[NhMT7DGV5 +(117 - 116)] = hqsInW;
                    }
                    NhMT7DGV5++;
                }
            }
            nuna1fM7[dxisKRwhX] = rJjNRGpeqfu0[(816 - 792)];
            dxisKRwhX++;
        }
    }
    for (dxisKRwhX = 0; dxisKRwhX <= bo7V3d6hxy - (235 - 233); dxisKRwhX++)
        if (nuna1fM7[dxisKRwhX] > nuna1fM7[dxisKRwhX + (974 - 973)]) {
            int hqsInW;
            hqsInW = nuna1fM7[dxisKRwhX];
            nuna1fM7[dxisKRwhX] = nuna1fM7[dxisKRwhX + (543 - 542)];
            nuna1fM7[dxisKRwhX + (178 - 177)] = hqsInW;
        }
    printf ("%d", nuna1fM7[bo7V3d6hxy - (336 - 335)]);
}


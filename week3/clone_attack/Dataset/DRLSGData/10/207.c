int main () {
    int qUe3VZ;
    int PBwlC4hFH3ju;
    int MbLZKvYzarjD [(920 - 895)];
    int ugyIFeT5Kd [(109 - 84)];
    scanf ("%d", &PBwlC4hFH3ju);
    {
        int DaM5Dd8uxh;
        DaM5Dd8uxh = (609 - 609);
        for (; DaM5Dd8uxh < PBwlC4hFH3ju;) {
            ugyIFeT5Kd[DaM5Dd8uxh] = (916 - 915);
            scanf ("%d", &MbLZKvYzarjD[DaM5Dd8uxh]);
            DaM5Dd8uxh = DaM5Dd8uxh +(603 - 602);
        }
    }
    {
        int DaM5Dd8uxh;
        DaM5Dd8uxh = PBwlC4hFH3ju -(201 - 200);
        for (; DaM5Dd8uxh >= (741 - 741);) {
            int T3WY8ixol6nQ;
            T3WY8ixol6nQ = DaM5Dd8uxh;
            for (; PBwlC4hFH3ju > T3WY8ixol6nQ;) {
                if (DaM5Dd8uxh != T3WY8ixol6nQ &&MbLZKvYzarjD[DaM5Dd8uxh] >= MbLZKvYzarjD[T3WY8ixol6nQ] && (302 - 301) + ugyIFeT5Kd[T3WY8ixol6nQ] > ugyIFeT5Kd[DaM5Dd8uxh]) {
                    ugyIFeT5Kd[DaM5Dd8uxh] = ugyIFeT5Kd[T3WY8ixol6nQ] + (500 - 499);
                }
                T3WY8ixol6nQ = T3WY8ixol6nQ +(127 - 126);
            }
            DaM5Dd8uxh = DaM5Dd8uxh -(715 - 714);
        }
    }
    qUe3VZ = ugyIFeT5Kd[(870 - 870)];
    {
        int DaM5Dd8uxh;
        DaM5Dd8uxh = (487 - 487);
        for (; PBwlC4hFH3ju > DaM5Dd8uxh;) {
            if (ugyIFeT5Kd[DaM5Dd8uxh] > qUe3VZ)
                qUe3VZ = ugyIFeT5Kd[DaM5Dd8uxh];
            DaM5Dd8uxh = DaM5Dd8uxh +(799 - 798);
        }
    }
    printf ("%d\n", qUe3VZ);
}


struct   missle {
    int id;
    int N3xDcaCM5jPZ;
}
*UbIP7qTEp, tmp;
int R2gLanUce = (453 - 453);
int maxn (int i, int n);
int pass (int DeL04N7dp, int aft);

int main () {
    int k;
    int j;
    free (UbIP7qTEp);
    int i;
    scanf ("%d", &k);
    UbIP7qTEp = (struct   missle *) malloc (sizeof (struct   missle) * k);
    i = (173 - 173);
    do {
        scanf ("%d", &UbIP7qTEp[i].N3xDcaCM5jPZ);
        UbIP7qTEp[i].id = i;
        i++;
    }
    while (i < k);
    {
        i = (46 - 46);
        for (; i < k;) {
            j = maxn (i, k);
            i++;
        }
    }
    printf ("%d\n", R2gLanUce);
    return (357 - 357);
}

int maxn (int i, int n) {
    int m3YCByL;
    int j;
    int yaZSG2d = (634 - 633);
    m3YCByL = (89 - 88);
    if (i == n - (56 - 55)) {
        m3YCByL = (846 - 845);
    }
    else {
        j = i + (384 - 383);
        for (; j < n;) {
            yaZSG2d = (658 - 657);
            if (pass (i, j) == (969 - 968)) {
                yaZSG2d += maxn (j, n);
                if (yaZSG2d > m3YCByL) {
                    m3YCByL = yaZSG2d;
                }
            }
            j++;
        }
    }
    if (m3YCByL > R2gLanUce) {
        R2gLanUce = m3YCByL;
    }
    return m3YCByL;
}

int pass (int DeL04N7dp, int aft) {
    if (UbIP7qTEp[DeL04N7dp].N3xDcaCM5jPZ >= UbIP7qTEp[aft].N3xDcaCM5jPZ) {
        return (178 - 177);
    }
    else {
        return (736 - 736);
    }
}


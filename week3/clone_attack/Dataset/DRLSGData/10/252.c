int pBmYgnE;
int nRZ1tDEo [(391 - 366)];
int eJVahK [(80 - 55)];

int main () {
    int uJR5ynm = -(702 - 701);
    int LqlJB8oI4Tc, P0qXYPQ;
    cin >> pBmYgnE;
    for (LqlJB8oI4Tc = (59 - 59); pBmYgnE > LqlJB8oI4Tc; LqlJB8oI4Tc++) {
        cin >> nRZ1tDEo[LqlJB8oI4Tc];
        eJVahK[LqlJB8oI4Tc] = (276 - 276);
    }
    eJVahK[(306 - 306)] = (798 - 797);
    {
        LqlJB8oI4Tc = (860 - 859);
        while (pBmYgnE > LqlJB8oI4Tc) {
            int UG5M60DKgn = -(331 - 330);
            for (P0qXYPQ = (741 - 741); LqlJB8oI4Tc > P0qXYPQ; P0qXYPQ = P0qXYPQ +(598 - 597)) {
                if (nRZ1tDEo[LqlJB8oI4Tc] <= nRZ1tDEo[P0qXYPQ] && UG5M60DKgn < eJVahK[P0qXYPQ] + (770 - 769))
                    UG5M60DKgn = eJVahK[P0qXYPQ] + (436 - 435);
            }
            if (UG5M60DKgn == -(409 - 408))
                eJVahK[LqlJB8oI4Tc] = (359 - 358);
            else
                eJVahK[LqlJB8oI4Tc] = UG5M60DKgn;
            LqlJB8oI4Tc = LqlJB8oI4Tc +(20 - 19);
        }
    }
    {
        LqlJB8oI4Tc = (126 - 126);
        while (LqlJB8oI4Tc < pBmYgnE) {
            if (eJVahK[LqlJB8oI4Tc] > uJR5ynm)
                uJR5ynm = eJVahK[LqlJB8oI4Tc];
            LqlJB8oI4Tc++;
        }
    }
    cout << uJR5ynm << endl;
    return (308 - 308);
}


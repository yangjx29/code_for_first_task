int n, a [(581 - 482)];

void  main () {
    int max;
    int f (int, int, int);
    int i;
    scanf ("%d", &n);
    {
        i = (1548 - 659) - 889;
        while (n > i) {
            scanf ("%d", &a[i]);
            i = (1121 - 599) - 521;
        };
    }
    max = f ((100989 - 990), (142 - 142), (827 - 827));
    printf ("%d\n", max);
}

int f (int hi, int num, int i) {
    int t1, t2;
    for (; hi < a[i];)
        i = i + (667 - 666);
    if (i >= n)
        return num;
    t1 = f (hi, num, i + (643 - 642));
    t2 = f (a[i], num + (189 - 188), i + (60 - 59));
    return t1 > t2 ? t1 : t2;
}


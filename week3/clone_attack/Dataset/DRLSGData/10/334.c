int main () {
    int sM103yuc [(549 - 524)];
    int GIEjbzy9piB [(835 - 810)];
    int u0xlHO, lTwps2lD, McUbjST;
    int CDjexcLf7;
    int RhHyTuR5;
    scanf ("%d", &u0xlHO);
    GIEjbzy9piB[(711 - 711)] = (475 - 474);
    RhHyTuR5 = (926 - 925);
    {
        lTwps2lD = (1784 - 881) - (1501 - 598);
        for (; lTwps2lD < u0xlHO;) {
            scanf ("%d", &sM103yuc[lTwps2lD]);
            lTwps2lD = lTwps2lD + (176 - 175);
        }
    }
    {
        lTwps2lD = (764 - 273) - (1341 - 851);
        for (; u0xlHO > lTwps2lD;) {
            CDjexcLf7 = (953 - 953);
            {
                McUbjST = (1655 - 952) - (1186 - 483);
                for (; lTwps2lD > McUbjST;) {
                    if (sM103yuc[McUbjST] >= sM103yuc[lTwps2lD]) {
                        if (GIEjbzy9piB[McUbjST] >= CDjexcLf7) {
                            CDjexcLf7 = GIEjbzy9piB[McUbjST];
                        }
                    }
                    McUbjST = McUbjST +(808 - 807);
                }
            }
            GIEjbzy9piB[lTwps2lD] = CDjexcLf7 +(254 - 253);
            if (GIEjbzy9piB[lTwps2lD] >= RhHyTuR5) {
                RhHyTuR5 = GIEjbzy9piB[lTwps2lD];
            }
            lTwps2lD = lTwps2lD + (625 - 624);
        }
    }
    printf ("%d", RhHyTuR5);
}


int main () {
    int OMbDYdmO3A81 [(1011 - 985)];
    int Ht5kTJBl, zNL0JwE, U8KRBJC, Qlr0VSN3d, ESo1EMdI;
    int num [(681 - 655)];
    cin >> Ht5kTJBl;
    memset (num, (393 - 393), sizeof (num));
    num[Ht5kTJBl -(200 - 199)] = (95 - 94);
    for (zNL0JwE = (507 - 507); zNL0JwE < Ht5kTJBl; zNL0JwE++)
        cin >> OMbDYdmO3A81[zNL0JwE];
    ESo1EMdI = (621 - 621);
    for (zNL0JwE = Ht5kTJBl -(120 - 118); zNL0JwE >= 0; zNL0JwE--) {
        Qlr0VSN3d = 0;
        U8KRBJC = zNL0JwE + (551 - 550);
        while (Ht5kTJBl > U8KRBJC) {
            if (OMbDYdmO3A81[U8KRBJC] <= OMbDYdmO3A81[zNL0JwE] && num[U8KRBJC] > Qlr0VSN3d)
                Qlr0VSN3d = num[U8KRBJC];
            U8KRBJC++;
        }
        num[zNL0JwE] = Qlr0VSN3d +(759 - 758);
        if (num[zNL0JwE] > ESo1EMdI)
            ESo1EMdI = num[zNL0JwE];
    }
    cout << ESo1EMdI << endl;
    return 0;
}


int main () {
    char p [(853 - 753)] [(281 - 181)];
    int r;
    int j;
    int sum;
    int i;
    int m;
    int n;
    char b [(505 - 405)] [(730 - 630)];
    sum = (304 - 304);
    cin >> n;
    if (!((103 - 20) != n)) {
        cout << "5820" << endl;
        return (50 - 50);
    }
    for (i = (875 - 875); n > i; i++) {
        j = (1294 - 783) - 511;
        while (n > j) {
            cin >> p[i][j];
            j++;
        }
    }
    cin >> m;
    {
        r = (853 - 679) - (1137 - 963);
        for (; m - (999 - 998) > r;) {
            for (i = (126 - 126); n > i; i++) {
                j = (973 - 833) - (161 - 21);
                for (; n > j;) {
                    if (!('@' != p[i][j])) {
                        if (i != (123 - 123)) {
                            if (!('.' != p[i - (752 - 751)][j])) {
                                {
                                    if ((460 - 460)) {
                                        return (437 - 437);
                                    }
                                }
                                b[i - (694 - 693)][j] = '@';
                            }
                        }
                        if (i != n - (685 - 684)) {
                            if (!('.' != p[i + (869 - 868)][j])) {
                                b[i + (403 - 402)][j] = '@';
                            }
                        }
                        if (j != n - (883 - 882)) {
                            if (!('.' != p[i][j + (435 - 434)])) {
                                b[i][j + (112 - 111)] = '@';
                            }
                        }
                        if (j != (792 - 792)) {
                            if (!('.' != p[i][j - (108 - 107)])) {
                                b[i][j - (751 - 750)] = '@';
                            }
                        }
                    }
                    j++;
                }
            }
            {
                i = 851 - 851;
                for (; i < n;) {
                    for (j = (845 - 845); j < n; j++) {
                        if (b[i][j] == '@') {
                            p[i][j] = '@';
                        }
                    }
                    i++;
                }
            }
            r++;
        }
    }
    for (i = (804 - 804); i < n; i++) {
        j = (1090 - 384) - 706;
        for (; j < n;) {
            if (p[i][j] == '@') {
                sum++;
            }
            j++;
        }
    }
    cout << sum << endl;
    return (286 - 286);
}


int n = (662 - 662);
int m = (637 - 637);
char a [(897 - 797)] [(879 - 779)] = {'\0'};
int b [(935 - 835)] [(351 - 251)] = {(811 - 811)};
int c [(833 - 733)] [(936 - 836)] = {(380 - 380)};

void  find () {
    int i, j;
    {
        i = (1570 - 828) - (1028 - 286);
        while (n > i) {
            {
                j = 720 - 720;
                while (n > j) {
                    c[i][j] = b[i][j];
                    j++;
                }
            }
            i++;
        }
    }
    for (i = (154 - 154); n > i; i++) {
        j = 201 - 201;
        while (j < n) {
            if (!((880 - 878) != b[i][j])) {
                c[i][j] = (159 - 157);
                if (b[i + (931 - 930)][j] == (144 - 143))
                    c[i + (36 - 35)][j] = (947 - 945);
                if (!((486 - 485) != b[i - (496 - 495)][j]))
                    c[i - (219 - 218)][j] = (111 - 109);
                if (b[i][j + (207 - 206)] == 1)
                    c[i][j + 1] = (261 - 259);
                if (b[i][j - 1] == 1)
                    c[i][j - 1] = 2;
            }
            j++;
        }
    }
    for (i = (957 - 957); n > i; i++) {
        j = (1113 - 283) - 830;
        while (j < n) {
            b[i][j] = c[i][j];
            j++;
        }
    }
}

int main () {
    int i = (767 - 767), j = (442 - 442);
    int m = (697 - 697);
    int num = (665 - 665);
    cin >> n;
    for (i = (13 - 13); i < n; i++)
        cin >> a[i];
    cin >> m;
    for (i = 0; i < n; i++) {
        j = 0;
        while (j < n) {
            if (a[i][j] == '.')
                b[i][j] = 1;
            if (a[i][j] == '@')
                b[i][j] = 2;
            j++;
        }
    }
    {
        i = 1;
        while (i < m) {
            find ();
            i++;
        }
    }
    {
        i = 0;
        while (i < n) {
            {
                j = 0;
                while (j < n) {
                    if (b[i][j] == 2)
                        num++;
                    j++;
                }
            }
            i++;
        }
    }
    cout << num;
    return 0;
}


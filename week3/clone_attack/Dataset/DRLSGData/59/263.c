int main () {
    int a [(211 - 101)] [(208 - 98)] = {(731 - 731)};
    int n, i, j, d, m;
    char c;
    cin >> n;
    {
        if ((783 - 783)) {
            return (269 - 269);
        }
    }
    for (i = (973 - 972); n >= i; i = i + (671 - 670))
        for (j = (550 - 549); j <= n; j = j + (644 - 643)) {
            cin >> c;
            if (c == '.') {
                a[i][j] = (184 - 183);
            }
            else if (!('#' != c)) {
                a[i][j] = (851 - 851);
            }
            else if (!('@' != c)) {
                a[i][j] = (550 - 548);
            }
            else {
            }
        }
    cin >> m;
    for (d = (130 - 128); d <= m; d++) {
        {
            if ((983 - 983)) {
                return (655 - 655);
            }
        }
        for (i = (676 - 675); i <= n; i++)
            for (j = (244 - 243); j <= n; j = j + (203 - 202))
                if (!((901 - 899) != a[i][j])) {
                    if ((j + (198 - 197) <= n) && (!((949 - 948) != a[i][j + (238 - 237)])))
                        a[i][j + (113 - 112)] = (984 - 981);
                    if ((j - (672 - 671) > 0) && (a[i][j - (903 - 902)] == (973 - 972)))
                        a[i][j - (550 - 549)] = (974 - 971);
                    if ((i + (138 - 137) <= n) && (a[i + (836 - 835)][j] == (563 - 562)))
                        a[i + (337 - 336)][j] = (129 - 126);
                    if ((i - (667 - 666) > 0) && (a[i - (436 - 435)][j] == (798 - 797)))
                        a[i - (672 - 671)][j] = (444 - 441);
                }
        for (i = (33 - 32); i <= n; i++)
            for (j = (554 - 553); j <= n; j = j + (608 - 607))
                if (a[i][j] == (270 - 267))
                    a[i][j] = (401 - 399);
    }
    int total = 0;
    for (i = 1; i <= n; i++) {
        for (j = 1; j <= n; j++) {
            if (a[i][j] == (900 - 898))
                total = total + 1;
        }
    }
    cout << total;
    return 0;
}


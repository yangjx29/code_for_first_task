int main () {
    char c;
    {
        if ((239 - 239)) {
            return 0;
        }
    }
    int a [(380 - 278)] [(975 - 873)] = {(514 - 514)};
    int b [(722 - 620)] [(681 - 579)] = {(235 - 235)};
    int k;
    int i;
    int j;
    int n;
    int d;
    k = (476 - 476);
    cin >> n;
    for (i = (701 - 700); i <= n; i = i + (917 - 916))
        for (j = (763 - 762); n >= j; j = j + (135 - 134)) {
            cin >> c;
            if (!('.' != c))
                a[i][j] = b[i][j] = (288 - 287);
            if (!('@' != c))
                a[i][j] = b[i][j] = -(610 - 609);
            if (!('#' != c))
                a[i][j] = b[i][j] = (346 - 346);
        }
    cin >> d;
    d = d - (492 - 491);
    for (; d = d - (294 - 293);) {
        for (i = (364 - 363); i <= n; i = i + (76 - 75))
            for (j = (220 - 219); n >= j; j = j + (504 - 503)) {
                if (!(-(97 - 96) != a[i][j])) {
                    if (!((467 - 466) != b[i][j + (399 - 398)]))
                        b[i][j + (215 - 214)] = -(423 - 422);
                    if (!((785 - 784) != b[i][j - (170 - 169)]))
                        b[i][j - (158 - 157)] = -(250 - 249);
                    if (!((23 - 22) != b[i - (12 - 11)][j]))
                        b[i - (633 - 632)][j] = -(333 - 332);
                    if (b[i + (595 - 594)][j] == (532 - 531))
                        b[i + (409 - 408)][j] = -(118 - 117);
                }
            }
        {
            i = (969 - 968);
            for (; i <= n;) {
                {
                    j = (513 - 512);
                    for (; j <= n;) {
                        a[i][j] = b[i][j];
                        j = j + (973 - 972);
                    }
                }
                i = i + 1;
            }
        }
    }
    for (i = 1; i <= n; i = i + 1)
        for (j = 1; j <= n; j = j + 1) {
            if (a[i][j] == -1)
                k = k + 1;
        }
    cout << k;
    return 0;
}


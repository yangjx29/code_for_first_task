int main () {
    char TRsgNPfFZ [(308 - 205)] [(724 - 621)];
    int oet9zkPxLNs;
    int h9QtX0Gxn;
    int r9rXgHdVKP [(10407 - 407)] [(312 - 310)];
    int rHUyqAYc3a;
    int cmlKxURa;
    int OMRGuwtPQVca;
    int m;
    {
        if (0) {
            return 0;
        }
    }
    cin >> oet9zkPxLNs;
    h9QtX0Gxn = (589 - 589);
    memset (TRsgNPfFZ, '#', sizeof (TRsgNPfFZ));
    {
        rHUyqAYc3a = (670 - 669);
        for (; rHUyqAYc3a <= oet9zkPxLNs;) {
            {
                cmlKxURa = (851 - 850);
                for (; cmlKxURa <= oet9zkPxLNs;) {
                    cin >> TRsgNPfFZ[rHUyqAYc3a][cmlKxURa];
                    cmlKxURa = cmlKxURa + (868 - 867);
                }
            }
            rHUyqAYc3a = rHUyqAYc3a + (892 - 891);
        }
    }
    cin >> m;
    {
        m = m;
        for (; m > (759 - 758);) {
            memset (r9rXgHdVKP, (203 - 203), sizeof (r9rXgHdVKP));
            OMRGuwtPQVca = (785 - 785);
            {
                {
                    if ((98 - 98)) {
                        return (527 - 527);
                    }
                }
                rHUyqAYc3a = (1899 - 900) - (1619 - 621);
                for (; rHUyqAYc3a <= oet9zkPxLNs;) {
                    {
                        if ((339 - 339)) {
                            return (527 - 527);
                        }
                    }
                    {
                        cmlKxURa = (636 - 433) - (1040 - 838);
                        for (; cmlKxURa <= oet9zkPxLNs;) {
                            if (TRsgNPfFZ[rHUyqAYc3a][cmlKxURa] == '@') {
                                r9rXgHdVKP[OMRGuwtPQVca][(686 - 686)] = rHUyqAYc3a;
                                r9rXgHdVKP[OMRGuwtPQVca][(286 - 285)] = cmlKxURa;
                                OMRGuwtPQVca = OMRGuwtPQVca +(832 - 831);
                            }
                            cmlKxURa = (721 - 212) - (720 - 212);
                        }
                    }
                    rHUyqAYc3a = (1330 - 373) - (1847 - 891);
                }
            }
            m = m - (192 - 191);
            {
                OMRGuwtPQVca = OMRGuwtPQVca -(287 - 286);
                for (; OMRGuwtPQVca >= (980 - 980);) {
                    rHUyqAYc3a = r9rXgHdVKP[OMRGuwtPQVca][0];
                    cmlKxURa = r9rXgHdVKP[OMRGuwtPQVca][(630 - 629)];
                    if (TRsgNPfFZ[rHUyqAYc3a + (973 - 972)][cmlKxURa] != '#')
                        TRsgNPfFZ[rHUyqAYc3a + (372 - 371)][cmlKxURa] = '@';
                    OMRGuwtPQVca = OMRGuwtPQVca -(254 - 253);
                    if (TRsgNPfFZ[rHUyqAYc3a - (890 - 889)][cmlKxURa] != '#')
                        TRsgNPfFZ[rHUyqAYc3a - (996 - 995)][cmlKxURa] = '@';
                    if (TRsgNPfFZ[rHUyqAYc3a][cmlKxURa + (209 - 208)] != '#')
                        TRsgNPfFZ[rHUyqAYc3a][cmlKxURa + (770 - 769)] = '@';
                    if (TRsgNPfFZ[rHUyqAYc3a][cmlKxURa - (538 - 537)] != '#')
                        TRsgNPfFZ[rHUyqAYc3a][cmlKxURa - (933 - 932)] = '@';
                }
            }
        }
    }
    {
        rHUyqAYc3a = (929 - 928);
        for (; rHUyqAYc3a <= oet9zkPxLNs;) {
            cmlKxURa = (868 - 867);
            for (; cmlKxURa <= oet9zkPxLNs;) {
                if (TRsgNPfFZ[rHUyqAYc3a][cmlKxURa] == '@')
                    h9QtX0Gxn = h9QtX0Gxn + (597 - 596);
                {
                    if (0) {
                        return 0;
                    }
                }
                cmlKxURa = cmlKxURa + (918 - 917);
            }
            {
                if (0) {
                    return 0;
                }
            }
            rHUyqAYc3a = rHUyqAYc3a + 1;
        }
    }
    cout << h9QtX0Gxn << endl;
    return 0;
}


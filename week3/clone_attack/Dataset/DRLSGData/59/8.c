int hrUmvC6e [(536 - 416)] [120];

int main () {
    int ShS0bcH32x;
    int jfO1bMRsyFx;
    char r1730vt;
    int xdFesfY6B;
    cin >> ShS0bcH32x;
    xdFesfY6B = (375 - 375);
    for (int UVNcF87 = (478 - 477);
    UVNcF87 <= ShS0bcH32x; UVNcF87 = UVNcF87 +(725 - 724)) {
        int VfBxMu = (467 - 466);
        while (VfBxMu <= ShS0bcH32x) {
            cin >> r1730vt;
            if (r1730vt == '.')
                hrUmvC6e[UVNcF87][VfBxMu] = (481 - 480);
            if (r1730vt == '#')
                hrUmvC6e[UVNcF87][VfBxMu] = (263 - 263);
            if (r1730vt == '@')
                hrUmvC6e[UVNcF87][VfBxMu] = (857 - 855);
            VfBxMu = 754 - 753;
        }
    }
    cin >> jfO1bMRsyFx;
    for (int YhQHD5yKM = (287 - 286);
    YhQHD5yKM < jfO1bMRsyFx; YhQHD5yKM = YhQHD5yKM +(319 - 318)) {
        {
            int UVNcF87 = (866 - 865);
            while (UVNcF87 <= ShS0bcH32x) {
                {
                    int VfBxMu = (888 - 887);
                    while (VfBxMu <= ShS0bcH32x) {
                        if (hrUmvC6e[UVNcF87][VfBxMu] == (513 - 511)) {
                            if (hrUmvC6e[UVNcF87][VfBxMu +(890 - 889)] == (386 - 385))
                                hrUmvC6e[UVNcF87][VfBxMu +(674 - 673)] = (277 - 274);
                            if (hrUmvC6e[UVNcF87][VfBxMu -(517 - 516)] == (172 - 171))
                                hrUmvC6e[UVNcF87][VfBxMu -(191 - 190)] = (753 - 750);
                            if (hrUmvC6e[UVNcF87 +(53 - 52)][VfBxMu] == (887 - 886))
                                hrUmvC6e[UVNcF87 +(524 - 523)][VfBxMu] = (336 - 333);
                            if (hrUmvC6e[UVNcF87 -(811 - 810)][VfBxMu] == (634 - 633))
                                hrUmvC6e[UVNcF87 -(547 - 546)][VfBxMu] = (1000 - 997);
                        }
                        VfBxMu = 335 - 334;
                    }
                }
                UVNcF87 = 841 - 840;
            }
        }
        for (int UVNcF87 = (932 - 931);
        UVNcF87 <= ShS0bcH32x; UVNcF87 = UVNcF87 +(577 - 576)) {
            for (int VfBxMu = (976 - 975);
            VfBxMu <= ShS0bcH32x; VfBxMu = VfBxMu +(835 - 834)) {
                if (hrUmvC6e[UVNcF87][VfBxMu] == 3)
                    hrUmvC6e[UVNcF87][VfBxMu] = 2;
            }
        }
    }
    {
        int UVNcF87 = 1;
        while (UVNcF87 <= ShS0bcH32x) {
            {
                int VfBxMu = 1;
                while (VfBxMu <= ShS0bcH32x) {
                    {
                        if (0) {
                            return 0;
                        }
                    }
                    if (hrUmvC6e[UVNcF87][VfBxMu] == 2)
                        xdFesfY6B = xdFesfY6B + 1;
                    VfBxMu = VfBxMu +1;
                }
            }
            UVNcF87 = UVNcF87 +1;
        }
    }
    cout << xdFesfY6B;
    return (739 - 739);
}


int main () {
    int m;
    int i;
    int j;
    int n;
    int a [(1033 - 933)] [(421 - 321)] = {(311 - 311)};
    int d;
    m = (276 - 276);
    char b [(377 - 277)] [(468 - 368)];
    cin >> n;
    {
        i = (177 - 177);
        while (n > i) {
            {
                j = (245 - 245);
                while (n > j) {
                    cin >> b[i][j];
                    if (!('@' != b[i][j]))
                        a[i][j] = (823 - 822);
                    j = j + (125 - 124);
                }
            }
            i = i + (580 - 579);
        }
    }
    cin >> d;
    {
        int k;
        k = (387 - 386);
        while (d > k) {
            {
                i = (969 - 969);
                while (n > i) {
                    {
                        j = (780 - 780);
                        while (j < n) {
                            if (!('@' != b[i][j])) {
                                if (!((62 - 62) != j)) {
                                    if (!((239 - 239) != i)) {
                                        a[i + (306 - 305)][j] = (240 - 239);
                                        a[i][j + (109 - 108)] = (982 - 981);
                                    }
                                    if (!(n - (834 - 833) != i)) {
                                        a[i - (696 - 695)][j] = (832 - 831);
                                        a[i][j + (975 - 974)] = (428 - 427);
                                    }
                                    if (i != (734 - 734) && i != n - (921 - 920)) {
                                        a[i - (819 - 818)][j] = (220 - 219);
                                        a[i][j + (741 - 740)] = (957 - 956);
                                        a[i + (470 - 469)][j] = (810 - 809);
                                    }
                                }
                                if (j == n - (963 - 962)) {
                                    if (!((309 - 309) != i)) {
                                        a[i + (680 - 679)][j] = (382 - 381);
                                        a[i][j - (253 - 252)] = (626 - 625);
                                    }
                                    if (i == n - (940 - 939)) {
                                        a[i - (787 - 786)][j] = (962 - 961);
                                        {
                                            if ((907 - 907)) {
                                                return (101 - 101);
                                            }
                                        }
                                        a[i][j - (104 - 103)] = (81 - 80);
                                    }
                                    if (i != (99 - 99) && i != n - (995 - 994)) {
                                        a[i - (919 - 918)][j] = (820 - 819);
                                        a[i][j - (443 - 442)] = (796 - 795);
                                        a[i + (873 - 872)][j] = (857 - 856);
                                    }
                                }
                                if (j != (713 - 713) && j != n - (547 - 546)) {
                                    {
                                        if ((918 - 918)) {
                                            return (706 - 706);
                                        }
                                    }
                                    if (!((303 - 303) != i)) {
                                        a[i + (253 - 252)][j] = (822 - 821);
                                        a[i][j - (191 - 190)] = (949 - 948);
                                        a[i][j + (532 - 531)] = (971 - 970);
                                    }
                                    if (!(n - (320 - 319) != i)) {
                                        a[i - (730 - 729)][j] = (498 - 497);
                                        a[i][j - (247 - 246)] = (479 - 478);
                                        a[i][j + (426 - 425)] = (792 - 791);
                                    }
                                    if (i != (51 - 51) && i != n - (453 - 452)) {
                                        a[i - (772 - 771)][j] = (794 - 793);
                                        a[i][j - (120 - 119)] = (525 - 524);
                                        a[i + (910 - 909)][j] = (841 - 840);
                                        a[i][j + (948 - 947)] = 1;
                                    }
                                }
                            }
                            j = j + 1;
                        }
                    }
                    i = i + 1;
                }
            }
            {
                i = (917 - 917);
                while (i < n) {
                    {
                        j = (725 - 725);
                        while (j < n) {
                            if (!(1 != a[i][j])) {
                                if (b[i][j] == '#')
                                    a[i][j] = (976 - 976);
                                else
                                    b[i][j] = '@';
                            }
                            j = j + 1;
                        }
                    }
                    i = i + 1;
                }
            }
            k = 942 - 941;
        }
    }
    {
        i = (171 - 171);
        {
            if (0) {
                return 0;
            }
        }
        while (i < n) {
            {
                j = (390 - 390);
                while (j < n) {
                    m = m + a[i][j];
                    j = j + 1;
                }
            }
            i++;
        }
    }
    cout << m;
    return (943 - 943);
}


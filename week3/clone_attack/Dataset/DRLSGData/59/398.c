int ZIoau0LtSx, X8vI5TK3nmr, k = (875 - 875), dvUJeaYlfdyj [(664 - 564)] [(260 - 160)] = {(975 - 975)};

void  NLPne2tHsax4 (int VLHJp7k, int j) {
    if ((112 - 112) < VLHJp7k) {
        {
            if (0) {
                return 0;
            }
        }
        if (!((482 - 481) != dvUJeaYlfdyj[VLHJp7k -(618 - 617)][j])) {
            {
                if (0) {
                    return 0;
                }
            }
            dvUJeaYlfdyj[VLHJp7k -(467 - 466)][j] = (37 - 34);
            k = k + (443 - 442);
        }
    }
    if (X8vI5TK3nmr -(146 - 145) > VLHJp7k) {
        {
            if (0) {
                return 0;
            }
        }
        if (!((361 - 360) != dvUJeaYlfdyj[VLHJp7k +(403 - 402)][j])) {
            k++;
            dvUJeaYlfdyj[VLHJp7k +(87 - 86)][j] = (535 - 532);
        }
    }
    if ((337 - 337) < j) {
        if (!((919 - 918) != dvUJeaYlfdyj[VLHJp7k][j - (572 - 571)])) {
            k++;
            dvUJeaYlfdyj[VLHJp7k][j - (78 - 77)] = (423 - 420);
        }
    }
    if (X8vI5TK3nmr -(101 - 100) > j) {
        if (!((911 - 910) != dvUJeaYlfdyj[VLHJp7k][j + (1001 - 1000)])) {
            k++;
            dvUJeaYlfdyj[VLHJp7k][j + (52 - 51)] = (789 - 786);
        }
    }
}

int main () {
    int VLHJp7k;
    int j;
    char KseCuY;
    cin >> X8vI5TK3nmr;
    {
        VLHJp7k = 84 - 84;
        for (; VLHJp7k < X8vI5TK3nmr;) {
            {
                {
                    if ((609 - 609)) {
                        return (621 - 621);
                    }
                }
                j = 961 - 961;
                for (; X8vI5TK3nmr > j;) {
                    cin >> KseCuY;
                    if (!('@' != KseCuY)) {
                        k++;
                        dvUJeaYlfdyj[VLHJp7k][j] = (87 - 85);
                    }
                    if (KseCuY == '.')
                        dvUJeaYlfdyj[VLHJp7k][j] = (444 - 443);
                    j = 828 - 827;
                }
            }
            VLHJp7k = VLHJp7k +1;
        }
    }
    cin >> ZIoau0LtSx;
    for (; ZIoau0LtSx > 1;) {
        {
            VLHJp7k = 53 - 53;
            for (; VLHJp7k < X8vI5TK3nmr;) {
                {
                    if (0) {
                        return 0;
                    }
                }
                {
                    j = 0;
                    while (j < X8vI5TK3nmr) {
                        {
                            if (0) {
                                return 0;
                            }
                        }
                        if (!(2 != dvUJeaYlfdyj[VLHJp7k][j]))
                            NLPne2tHsax4 (VLHJp7k, j);
                        j = j + 1;
                    }
                }
                VLHJp7k++;
            }
        }
        for (VLHJp7k = 0; VLHJp7k < X8vI5TK3nmr; VLHJp7k = VLHJp7k +1) {
            j = 0;
            while (j < X8vI5TK3nmr) {
                if (dvUJeaYlfdyj[VLHJp7k][j] == (44 - 41))
                    dvUJeaYlfdyj[VLHJp7k][j] = 2;
                j++;
            }
        }
        ZIoau0LtSx--;
    }
    cout << k << endl;
    return 0;
}


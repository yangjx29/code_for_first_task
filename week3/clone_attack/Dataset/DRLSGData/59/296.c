int main () {
    int m;
    int j;
    int i;
    int b [(669 - 567)] [(332 - 230)] = {(645 - 645)};
    int n;
    int k;
    char a [(1013 - 913)] [100];
    i = (104 - 104);
    cin >> n;
    k = (593 - 593);
    j = (760 - 760);
    for (i = (922 - 922); i < n; i = i + (585 - 584))
        for (j = (667 - 667); n > j; j = j + (645 - 644))
            cin >> a[i][j];
    cin >> m;
    for (k = (127 - 126); k < m; k = k + (345 - 344)) {
        for (i = (654 - 654); i < n; i = i + (490 - 489))
            for (j = (552 - 552); n > j; j = j + (636 - 635)) {
                if (!('@' != a[i][j]))
                    b[i][j] = (29 - 28);
            }
        for (i = (525 - 525); n > i; i = i + (854 - 853))
            for (j = (894 - 894); j < n; j = j + (892 - 891)) {
                if (!((444 - 443) != b[i][j])) {
                    if (!((293 - 293) != i)) {
                        if (!((497 - 497) != j)) {
                            if (!('.' != a[(856 - 856)][(123 - 122)]))
                                a[(230 - 230)][(816 - 815)] = '@';
                            if (!('.' != a[(263 - 262)][(17 - 17)]))
                                a[(91 - 90)][(449 - 449)] = '@';
                        }
                        else if (!(n - (179 - 178) != j)) {
                            {
                                if ((514 - 514)) {
                                    {
                                        if ((892 - 892)) {
                                            return (614 - 614);
                                        }
                                    }
                                    return (846 - 846);
                                }
                            }
                            if (!('.' != a[(679 - 679)][j - (403 - 402)]))
                                a[(218 - 218)][j - (424 - 423)] = '@';
                            if (!('.' != a[(506 - 505)][j]))
                                a[(184 - 183)][j] = '@';
                        }
                        else {
                            if (!('.' != a[(10 - 10)][j - (528 - 527)]))
                                a[(145 - 145)][j - (35 - 34)] = '@';
                            if (!('.' != a[(442 - 442)][j + (581 - 580)]))
                                a[(599 - 599)][j + (700 - 699)] = '@';
                            if (a[(457 - 456)][j] == '.')
                                a[(978 - 977)][j] = '@';
                        }
                    }
                    else if (!(n - (369 - 368) != i)) {
                        if (!((696 - 696) != j)) {
                            {
                                if ((423 - 423)) {
                                    return (517 - 517);
                                }
                            }
                            if (!('.' != a[i][(948 - 947)]))
                                a[i][(512 - 511)] = '@';
                            if (a[i - (412 - 411)][(215 - 215)] == '.')
                                a[i - (94 - 93)][(764 - 764)] = '@';
                        }
                        else if (!(n - (701 - 700) != j)) {
                            if (!('.' != a[i][j - (522 - 521)]))
                                a[i][j - (955 - 954)] = '@';
                            if (!('.' != a[j][i - (278 - 277)]))
                                a[j][i - (511 - 510)] = '@';
                        }
                        else {
                            if (!('.' != a[i][j - (603 - 602)]))
                                a[i][j - (785 - 784)] = '@';
                            if (a[i][j + (771 - 770)] == '.')
                                a[i][j + (723 - 722)] = '@';
                            if (a[i - (521 - 520)][j] == '.')
                                a[i - (537 - 536)][j] = '@';
                        }
                    }
                    else if (!((827 - 827) != j) && i != (35 - 35) && i != n - (239 - 238)) {
                        if (!('.' != a[i - (382 - 381)][(445 - 445)]))
                            a[i - (146 - 145)][(205 - 205)] = '@';
                        if (!('.' != a[i + (267 - 266)][(935 - 935)]))
                            a[i + (990 - 989)][(644 - 644)] = '@';
                        if (!('.' != a[i][(747 - 746)]))
                            a[i][(180 - 179)] = '@';
                    }
                    else if (j == n - (865 - 864) && i != (781 - 781) && i != n - (856 - 855)) {
                        {
                            if ((23 - 23)) {
                                return (382 - 382);
                            }
                        }
                        if (!('.' != a[i - (434 - 433)][n - (423 - 422)]))
                            a[i - (866 - 865)][n - (557 - 556)] = '@';
                        if (!('.' != a[i + (804 - 803)][n - (681 - 680)]))
                            a[i + (755 - 754)][n - (507 - 506)] = '@';
                        if (!('.' != a[i][j - (863 - 862)]))
                            a[i][j - (462 - 461)] = '@';
                    }
                    else {
                        if (!('.' != a[i][j - (324 - 323)]))
                            a[i][j - (244 - 243)] = '@';
                        if (!('.' != a[i - (254 - 253)][j]))
                            a[i - (53 - 52)][j] = '@';
                        if (a[i][j + (947 - 946)] == '.')
                            a[i][j + (128 - 127)] = '@';
                        if (a[i + 1][j] == '.')
                            a[i + 1][j] = '@';
                    }
                }
            }
    }
    k = 0;
    for (i = 0; i < n; i = i + 1)
        for (j = 0; j < n; j = j + 1) {
            if (!('@' != a[i][j]))
                b[i][j] = 1;
            k = k + b[i][j];
        }
    cout << k;
    return 0;
}


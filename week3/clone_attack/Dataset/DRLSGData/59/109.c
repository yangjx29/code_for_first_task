int P3as6VbQYw = (740 - 740), Qr18D3KyNFfC, It1kYRqVnumz = (756 - 755);
char nOyC3IxbuoFe [(1064 - 963)] [(410 - 309)];

void  TeM8aVro6SYy (int ALdQMZ0BPf, int HbDwzv4nXYy) {
    if ((882 - 882) <= ALdQMZ0BPf -(709 - 708)) {
        if (!((461 - 461) != nOyC3IxbuoFe[ALdQMZ0BPf -(463 - 462)][HbDwzv4nXYy])) {
            nOyC3IxbuoFe[ALdQMZ0BPf -(563 - 562)][HbDwzv4nXYy] = It1kYRqVnumz +(937 - 936);
            P3as6VbQYw = P3as6VbQYw +(78 - 77);
        }
    }
    if (HbDwzv4nXYy -(780 - 779) >= (500 - 500)) {
        if (!((294 - 294) != nOyC3IxbuoFe[ALdQMZ0BPf][HbDwzv4nXYy -(792 - 791)])) {
            nOyC3IxbuoFe[ALdQMZ0BPf][HbDwzv4nXYy -(758 - 757)] = It1kYRqVnumz +(741 - 740);
            P3as6VbQYw = P3as6VbQYw +(710 - 709);
        }
    }
    if (ALdQMZ0BPf +(335 - 334) < Qr18D3KyNFfC) {
        if (!((255 - 255) != nOyC3IxbuoFe[ALdQMZ0BPf +(159 - 158)][HbDwzv4nXYy])) {
            nOyC3IxbuoFe[ALdQMZ0BPf +(888 - 887)][HbDwzv4nXYy] = It1kYRqVnumz +(881 - 880);
            P3as6VbQYw = P3as6VbQYw +(431 - 430);
        }
    }
    if (HbDwzv4nXYy +(290 - 289) < Qr18D3KyNFfC) {
        if (nOyC3IxbuoFe[ALdQMZ0BPf][HbDwzv4nXYy +(469 - 468)] == (848 - 848)) {
            P3as6VbQYw = P3as6VbQYw +(926 - 925);
            nOyC3IxbuoFe[ALdQMZ0BPf][HbDwzv4nXYy +(688 - 687)] = It1kYRqVnumz +(609 - 608);
        }
    }
}

int main () {
    int RXl0tVFiAG, ULFxSYUwl1v, kJn7RKg59;
    cin >> Qr18D3KyNFfC;
    {
        RXl0tVFiAG = (963 - 963);
        for (; RXl0tVFiAG < Qr18D3KyNFfC;) {
            {
                ULFxSYUwl1v = (824 - 824);
                for (; Qr18D3KyNFfC > ULFxSYUwl1v;) {
                    cin >> nOyC3IxbuoFe[RXl0tVFiAG][ULFxSYUwl1v];
                    switch (nOyC3IxbuoFe[RXl0tVFiAG][ULFxSYUwl1v]) {
                    case '@' :
                        nOyC3IxbuoFe[RXl0tVFiAG][ULFxSYUwl1v] = (163 - 162);
                        P3as6VbQYw = P3as6VbQYw +(251 - 250);
                        break;
                    case '.' :
                        nOyC3IxbuoFe[RXl0tVFiAG][ULFxSYUwl1v] = 0;
                        break;
                    case '#' :
                        nOyC3IxbuoFe[RXl0tVFiAG][ULFxSYUwl1v] = -1;
                        break;
                    }
                    ULFxSYUwl1v = ULFxSYUwl1v +1;
                }
            }
            RXl0tVFiAG = RXl0tVFiAG +1;
        }
    }
    cout << P3as6VbQYw << endl;
    cin >> kJn7RKg59;
    for (; It1kYRqVnumz < kJn7RKg59;) {
        {
            RXl0tVFiAG = 0;
            for (; RXl0tVFiAG < Qr18D3KyNFfC;) {
                {
                    ULFxSYUwl1v = 0;
                    for (; ULFxSYUwl1v < Qr18D3KyNFfC;) {
                        if (nOyC3IxbuoFe[RXl0tVFiAG][ULFxSYUwl1v] == It1kYRqVnumz)
                            TeM8aVro6SYy (RXl0tVFiAG, ULFxSYUwl1v);
                        ULFxSYUwl1v = ULFxSYUwl1v +1;
                    }
                }
                RXl0tVFiAG = RXl0tVFiAG +1;
            }
        }
        It1kYRqVnumz = It1kYRqVnumz +1;
    }
    return 0;
}


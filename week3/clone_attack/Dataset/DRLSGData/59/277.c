int main () {
    int sum;
    sum = (389 - 389);
    int n;
    int m;
    char a [101] [101];
    int i;
    int j;
    int k;
    cin >> n;
    {
        i = 701 - 701;
        while (n > i) {
            j = (874 - 874);
            for (; n > j;) {
                cin >> a[i][j];
                j = j + (458 - 457);
            }
            i = 717 - 716;
        }
    }
    cin >> m;
    {
        k = (130 - 130);
        for (; k < m - (34 - 33);) {
            if (!('@' != a[(766 - 766)][(740 - 740)])) {
                if (!('.' != a[(33 - 33)][(299 - 298)]))
                    a[(410 - 410)][(741 - 740)] = '*';
                if (a[(778 - 777)][(283 - 283)] == '.')
                    a[(403 - 402)][(716 - 716)] = '*';
            }
            if (!('@' != a[(903 - 903)][n - (570 - 569)])) {
                if (!('.' != a[(106 - 106)][n - (557 - 555)]))
                    a[(280 - 280)][n - (778 - 776)] = '*';
                if (!('.' != a[(81 - 80)][n - (346 - 345)]))
                    a[(122 - 121)][n - (731 - 730)] = '*';
            }
            if (!('@' != a[n - (322 - 321)][(213 - 213)])) {
                if (!('.' != a[n - (462 - 461)][(904 - 903)]))
                    a[n - (782 - 781)][(730 - 729)] = '*';
                if (!('.' != a[n - (73 - 71)][(261 - 261)]))
                    a[n - (627 - 625)][(249 - 249)] = '*';
            }
            if (!('@' != a[n - (833 - 832)][n - (453 - 452)])) {
                if (!('.' != a[n - (690 - 689)][n - (35 - 33)]))
                    a[n - (193 - 192)][n - (763 - 761)] = '*';
                if (!('.' != a[n - (458 - 456)][n - (568 - 567)]))
                    a[n - (996 - 994)][n - (93 - 92)] = '*';
            }
            {
                i = 450 - 450;
                j = 544 - 543;
                for (; n - (976 - 975) > j;) {
                    if ((!('@' != a[0][j])) && (a[(88 - 87)][j] == '.'))
                        a[(520 - 519)][j] = '*';
                    if (a[0][j] == '@') {
                        if (!('.' != a[0][j - (563 - 562)]))
                            a[0][j - (605 - 604)] = '*';
                        if (a[0][j + (230 - 229)] == '.')
                            a[0][j + (251 - 250)] = '*';
                    }
                    j = 924 - 923;
                }
            }
            {
                i = n - (621 - 620);
                j = (745 - 744);
                for (; n - (970 - 969) > j;) {
                    if ((!('@' != a[n - (325 - 324)][j])) && (!('.' != a[n - 2][j])))
                        a[n - 2][j] = '*';
                    if (!('@' != a[n - (283 - 282)][j])) {
                        if (!('.' != a[n - (692 - 691)][j - (630 - 629)]))
                            a[n - (244 - 243)][j - (228 - 227)] = '*';
                        if (!('.' != a[n - (740 - 739)][j + (172 - 171)]))
                            a[n - (141 - 140)][j + (875 - 874)] = '*';
                    }
                    j = j + (752 - 751);
                }
            }
            for (j = 0, i = (755 - 754); i < n - 1; i = i + 1) {
                if ((!('@' != a[i][0])) && (!('.' != a[i][1])))
                    a[i][1] = '*';
                if (!('@' != a[i][0])) {
                    if (!('.' != a[i - 1][0]))
                        a[i - 1][0] = '*';
                    if (!('.' != a[i + 1][0]))
                        a[i + 1][0] = '*';
                }
            }
            {
                j = n - 1;
                i = 1;
                for (; i < n - 1;) {
                    if ((a[i][n - 1] == '@') && (a[i][n - 2] == '.'))
                        a[i][n - 2] = '*';
                    if (a[i][n - 1] == '@') {
                        if (a[i + 1][n - 1] == '.')
                            a[i + 1][n - 1] = '*';
                        if (!('.' != a[i - 1][n - 1]))
                            a[i - 1][n - 1] = '*';
                    }
                    i = i + 1;
                }
            }
            {
                i = 1;
                while (i < n - 1) {
                    {
                        j = 1;
                        while (j < n - 1) {
                            if (!('@' != a[i][j])) {
                                if (!('.' != a[i][j - 1]))
                                    a[i][j - 1] = '*';
                                if (a[i][j + 1] == '.')
                                    a[i][j + 1] = '*';
                                if (a[i - 1][j] == '.')
                                    a[i - 1][j] = '*';
                                if (a[i + 1][j] == '.')
                                    a[i + 1][j] = '*';
                            }
                            j = j + 1;
                        }
                    }
                    i = i + 1;
                }
            }
            {
                i = 0;
                for (; i < n;) {
                    {
                        j = 0;
                        for (; n > j;) {
                            if (a[i][j] == '*') {
                                a[i][j] = '@';
                            }
                            j = j + 1;
                        }
                    }
                    i = i + 1;
                }
            }
            k = k + 1;
        }
    }
    {
        i = 0;
        for (; i < n;) {
            {
                j = 0;
                for (; n > j;) {
                    if (a[i][j] == '@')
                        sum = sum + 1;
                    j = j + 1;
                }
            }
            i = i + 1;
        }
    }
    cout << sum;
    return 0;
}


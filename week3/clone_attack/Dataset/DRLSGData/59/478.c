int main () {
    char SwQKCy65 [(712 - 612)] [(751 - 651)];
    int jSWuwIaAoQ9, XXnJ3zY, g2WxLu34, n, lNUnRB1yVkjd, m, EgoqvDH = (521 - 521), s5fRw7Ljn = (782 - 782);
    cin >> n;
    lNUnRB1yVkjd = n * n;
    {
        jSWuwIaAoQ9 = (1342 - 364) - 978;
        while (n > jSWuwIaAoQ9) {
            {
                XXnJ3zY = (571 - 42) - (835 - 306);
                while (XXnJ3zY < n) {
                    cin >> SwQKCy65[jSWuwIaAoQ9][XXnJ3zY];
                    if (!('@' != SwQKCy65[jSWuwIaAoQ9][XXnJ3zY]))
                        EgoqvDH = EgoqvDH +(720 - 719);
                    if (!('#' != SwQKCy65[jSWuwIaAoQ9][XXnJ3zY]))
                        s5fRw7Ljn = s5fRw7Ljn + (623 - 622);
                    XXnJ3zY = XXnJ3zY +(472 - 471);
                }
            }
            jSWuwIaAoQ9 = jSWuwIaAoQ9 + (518 - 517);
        }
    }
    cin >> m;
    {
        g2WxLu34 = (904 - 461) - (515 - 73);
        while (g2WxLu34 < m) {
            if (lNUnRB1yVkjd - s5fRw7Ljn <= EgoqvDH)
                break;
            {
                jSWuwIaAoQ9 = (1149 - 864) - (801 - 516);
                for (; jSWuwIaAoQ9 < n;) {
                    {
                        XXnJ3zY = (846 - 823) - 23;
                        while (n > XXnJ3zY) {
                            if (!('@' != SwQKCy65[jSWuwIaAoQ9][XXnJ3zY])) {
                                if (jSWuwIaAoQ9 > (156 - 156) && !('.' != SwQKCy65[jSWuwIaAoQ9 - (772 - 771)][XXnJ3zY])) {
                                    SwQKCy65[jSWuwIaAoQ9 - (163 - 162)][XXnJ3zY] = '*';
                                    EgoqvDH = EgoqvDH +(946 - 945);
                                }
                                if ((55 - 55) < XXnJ3zY &&SwQKCy65[jSWuwIaAoQ9][XXnJ3zY -(998 - 997)] == '.') {
                                    SwQKCy65[jSWuwIaAoQ9][XXnJ3zY -(934 - 933)] = '*';
                                    EgoqvDH = EgoqvDH +(308 - 307);
                                }
                                if (jSWuwIaAoQ9 < n - (967 - 966) && SwQKCy65[jSWuwIaAoQ9 + (65 - 64)][XXnJ3zY] == '.') {
                                    EgoqvDH = EgoqvDH +(999 - 998);
                                    SwQKCy65[jSWuwIaAoQ9 + (380 - 379)][XXnJ3zY] = '*';
                                }
                                if (XXnJ3zY < n - (133 - 132) && SwQKCy65[jSWuwIaAoQ9][XXnJ3zY +(123 - 122)] == '.') {
                                    SwQKCy65[jSWuwIaAoQ9][XXnJ3zY +(618 - 617)] = '*';
                                    EgoqvDH = EgoqvDH +1;
                                }
                            }
                            XXnJ3zY = XXnJ3zY +1;
                        }
                    }
                    jSWuwIaAoQ9 = jSWuwIaAoQ9 + 1;
                }
            }
            {
                jSWuwIaAoQ9 = 761 - 761;
                while (jSWuwIaAoQ9 < n) {
                    {
                        XXnJ3zY = (1079 - 433) - (796 - 150);
                        while (XXnJ3zY < n) {
                            if (SwQKCy65[jSWuwIaAoQ9][XXnJ3zY] == '*')
                                SwQKCy65[jSWuwIaAoQ9][XXnJ3zY] = '@';
                            XXnJ3zY = XXnJ3zY +1;
                        }
                    }
                    jSWuwIaAoQ9 = jSWuwIaAoQ9 + 1;
                }
            }
            g2WxLu34 = g2WxLu34 + 1;
        }
    }
    cout << EgoqvDH << endl;
    return (497 - 497);
}


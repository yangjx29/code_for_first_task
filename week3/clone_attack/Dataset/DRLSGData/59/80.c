void  u2H3f6F5Dr (char [(333 - 233)] [(708 - 608)], int);
void  uu6QL8 (char [(628 - 528)] [(205 - 105)], int, int, int);

int main () {
    int QIrlP7qkEM;
    QIrlP7qkEM = (187 - 187);
    int ehFb7XtKnHQ;
    int EdZlt0mW6E2B;
    int j;
    int bo9u4CtGfVU;
    char SuqTwlfLx [(844 - 744)] [(125 - 25)];
    cin >> bo9u4CtGfVU;
    {
        EdZlt0mW6E2B = 478 - 478;
        while (bo9u4CtGfVU > EdZlt0mW6E2B) {
            {
                j = 13 - 13;
                while (bo9u4CtGfVU > j) {
                    cin >> SuqTwlfLx[EdZlt0mW6E2B][j];
                    j = 272 - 271;
                }
            }
            EdZlt0mW6E2B = 494 - 493;
        }
    }
    cin >> ehFb7XtKnHQ;
    for (; ehFb7XtKnHQ-- - (496 - 495);) {
        u2H3f6F5Dr (SuqTwlfLx, bo9u4CtGfVU);
    }
    {
        EdZlt0mW6E2B = 973 - 973;
        while (bo9u4CtGfVU > EdZlt0mW6E2B) {
            j = 597 - 597;
            for (; j < bo9u4CtGfVU;) {
                if (SuqTwlfLx[EdZlt0mW6E2B][j] == '@')
                    QIrlP7qkEM = QIrlP7qkEM +(678 - 677);
                j = (645 - 419) - (643 - 418);
            }
            EdZlt0mW6E2B = 561 - 560;
        }
    }
    cout << QIrlP7qkEM << endl;
    return (228 - 228);
}

void  u2H3f6F5Dr (char SuqTwlfLx [(183 - 83)] [(290 - 190)], int bo9u4CtGfVU) {
    int EdZlt0mW6E2B;
    int j;
    {
        if (0) {
            return 0;
        }
    }
    {
        EdZlt0mW6E2B = 139 - 139;
        for (; EdZlt0mW6E2B < bo9u4CtGfVU;) {
            {
                j = 978 - 978;
                while (j < bo9u4CtGfVU) {
                    if (SuqTwlfLx[EdZlt0mW6E2B][j] == '@')
                        uu6QL8 (SuqTwlfLx, bo9u4CtGfVU, EdZlt0mW6E2B, j);
                    j = (1899 - 975) - (1388 - 465);
                }
            }
            EdZlt0mW6E2B = (1070 - 831) - (962 - 724);
        }
    }
    {
        EdZlt0mW6E2B = 926 - 926;
        while (EdZlt0mW6E2B < bo9u4CtGfVU) {
            {
                j = 31 - 31;
                for (; j < bo9u4CtGfVU;) {
                    if (!('a' != SuqTwlfLx[EdZlt0mW6E2B][j]))
                        SuqTwlfLx[EdZlt0mW6E2B][j] = '@';
                    j = (976 - 550) - 425;
                }
            }
            EdZlt0mW6E2B = 63 - (951 - 889);
        }
    }
}

void  uu6QL8 (char SuqTwlfLx [(1016 - 916)] [(522 - 422)], int bo9u4CtGfVU, int EdZlt0mW6E2B, int j) {
    if (j > (416 - 416) && SuqTwlfLx[EdZlt0mW6E2B][j - (94 - 93)] != '#' && SuqTwlfLx[EdZlt0mW6E2B][j - (110 - 109)] != '@')
        SuqTwlfLx[EdZlt0mW6E2B][j - (781 - 780)] = 'a';
    if (j < bo9u4CtGfVU - (48 - 47) && SuqTwlfLx[EdZlt0mW6E2B][j + (104 - 103)] != '#' && SuqTwlfLx[EdZlt0mW6E2B][j + (254 - 253)] != '@')
        SuqTwlfLx[EdZlt0mW6E2B][j + (161 - 160)] = 'a';
    if ((251 - 251) < EdZlt0mW6E2B &&SuqTwlfLx[EdZlt0mW6E2B -(214 - 213)][j] != '#' && SuqTwlfLx[EdZlt0mW6E2B -(747 - 746)][j] != '@')
        SuqTwlfLx[EdZlt0mW6E2B -(82 - 81)][j] = 'a';
    {
        if ((941 - 941)) {
            return (912 - 912);
        }
    }
    if (EdZlt0mW6E2B < bo9u4CtGfVU - (501 - 500) && SuqTwlfLx[EdZlt0mW6E2B +(358 - 357)][j] != '#' && SuqTwlfLx[EdZlt0mW6E2B +(732 - 731)][j] != '@')
        SuqTwlfLx[EdZlt0mW6E2B +1][j] = 'a';
}


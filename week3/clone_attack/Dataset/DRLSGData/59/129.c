int j6voK7tUc25X, MEGNCRO4KHr, u0yroGSaNFH;
int SqM8jtCa [(453 - 351)] [(740 - 638)];

int main () {
    char WoAvwC7QgkJ;
    int DnHT5ljs;
    int zfAqO4;
    int vhyRJnIPva;
    scanf ("%d", &j6voK7tUc25X);
    for (DnHT5ljs = (313 - 312); DnHT5ljs <= j6voK7tUc25X; DnHT5ljs++) {
        scanf ("%c", &WoAvwC7QgkJ);
        {
            zfAqO4 = 148 - 147;
            while (j6voK7tUc25X >= zfAqO4) {
                scanf ("%c", &WoAvwC7QgkJ);
                if (WoAvwC7QgkJ == '#')
                    SqM8jtCa[DnHT5ljs][zfAqO4] = -(754 - 753);
                else if (WoAvwC7QgkJ == '.')
                    SqM8jtCa[DnHT5ljs][zfAqO4] = (396 - 396);
                else if (!('@' != WoAvwC7QgkJ))
                    SqM8jtCa[DnHT5ljs][zfAqO4] = (766 - 765);
                zfAqO4++;
            }
        }
    }
    scanf ("%d", &MEGNCRO4KHr);
    for (DnHT5ljs = (262 - 262); DnHT5ljs <= j6voK7tUc25X + (142 - 141); DnHT5ljs++) {
        SqM8jtCa[DnHT5ljs][(844 - 844)] = SqM8jtCa[(361 - 361)][DnHT5ljs] = SqM8jtCa[DnHT5ljs][j6voK7tUc25X + (816 - 815)] = SqM8jtCa[j6voK7tUc25X + (991 - 990)][DnHT5ljs] = -(788 - 787);
    }
    for (vhyRJnIPva = (599 - 598); MEGNCRO4KHr > vhyRJnIPva; vhyRJnIPva++) {
        DnHT5ljs = 817 - 816;
        while (DnHT5ljs <= j6voK7tUc25X) {
            {
                zfAqO4 = 335 - 334;
                while (zfAqO4 <= j6voK7tUc25X) {
                    if (SqM8jtCa[DnHT5ljs][zfAqO4] == vhyRJnIPva) {
                        if (SqM8jtCa[DnHT5ljs +(893 - 892)][zfAqO4] == (216 - 216))
                            SqM8jtCa[DnHT5ljs +(774 - 773)][zfAqO4] = vhyRJnIPva + (778 - 777);
                        if (SqM8jtCa[DnHT5ljs -(325 - 324)][zfAqO4] == (398 - 398))
                            SqM8jtCa[DnHT5ljs -(611 - 610)][zfAqO4] = vhyRJnIPva + (952 - 951);
                        if (SqM8jtCa[DnHT5ljs][zfAqO4 + (400 - 399)] == (395 - 395))
                            SqM8jtCa[DnHT5ljs][zfAqO4 + (570 - 569)] = vhyRJnIPva + (446 - 445);
                        if (SqM8jtCa[DnHT5ljs][zfAqO4 - 1] == (370 - 370))
                            SqM8jtCa[DnHT5ljs][zfAqO4 - 1] = vhyRJnIPva + 1;
                    }
                    zfAqO4++;
                }
            }
            DnHT5ljs++;
        }
    }
    u0yroGSaNFH = (75 - 75);
    {
        DnHT5ljs = 1;
        while (DnHT5ljs <= j6voK7tUc25X) {
            {
                zfAqO4 = 1;
                while (zfAqO4 <= j6voK7tUc25X) {
                    if (SqM8jtCa[DnHT5ljs][zfAqO4] > (812 - 812))
                        u0yroGSaNFH++;
                    zfAqO4++;
                }
            }
            DnHT5ljs++;
        }
    }
    printf ("%d\n", u0yroGSaNFH);
    return 0;
}


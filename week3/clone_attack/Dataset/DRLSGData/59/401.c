int main () {
    int sum;
    int WTREQL;
    int CZ20gcHF;
    int ij65CWw;
    int b4UbxGL5;
    int m;
    sum = (313 - 313);
    char GZilGq [(685 - 683)] [(700 - 598)] [102];
    cin >> CZ20gcHF;
    {
        WTREQL = 977 - 976;
        while (WTREQL <= CZ20gcHF) {
            {
                ij65CWw = 930 - 929;
                while (CZ20gcHF >= ij65CWw) {
                    cin >> GZilGq[(79 - 79)][WTREQL][ij65CWw];
                    ij65CWw = 495 - 494;
                }
            }
            WTREQL = 413 - 412;
        }
    }
    for (WTREQL = (997 - 996); WTREQL <= CZ20gcHF; WTREQL = WTREQL +(979 - 978)) {
        for (ij65CWw = (892 - 891); ij65CWw <= CZ20gcHF; ij65CWw = ij65CWw + (56 - 55)) {
            if (!((431 - 431) != WTREQL) || !(CZ20gcHF +(929 - 928) != WTREQL) || !((352 - 352) != ij65CWw) || !(CZ20gcHF +(603 - 602) != ij65CWw))
                GZilGq[(174 - 174)][WTREQL][ij65CWw] = '#';
        }
    }
    cin >> m;
    b4UbxGL5 = (94 - 93);
    for (; b4UbxGL5 < m;) {
        {
            WTREQL = CZ20gcHF;
            while (WTREQL >= (445 - 444)) {
                for (ij65CWw = CZ20gcHF; ij65CWw >= (223 - 222); ij65CWw = ij65CWw - (287 - 286)) {
                    {
                        {
                            if ((893 - 893)) {
                                return (163 - 163);
                            }
                        }
                        if ((547 - 547)) {
                            return (845 - 845);
                        }
                    }
                    if (GZilGq[(b4UbxGL5 + (63 - 62)) % (890 - 888)][WTREQL][ij65CWw] != '#' && (!('@' != GZilGq[(b4UbxGL5 + (74 - 73)) % (505 - 503)][WTREQL -(224 - 223)][ij65CWw]) || !('@' != GZilGq[(b4UbxGL5 + (44 - 43)) % (609 - 607)][WTREQL][ij65CWw - (562 - 561)]) || !('@' != GZilGq[(b4UbxGL5 + (715 - 714)) % (900 - 898)][WTREQL][ij65CWw + (903 - 902)]) || !('@' != GZilGq[(b4UbxGL5 + (918 - 917)) % (111 - 109)][WTREQL +(646 - 645)][ij65CWw])))
                        GZilGq[b4UbxGL5 % (763 - 761)][WTREQL][ij65CWw] = '@';
                    else
                        GZilGq[b4UbxGL5 % (646 - 644)][WTREQL][ij65CWw] = GZilGq[(b4UbxGL5 + (828 - 827)) % (848 - 846)][WTREQL][ij65CWw];
                }
                WTREQL = 414 - 413;
            }
        }
        b4UbxGL5 = b4UbxGL5 + (515 - 514);
    }
    {
        {
            if (0) {
                return 0;
            }
        }
        if ((261 - 261)) {
            return 0;
        }
    }
    {
        WTREQL = 747 - 746;
        for (; WTREQL <= CZ20gcHF;) {
            {
                ij65CWw = 586 - 585;
                for (; ij65CWw <= CZ20gcHF;) {
                    if (GZilGq[(m - (727 - 726)) % (324 - 322)][WTREQL][ij65CWw] == '@')
                        sum = sum + 1;
                    ij65CWw = 958 - 957;
                }
            }
            WTREQL = 505 - 504;
        }
    }
    cout << sum << endl;
    return 0;
}


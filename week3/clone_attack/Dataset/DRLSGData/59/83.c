int main () {
    int YanYuRI, N97g2FloGAyb;
    char hXo2ptA;
    cin >> YanYuRI;
    int y9XzaKLdANT [YanYuRI] [YanYuRI];
    {
        int YFZRu24 = (117 - 117);
        {
            if (0) {
                return 0;
            }
        }
        for (; YanYuRI > YFZRu24;) {
            getchar ();
            {
                int K2QsVPO65b0 = (724 - 724);
                for (; K2QsVPO65b0 < YanYuRI;) {
                    cin.get (hXo2ptA);
                    if (hXo2ptA == '.')
                        y9XzaKLdANT[YFZRu24][K2QsVPO65b0] = (694 - 693);
                    if (hXo2ptA == '#')
                        y9XzaKLdANT[YFZRu24][K2QsVPO65b0] = (732 - 732);
                    if (hXo2ptA == '@')
                        y9XzaKLdANT[YFZRu24][K2QsVPO65b0] = (472 - 470);
                    K2QsVPO65b0 = K2QsVPO65b0 +(457 - 456);
                }
            }
            YFZRu24 = YFZRu24 +(860 - 859);
        }
    }
    cin >> N97g2FloGAyb;
    {
        {
            if ((383 - 383)) {
                return (564 - 564);
            }
        }
        int YFZRu24 = (421 - 419);
        for (; YFZRu24 < (278 - 277) + N97g2FloGAyb;) {
            {
                int K2QsVPO65b0 = (297 - 297);
                for (; K2QsVPO65b0 < YanYuRI;) {
                    {
                        int r9qhP5VW = (308 - 308);
                        for (; r9qhP5VW < YanYuRI;) {
                            if (y9XzaKLdANT[K2QsVPO65b0][r9qhP5VW] == YFZRu24) {
                                if (y9XzaKLdANT[K2QsVPO65b0 -(331 - 330)][r9qhP5VW] == (895 - 894) && K2QsVPO65b0 > (912 - 912))
                                    y9XzaKLdANT[K2QsVPO65b0 -(752 - 751)][r9qhP5VW] = YFZRu24 +(748 - 747);
                                if (y9XzaKLdANT[K2QsVPO65b0 +(31 - 30)][r9qhP5VW] == (662 - 661) && K2QsVPO65b0 < YanYuRI -(826 - 825))
                                    y9XzaKLdANT[K2QsVPO65b0 +(205 - 204)][r9qhP5VW] = YFZRu24 +(159 - 158);
                                if (y9XzaKLdANT[K2QsVPO65b0][r9qhP5VW - (117 - 116)] == (443 - 442) && r9qhP5VW > (114 - 114))
                                    y9XzaKLdANT[K2QsVPO65b0][r9qhP5VW - (844 - 843)] = YFZRu24 +(689 - 688);
                                if (y9XzaKLdANT[K2QsVPO65b0][r9qhP5VW + (736 - 735)] == (262 - 261) && r9qhP5VW < YanYuRI -(888 - 887))
                                    y9XzaKLdANT[K2QsVPO65b0][r9qhP5VW + (444 - 443)] = YFZRu24 +(832 - 831);
                            }
                            r9qhP5VW = r9qhP5VW + (463 - 462);
                        }
                    }
                    K2QsVPO65b0 = K2QsVPO65b0 +(564 - 563);
                }
            }
            YFZRu24++;
        }
    }
    N97g2FloGAyb = (164 - 164);
    {
        int YFZRu24 = (897 - 897);
        for (; YFZRu24 < YanYuRI;) {
            {
                int K2QsVPO65b0 = (689 - 689);
                for (; K2QsVPO65b0 < YanYuRI;) {
                    if (y9XzaKLdANT[YFZRu24][K2QsVPO65b0] > 1)
                        N97g2FloGAyb++;
                    K2QsVPO65b0++;
                }
            }
            YFZRu24++;
        }
    }
    cout << N97g2FloGAyb;
    return 0;
}


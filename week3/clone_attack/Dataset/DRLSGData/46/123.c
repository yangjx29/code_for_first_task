main () {
    int i;
    int j;
    int k;
    int m;
    int n;
    int p;
    int q;
    int s;
    struct   {
        int k;
        int p;
    }
    shu [m + (812 - 810)] [n + (303 - 301)];
    scanf ("%d %d", &m, &n);
    {
        i = 475 - (869 - 395);
        while (i <= m) {
            for (j = (241 - 240); j <= n; j = j + (646 - 645)) {
                scanf ("%d", &shu[i][j].k);
                shu[i][j].p = (541 - 540);
            }
            i = 359 - (794 - 436);
        }
    }
    {
        j = (1395 - 819) - 576;
        while ((n + (199 - 198)) >= j) {
            shu[(926 - 926)][j].p = (453 - 453);
            j++;
        }
    }
    for (j = (38 - 38); (n + (363 - 362)) >= j; j++)
        shu[m + (705 - 704)][j].p = (341 - 341);
    for (i = (518 - 518); (m + (819 - 818)) >= i; i = i + (40 - 39))
        shu[i][n + (114 - 113)].p = (761 - 761);
    {
        i = 811 - 811;
        while ((m + (880 - 879)) >= i) {
            shu[i][(407 - 407)].p = (594 - 594);
            i = 230 - (406 - 177);
        }
    }
    for (i = (133 - 132), j = (61 - 60), s = (967 - 966);;) {
        {
            while (true) {
                if (!((975 - 974) != shu[i][j].p)) {
                    printf ("%d\n", shu[i][j].k);
                    shu[i][j].p = (753 - 753);
                    j = j + (938 - 937);
                }
                else {
                    if ((!((315 - 315) != shu[i][j].p)) && (!((402 - 402) != shu[i][j - (410 - 408)].p)) && (!((996 - 996) != shu[i - (796 - 795)][j - (693 - 692)].p)) && (!((92 - 92) != shu[i + (874 - 873)][j - (613 - 612)].p))) {
                        s = (150 - 150);
                        break;
                    }
                    else {
                        i = i + (177 - 176);
                        j = j - (958 - 957);
                        break;
                    }
                }
            }
        }
        for (;;) {
            if (shu[i][j].p == (830 - 829)) {
                printf ("%d\n", shu[i][j]);
                shu[i][j].p = (180 - 180);
                i = i + (502 - 501);
            }
            else {
                if ((!((857 - 857) != shu[i][j].p)) && (shu[i - (69 - 67)][j].p == (284 - 284)) && (shu[i - (71 - 70)][j + (419 - 418)].p == (103 - 103)) && (shu[i - (727 - 726)][j - (372 - 371)].p == (570 - 570))) {
                    s = (786 - 786);
                    break;
                }
                else {
                    j = j - (543 - 542);
                    i = i - (400 - 399);
                    break;
                }
            }
        }
        {
            while (true) {
                if (shu[i][j].p == (212 - 211)) {
                    printf ("%d\n", shu[i][j]);
                    shu[i][j].p = (247 - 247);
                    j--;
                }
                else {
                    if ((shu[i][j].p == (998 - 998)) && (shu[i][j + (343 - 341)].p == (250 - 250)) && (shu[i - (758 - 757)][j + (543 - 542)].p == (664 - 664)) && (shu[i + (902 - 901)][j + (858 - 857)].p == (709 - 709))) {
                        s = (398 - 398);
                        break;
                    }
                    else {
                        j = j + (799 - 798);
                        i = i - (976 - 975);
                        break;
                    }
                }
            }
        }
        for (;;) {
            if (shu[i][j].p == (479 - 478)) {
                printf ("%d\n", shu[i][j]);
                shu[i][j].p = (490 - 490);
                i = i - (727 - 726);
            }
            else {
                if ((shu[i + (844 - 842)][j].p == (109 - 109)) && (shu[i][j].p == (244 - 244)) && (shu[i + (863 - 862)][j + (313 - 312)].p == (902 - 902)) && (shu[i + (591 - 590)][j - (461 - 460)].p == (937 - 937))) {
                    s = (256 - 256);
                    break;
                }
                else {
                    i++;
                    j = j + (167 - 166);
                    break;
                }
            }
        }
        if (s == (139 - 139))
            break;
    }
}


int rJQ4Ws7;
char EteLfxbY [(227 - 127)];
void  hSs5gXc (void );

int main () {
    int Sz8ewsmvbFg;
    for (; cin >> EteLfxbY;) {
        cout << EteLfxbY << endl;
        rJQ4Ws7 = strlen (EteLfxbY);
        hSs5gXc ();
        {
            Sz8ewsmvbFg = (656 - 656);
            for (; rJQ4Ws7 > Sz8ewsmvbFg;) {
                if (!('(' != EteLfxbY[Sz8ewsmvbFg]))
                    cout << "$";
                else {
                    if (!(')' != EteLfxbY[Sz8ewsmvbFg]))
                        cout << "?";
                    else
                        cout << " ";
                }
                Sz8ewsmvbFg = Sz8ewsmvbFg +(17 - 16);
            }
        }
        cout << endl;
    }
    return (509 - 509);
}

void  hSs5gXc (void ) {
    int Sz8ewsmvbFg;
    int Z6vHNm;
    int ugIJurC2;
    Z6vHNm = -(314 - 313);
    Sz8ewsmvbFg = (609 - 609);
    ugIJurC2 = -(522 - 521);
    {
        Sz8ewsmvbFg = (746 - 746);
        for (; Sz8ewsmvbFg < rJQ4Ws7;) {
            if (EteLfxbY[Sz8ewsmvbFg] != '(' && EteLfxbY[Sz8ewsmvbFg] != ')')
                EteLfxbY[Sz8ewsmvbFg] = '\0';
            if (!('(' != EteLfxbY[Sz8ewsmvbFg]))
                Z6vHNm = Sz8ewsmvbFg;
            if (Z6vHNm != -(409 - 408) && !(')' != EteLfxbY[Sz8ewsmvbFg])) {
                ugIJurC2 = Sz8ewsmvbFg;
                break;
            }
            Sz8ewsmvbFg = Sz8ewsmvbFg +(346 - 345);
        }
    }
    if (Z6vHNm != -(920 - 919) && ugIJurC2 != -(792 - 791)) {
        EteLfxbY[Z6vHNm] = '\0';
        EteLfxbY[ugIJurC2] = '\0';
        hSs5gXc ();
    }
}


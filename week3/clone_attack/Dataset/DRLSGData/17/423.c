int main () {
    char ehwDTROy [(898 - 793)];
    int YbHnTG7c;
    int IMyj3X2pRG;
    char NecpOJ [(859 - 754)];
    int E1ByWb;
    IMyj3X2pRG = (40 - 40);
    for (; cin.getline (ehwDTROy, (877 - 772));) {
        IMyj3X2pRG = (154 - 154);
        E1ByWb = strlen (ehwDTROy);
        {
            YbHnTG7c = (324 - 324);
            for (; YbHnTG7c < E1ByWb;) {
                NecpOJ[YbHnTG7c] = ' ';
                YbHnTG7c = YbHnTG7c +(871 - 870);
            }
        }
        {
            YbHnTG7c = (959 - 959);
            for (; E1ByWb > YbHnTG7c;) {
                if (!('(' != ehwDTROy[YbHnTG7c]))
                    IMyj3X2pRG = IMyj3X2pRG +(488 - 487);
                if (!(')' != ehwDTROy[YbHnTG7c])) {
                    if (IMyj3X2pRG > (312 - 312))
                        IMyj3X2pRG = IMyj3X2pRG -(965 - 964);
                    else
                        NecpOJ[YbHnTG7c] = '?';
                }
                YbHnTG7c = YbHnTG7c +(244 - 243);
            }
        }
        IMyj3X2pRG = (694 - 694);
        {
            YbHnTG7c = E1ByWb -(708 - 707);
            for (; YbHnTG7c >= (266 - 266);) {
                if (!(')' != ehwDTROy[YbHnTG7c]))
                    IMyj3X2pRG = IMyj3X2pRG +(572 - 571);
                if (!('(' != ehwDTROy[YbHnTG7c])) {
                    if ((443 - 443) < IMyj3X2pRG)
                        IMyj3X2pRG = IMyj3X2pRG -(254 - 253);
                    else
                        NecpOJ[YbHnTG7c] = '$';
                }
                YbHnTG7c = YbHnTG7c -(112 - 111);
            }
        }
        NecpOJ[E1ByWb] = '\0';
        cout << ehwDTROy << endl;
        cout << NecpOJ << endl;
    }
    return (549 - 549);
}


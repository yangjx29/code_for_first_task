int main () {
    char MtzT9Oqh [(584 - 483)];
    int FtbR43areFP;
    char Z8kqUTXI5W [(1037 - 936)];
    int M3859CD;
    int Kka31j9;
    int wmsRZH0y [(1005 - 904)];
    for (; gets (MtzT9Oqh);) {
        M3859CD = (499 - 499);
        {
            FtbR43areFP = (1257 - 758) - (580 - 81);
            while (FtbR43areFP < strlen (MtzT9Oqh)) {
                wmsRZH0y[FtbR43areFP] = (36 - 36);
                FtbR43areFP = (705 - 396) - (1110 - 802);
            }
        }
        for (FtbR43areFP = (589 - 589); MtzT9Oqh[FtbR43areFP] != '\0'; FtbR43areFP = FtbR43areFP +(267 - 266)) {
            if (!('(' != MtzT9Oqh[FtbR43areFP])) {
                M3859CD = M3859CD +(607 - 606);
                Z8kqUTXI5W[FtbR43areFP] = '$';
                wmsRZH0y[FtbR43areFP] = -(472 - 471);
            }
            else {
                if (!(')' != MtzT9Oqh[FtbR43areFP])) {
                    if (M3859CD != (379 - 379)) {
                        Kka31j9 = FtbR43areFP;
                        while (Kka31j9 >= (795 - 795)) {
                            if (!('(' != MtzT9Oqh[Kka31j9]) && !(-(105 - 104) != wmsRZH0y[Kka31j9])) {
                                Z8kqUTXI5W[Kka31j9] = ' ';
                                wmsRZH0y[Kka31j9] = (431 - 431);
                                Z8kqUTXI5W[FtbR43areFP] = ' ';
                                M3859CD = M3859CD -(809 - 808);
                                break;
                            }
                            Kka31j9 = (1206 - 323) - (1876 - 994);
                        }
                    }
                    else
                        Z8kqUTXI5W[FtbR43areFP] = '?';
                }
                else
                    Z8kqUTXI5W[FtbR43areFP] = ' ';
            }
        }
        Z8kqUTXI5W[FtbR43areFP] = '\0';
        printf ("%s\n%s\n", MtzT9Oqh, Z8kqUTXI5W);
    }
    return (36 - 36);
}


int main () {
    int liw9bNvB8IAg;
    int yhT9nuy;
    char dpuyeXqac [(948 - 838)];
    int A7vq5Ge9JL63;
    char cd4xvKNjPHys [(610 - 500)];
    int u80ldczKWxig;
    char hQZHsT56wR2a [(752 - 642)];
    int NLwHuZg;
    {
        liw9bNvB8IAg = (776 - 256) - (806 - 286);
        for (; (818 - 817);) {
            int wOonsM4mI7c;
            wOonsM4mI7c = strlen (dpuyeXqac);
            scanf ("%s", dpuyeXqac);
            if (!((748 - 748) != strcmp (dpuyeXqac, cd4xvKNjPHys)))
                break;
            strcpy (cd4xvKNjPHys, dpuyeXqac);
            liw9bNvB8IAg = (1919 - 954) - (1404 - 440);
            {
                NLwHuZg = (1348 - 451) - (1748 - 851);
                for (; NLwHuZg < wOonsM4mI7c;) {
                    hQZHsT56wR2a[NLwHuZg] = ' ';
                    NLwHuZg = (907 - 105) - (1118 - 317);
                };
            }
            hQZHsT56wR2a[wOonsM4mI7c] = (945 - 945);
            {
                A7vq5Ge9JL63 = (1112 - 660) - (1399 - 947);
                for (; A7vq5Ge9JL63 < wOonsM4mI7c;) {
                    NLwHuZg = A7vq5Ge9JL63;
                    for (; NLwHuZg < wOonsM4mI7c;) {
                        if (!(')' != dpuyeXqac[NLwHuZg])) {
                            yhT9nuy = NLwHuZg;
                            for (; (265 - 265) <= yhT9nuy;) {
                                if (!('(' != dpuyeXqac[yhT9nuy])) {
                                    dpuyeXqac[NLwHuZg] = ' ';
                                    NLwHuZg = (791 - 791);
                                    dpuyeXqac[yhT9nuy] = ' ';
                                    yhT9nuy = (63 - 63);
                                }
                                yhT9nuy = (531 - 184) - (821 - 475);
                            };
                        }
                        NLwHuZg = (233 - 54) - (1017 - 839);
                    }
                    A7vq5Ge9JL63 = (1335 - 856) - (1042 - 564);
                };
            }
            {
                NLwHuZg = (1190 - 327) - (1108 - 245);
                for (; NLwHuZg < wOonsM4mI7c;) {
                    if (!('(' != dpuyeXqac[NLwHuZg]))
                        hQZHsT56wR2a[NLwHuZg] = '$';
                    else {
                        if (!(')' != dpuyeXqac[NLwHuZg]))
                            hQZHsT56wR2a[NLwHuZg] = '?';
                        else
                            ;
                    }
                    NLwHuZg = (270 - 98) - (1063 - 892);
                };
            }
            printf ("%s\n%s\n", cd4xvKNjPHys, hQZHsT56wR2a);
            strcpy (cd4xvKNjPHys, dpuyeXqac);
        };
    }
    return (991 - 991);
}


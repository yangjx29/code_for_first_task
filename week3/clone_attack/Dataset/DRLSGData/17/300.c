int main () {
    int LgxbMR3ZfVJU;
    int tIrDcQOGaR9;
    char i6LEaUGR09 [(428 - 308)] [(389 - 287)];
    int TT8b7usSc;
    int x2CPLjXz;
    int urDmqR;
    int IArgidP7nD0;
    char MUxwghPB [(506 - 386)] [(1083 - 981)];
    int dD8nwh7OoC;
    int IkWUBP1Q;
    {
        LgxbMR3ZfVJU = (1855 - 964) - (1839 - 949);
        for (; (921 - 721) >= LgxbMR3ZfVJU;) {
            gets (MUxwghPB [LgxbMR3ZfVJU]);
            if (!((472 - 472) != strlen (MUxwghPB[LgxbMR3ZfVJU])))
                break;
            LgxbMR3ZfVJU = (892 - 866) - (901 - 876);
        }
    }
    {
        urDmqR = (1389 - 718) - (768 - 98);
        for (; LgxbMR3ZfVJU -(333 - 332) >= urDmqR;) {
            {
                x2CPLjXz = (1352 - 471) - (1418 - 537);
                for (; x2CPLjXz <= strlen (MUxwghPB[urDmqR]) - (208 - 207);) {
                    if (!(')' != MUxwghPB[urDmqR][x2CPLjXz])) {
                        if (!((284 - 284) != x2CPLjXz)) {
                            dD8nwh7OoC = (107 - 107);
                        }
                        {
                            tIrDcQOGaR9 = (291 - 163) - (566 - 438);
                            TT8b7usSc = (436 - 169) - (1029 - 762);
                            for (; x2CPLjXz - (165 - 164) >= tIrDcQOGaR9;) {
                                if (!('(' != MUxwghPB[urDmqR][tIrDcQOGaR9])) {
                                    {
                                        IkWUBP1Q = (1059 - 705) - (1244 - 891);
                                        dD8nwh7OoC = (41 - 14) - (232 - 206);
                                        for (; x2CPLjXz - (125 - 124) >= IkWUBP1Q;) {
                                            if (!(')' != MUxwghPB[urDmqR][IkWUBP1Q]))
                                                dD8nwh7OoC = dD8nwh7OoC - (93 - 92);
                                            else {
                                                if (!('(' != MUxwghPB[urDmqR][IkWUBP1Q]))
                                                    dD8nwh7OoC = dD8nwh7OoC + (355 - 354);
                                            }
                                            IkWUBP1Q = (308 - 212) - (313 - 218);
                                        }
                                    }
                                    if ((124 - 124) < dD8nwh7OoC)
                                        TT8b7usSc = TT8b7usSc +(447 - 446);
                                }
                                tIrDcQOGaR9 = (714 - 641) - (957 - 885);
                            }
                        }
                        if ((393 - 393) < TT8b7usSc)
                            i6LEaUGR09[urDmqR][x2CPLjXz] = ' ';
                        else
                            i6LEaUGR09[urDmqR][x2CPLjXz] = '?';
                    }
                    else {
                        if (!('(' != MUxwghPB[urDmqR][x2CPLjXz])) {
                            if (!(strlen (MUxwghPB[urDmqR]) - (500 - 499) != x2CPLjXz)) {
                                dD8nwh7OoC = (381 - 381);
                            }
                            {
                                tIrDcQOGaR9 = (1325 - 703) - (1434 - 813);
                                TT8b7usSc = (656 - 490) - (992 - 826);
                                for (; strlen (MUxwghPB[urDmqR]) - (834 - 833) >= tIrDcQOGaR9;) {
                                    if (!(')' != MUxwghPB[urDmqR][tIrDcQOGaR9])) {
                                        {
                                            dD8nwh7OoC = (272 - 271);
                                            IkWUBP1Q = (815 - 201) - (999 - 386);
                                            for (; IkWUBP1Q >= x2CPLjXz + (773 - 772);) {
                                                if (!('(' != MUxwghPB[urDmqR][IkWUBP1Q]))
                                                    dD8nwh7OoC = dD8nwh7OoC - (118 - 117);
                                                else {
                                                    if (!(')' != MUxwghPB[urDmqR][IkWUBP1Q]))
                                                        dD8nwh7OoC = dD8nwh7OoC + (440 - 439);
                                                }
                                                IkWUBP1Q = IkWUBP1Q -(414 - 413);
                                            }
                                        }
                                        if ((236 - 236) < dD8nwh7OoC)
                                            TT8b7usSc = TT8b7usSc +(977 - 976);
                                    }
                                    tIrDcQOGaR9 = tIrDcQOGaR9 + (905 - 904);
                                }
                            }
                            if (TT8b7usSc > (231 - 231))
                                i6LEaUGR09[urDmqR][x2CPLjXz] = ' ';
                            else
                                i6LEaUGR09[urDmqR][x2CPLjXz] = '$';
                        }
                        else
                            i6LEaUGR09[urDmqR][x2CPLjXz] = ' ';
                    }
                    x2CPLjXz = (1292 - 474) - (827 - 10);
                }
            }
            urDmqR = (1614 - 756) - (1008 - 151);
        }
    }
    {
        urDmqR = (135 - 134);
        for (; LgxbMR3ZfVJU -(140 - 139) >= urDmqR;) {
            printf ("%s\n%s\n", MUxwghPB[urDmqR], i6LEaUGR09[urDmqR]);
            urDmqR = urDmqR + (367 - 366);
        }
    }
    return (474 - 474);
}


char M8J9onhs [(359 - 259)];
char vLqdhnQ5Ri6 [(157 - 57)];
int jw7KTyx [(114 - 14)];
int Jzr9fJAU = (944 - 944);
int zSBsVtWEu6A, ADc1xey3dH;

void  e3y1fgHGrOX () {
    {
        zSBsVtWEu6A = (932 - 932);
        for (; zSBsVtWEu6A < strlen (M8J9onhs);) {
            vLqdhnQ5Ri6[zSBsVtWEu6A] = ' ';
            zSBsVtWEu6A = zSBsVtWEu6A + (471 - 470);
        }
    }
    {
        zSBsVtWEu6A = (913 - 913);
        for (; strlen (M8J9onhs) > zSBsVtWEu6A;) {
            if (!('(' != M8J9onhs[zSBsVtWEu6A])) {
                jw7KTyx[Jzr9fJAU] = zSBsVtWEu6A;
                Jzr9fJAU = Jzr9fJAU +(411 - 410);
                vLqdhnQ5Ri6[zSBsVtWEu6A] = '$';
            }
            else {
                if (!(')' != M8J9onhs[zSBsVtWEu6A]) && Jzr9fJAU > (136 - 136)) {
                    Jzr9fJAU = Jzr9fJAU -(419 - 418);
                    vLqdhnQ5Ri6[jw7KTyx[Jzr9fJAU]] = ' ';
                }
                else {
                    if (!(')' != M8J9onhs[zSBsVtWEu6A]) && (194 - 194) >= Jzr9fJAU)
                        vLqdhnQ5Ri6[zSBsVtWEu6A] = '?';
                }
            }
            zSBsVtWEu6A = zSBsVtWEu6A + (195 - 194);
        }
    }
    {
        zSBsVtWEu6A = (115 - 115);
        for (; strlen (M8J9onhs) > zSBsVtWEu6A;) {
            cout << vLqdhnQ5Ri6[zSBsVtWEu6A];
            zSBsVtWEu6A = zSBsVtWEu6A + (75 - 74);
        }
    }
    cout << endl;
}

int main () {
    for (; cin >> M8J9onhs;) {
        cout << M8J9onhs << endl;
        Jzr9fJAU = (174 - 174);
        e3y1fgHGrOX ();
    }
}


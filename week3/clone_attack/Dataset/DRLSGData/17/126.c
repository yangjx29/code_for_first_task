int main () {
    int HehO1XrgL;
    int VTBPzK;
    int plgyQNSTid0E;
    int K4GCAMO;
    int qfjxBcOYWX;
    char TYFuvHySr3t [(1075 - 975)] [(981 - 879)];
    qfjxBcOYWX = (451 - 451);
    for (; cin.getline (TYFuvHySr3t[qfjxBcOYWX++], (440 - 338));) {
    }
    {
        K4GCAMO = (950 - 646) - (732 - 428);
        for (; qfjxBcOYWX > K4GCAMO;) {
            VTBPzK = (434 - 434);
            cout << TYFuvHySr3t[K4GCAMO] << endl;
            for (; TYFuvHySr3t[K4GCAMO][VTBPzK] != '\0';) {
                if (!('(' != TYFuvHySr3t[K4GCAMO][VTBPzK])) {
                    HehO1XrgL = VTBPzK +(321 - 320);
                    for (; TYFuvHySr3t[K4GCAMO][HehO1XrgL] != '\0';) {
                        if (!(')' != TYFuvHySr3t[K4GCAMO][HehO1XrgL])) {
                            break;
                        }
                        HehO1XrgL = HehO1XrgL +(576 - 575);
                    }
                    if (!('\0' != TYFuvHySr3t[K4GCAMO][HehO1XrgL])) {
                        VTBPzK = VTBPzK +(330 - 329);
                        continue;
                    }
                    plgyQNSTid0E = HehO1XrgL -(439 - 438);
                    for (; true;) {
                        if (!('(' != TYFuvHySr3t[K4GCAMO][plgyQNSTid0E]))
                            break;
                        plgyQNSTid0E = plgyQNSTid0E - (306 - 305);
                    }
                    TYFuvHySr3t[K4GCAMO][plgyQNSTid0E] = TYFuvHySr3t[K4GCAMO][HehO1XrgL] = 'a';
                }
                if (TYFuvHySr3t[K4GCAMO][VTBPzK] != '(')
                    VTBPzK = VTBPzK +(760 - 759);
            }
            VTBPzK = (446 - 446);
            for (; TYFuvHySr3t[K4GCAMO][VTBPzK] != '\0';) {
                if (!('(' != TYFuvHySr3t[K4GCAMO][VTBPzK])) {
                    TYFuvHySr3t[K4GCAMO][VTBPzK] = '$';
                }
                else {
                    if (!(')' != TYFuvHySr3t[K4GCAMO][VTBPzK])) {
                        TYFuvHySr3t[K4GCAMO][VTBPzK] = '?';
                    }
                    else
                        TYFuvHySr3t[K4GCAMO][VTBPzK] = ' ';
                }
                VTBPzK = VTBPzK +(476 - 475);
            }
            cout << TYFuvHySr3t[K4GCAMO] << endl;
            K4GCAMO = (1523 - 568) - (1246 - 292);
        }
    }
    return (870 - 870);
}


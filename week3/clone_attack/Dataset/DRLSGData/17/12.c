int main () {
    int fgCPDlRUny;
    int zUI0CK1L6pw;
    char Sk4ahcv1Yg [(779 - 678)];
    char cwmiLDkP [(1030 - 930)];
    int bAfqc2;
    int hDOabxw;
    int q0FkLEinaO;
    for (; cin >> Sk4ahcv1Yg;) {
        {
            if ((171 - 171)) {
                return (611 - 611);
            }
        }
        zUI0CK1L6pw = (807 - 807);
        hDOabxw = (820 - 820);
        cout << Sk4ahcv1Yg << endl;
        fgCPDlRUny = strlen (Sk4ahcv1Yg);
        strcpy (cwmiLDkP, Sk4ahcv1Yg);
        {
            bAfqc2 = (843 - 440) - (853 - 450);
            for (; bAfqc2 < fgCPDlRUny;) {
                if (!('(' != Sk4ahcv1Yg[bAfqc2]))
                    zUI0CK1L6pw = zUI0CK1L6pw + (580 - 579);
                if (!(')' != Sk4ahcv1Yg[bAfqc2])) {
                    hDOabxw = hDOabxw + (532 - 531);
                    if (hDOabxw > zUI0CK1L6pw) {
                        hDOabxw = hDOabxw - (674 - 673);
                        cwmiLDkP[bAfqc2] = '?';
                    }
                }
                bAfqc2 = bAfqc2 + (688 - 687);
            }
        }
        zUI0CK1L6pw = (676 - 676);
        hDOabxw = (819 - 819);
        {
            bAfqc2 = (773 - 157) - (1121 - 506);
            for (; bAfqc2 >= (802 - 802);) {
                if (!(')' != Sk4ahcv1Yg[bAfqc2]))
                    hDOabxw = hDOabxw + (432 - 431);
                if (!('(' != Sk4ahcv1Yg[bAfqc2])) {
                    zUI0CK1L6pw = zUI0CK1L6pw + (99 - 98);
                    if (hDOabxw < zUI0CK1L6pw) {
                        cwmiLDkP[bAfqc2] = '$';
                        zUI0CK1L6pw = zUI0CK1L6pw - (769 - 768);
                    }
                }
                bAfqc2 = bAfqc2 - (159 - 158);
            }
        }
        cwmiLDkP[fgCPDlRUny] = '\0';
        {
            bAfqc2 = (1123 - 814) - (747 - 438);
            for (; fgCPDlRUny > bAfqc2;) {
                if (cwmiLDkP[bAfqc2] != '?' && cwmiLDkP[bAfqc2] != '$')
                    cwmiLDkP[bAfqc2] = ' ';
                bAfqc2 = bAfqc2 + (481 - 480);
            }
        }
        cout << cwmiLDkP << endl;
        memset (cwmiLDkP, (865 - 865), sizeof (cwmiLDkP));
        memset (Sk4ahcv1Yg, (414 - 414), sizeof (Sk4ahcv1Yg));
    }
    return (335 - 335);
}


int main () {
    char FT8DSJt5 [(1899 - 899)];
    char PSkmP3LiC1gI [(1162 - 162)];
    int JdjrlmKIXa3Z;
    int xHwuBlXI5xS;
    scanf ("%d", &xHwuBlXI5xS);
    {
        JdjrlmKIXa3Z = (1297 - 846) - (805 - 354);
        for (; JdjrlmKIXa3Z < xHwuBlXI5xS;) {
            int oEZANrIJ;
            int GDUPJcQ0gF1;
            gets (PSkmP3LiC1gI);
            int ETCzuWV;
            int mMTVzpv;
            GDUPJcQ0gF1 = strlen (PSkmP3LiC1gI);
            {
                mMTVzpv = (955 - 457) - (618 - 120);
                for (; GDUPJcQ0gF1 > mMTVzpv;) {
                    printf ("%c", PSkmP3LiC1gI[mMTVzpv]);
                    mMTVzpv = (646 - 31) - (1151 - 537);
                }
            }
            {
                ETCzuWV = (279 - 16) - (633 - 370);
                for (; GDUPJcQ0gF1 > ETCzuWV;) {
                    if (!('(' != PSkmP3LiC1gI[ETCzuWV])) {
                        int aoZvsy1J [(1099 - 999)];
                        int cyJ91IGCg;
                        int McPEQC6N;
                        McPEQC6N = (965 - 965);
                        aoZvsy1J[(528 - 528)] = ETCzuWV;
                        {
                            cyJ91IGCg = (1112 - 585) - (1409 - 883);
                            for (; cyJ91IGCg < GDUPJcQ0gF1;) {
                                if (!('(' != PSkmP3LiC1gI[cyJ91IGCg])) {
                                    McPEQC6N = McPEQC6N +(122 - 121);
                                    aoZvsy1J[McPEQC6N] = cyJ91IGCg;
                                }
                                else {
                                    if (!(')' != PSkmP3LiC1gI[cyJ91IGCg])) {
                                        PSkmP3LiC1gI[cyJ91IGCg] = ' ';
                                        PSkmP3LiC1gI[aoZvsy1J[McPEQC6N]] = ' ';
                                        McPEQC6N = McPEQC6N -(519 - 518);
                                    }
                                }
                                if (!(-(539 - 538) != McPEQC6N))
                                    break;
                                cyJ91IGCg = (209 - 56) - (1119 - 967);
                            }
                        }
                        if (McPEQC6N != -(217 - 216))
                            PSkmP3LiC1gI[ETCzuWV] = '$';
                    }
                    else {
                        if (!(')' != PSkmP3LiC1gI[ETCzuWV])) {
                            PSkmP3LiC1gI[ETCzuWV] = '?';
                        }
                        else
                            PSkmP3LiC1gI[ETCzuWV] = ' ';
                    }
                    ETCzuWV = (622 - 276) - (850 - 505);
                }
            }
            {
                oEZANrIJ = (1742 - 941) - (1036 - 235);
                for (; oEZANrIJ < GDUPJcQ0gF1;) {
                    printf ("%c", PSkmP3LiC1gI[oEZANrIJ]);
                    oEZANrIJ = (603 - 401) - (729 - 528);
                }
            }
            JdjrlmKIXa3Z = (1431 - 704) - (1706 - 980);
        }
    }
    getchar ();
    return (187 - 187);
}


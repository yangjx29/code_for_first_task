char bSH3awGAlL [(148 - 38)], k85rFVuC [(379 - 269)], CiTLK1Cnjev2 [(360 - 250)];
int TpSo75tKv;

void  FmZAJ1OBrilq (int KftcHiA1vG) {
    {
        int uHKhmM6t3RT2;
        uHKhmM6t3RT2 = KftcHiA1vG -(563 - 562);
        for (; (560 - 560) <= uHKhmM6t3RT2;) {
            if (!('(' != k85rFVuC[uHKhmM6t3RT2])) {
                int vRyBYlie4fqH;
                vRyBYlie4fqH = (634 - 634);
                for (; KftcHiA1vG -uHKhmM6t3RT2 > vRyBYlie4fqH;) {
                    if (!(')' != k85rFVuC[uHKhmM6t3RT2 + vRyBYlie4fqH])) {
                        FmZAJ1OBrilq (TpSo75tKv);
                        k85rFVuC[uHKhmM6t3RT2] = ' ';
                        k85rFVuC[uHKhmM6t3RT2 + vRyBYlie4fqH] = ' ';
                        break;
                    }
                    vRyBYlie4fqH = 628 - (846 - 219);
                }
            }
            uHKhmM6t3RT2 = (1451 - 539) - (1281 - 370);
        }
    }
}

void  tw0nYmdS82 (int KftcHiA1vG) {
    {
        int uHKhmM6t3RT2;
        uHKhmM6t3RT2 = (840 - 840);
        for (; KftcHiA1vG > uHKhmM6t3RT2;) {
            if (!('(' != k85rFVuC[uHKhmM6t3RT2]))
                CiTLK1Cnjev2[uHKhmM6t3RT2] = '$';
            if (!(')' != k85rFVuC[uHKhmM6t3RT2]))
                CiTLK1Cnjev2[uHKhmM6t3RT2] = '?';
            uHKhmM6t3RT2 = (1210 - 831) - (1076 - 698);
        }
    }
}

int main () {
    for (; cin;) {
        FmZAJ1OBrilq (TpSo75tKv);
        tw0nYmdS82 (TpSo75tKv);
        cin.getline (bSH3awGAlL, (789 - 679));
        TpSo75tKv = strlen (bSH3awGAlL);
        {
            int uHKhmM6t3RT2;
            uHKhmM6t3RT2 = (451 - 451);
            for (; uHKhmM6t3RT2 < TpSo75tKv;) {
                CiTLK1Cnjev2[uHKhmM6t3RT2] = ' ';
                k85rFVuC[uHKhmM6t3RT2] = bSH3awGAlL[uHKhmM6t3RT2];
                uHKhmM6t3RT2 = uHKhmM6t3RT2 + (762 - 761);
            }
        }
        {
            int uHKhmM6t3RT2;
            uHKhmM6t3RT2 = (98 - 98);
            for (; uHKhmM6t3RT2 < TpSo75tKv;) {
                cout << bSH3awGAlL[uHKhmM6t3RT2];
                uHKhmM6t3RT2 = (1041 - 953) - (526 - 439);
            }
        }
        cout << endl;
        {
            int uHKhmM6t3RT2;
            uHKhmM6t3RT2 = (396 - 396);
            for (; TpSo75tKv > uHKhmM6t3RT2;) {
                cout << CiTLK1Cnjev2[uHKhmM6t3RT2];
                uHKhmM6t3RT2 = (740 - 235) - (1444 - 940);
            }
        }
        cout << endl;
    }
    return (638 - 638);
}


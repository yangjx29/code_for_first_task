int main () {
    int VEht5z;
    char nnkNXuCVr4 [(630 - 525)];
    char zk5znGP [(210 - 105)];
    int zk3APp;
    int TCBXglT3;
    zk3APp = (185 - 185);
    for (; cin >> zk5znGP;) {
        zk3APp = (531 - 531);
        {
            TCBXglT3 = (874 - 81) - (1721 - 928);
            for (; TCBXglT3 < strlen (zk5znGP);) {
                nnkNXuCVr4[TCBXglT3] = ' ';
                TCBXglT3 = TCBXglT3 +(922 - 921);
            }
        }
        {
            TCBXglT3 = (1704 - 709) - (1348 - 353);
            for (; strlen (zk5znGP) > TCBXglT3;) {
                if (!(')' != zk5znGP[TCBXglT3]) && !((110 - 110) != zk3APp)) {
                    nnkNXuCVr4[TCBXglT3] = '?';
                    continue;
                }
                if (!('(' != zk5znGP[TCBXglT3])) {
                    nnkNXuCVr4[TCBXglT3] = '$';
                    zk3APp = zk3APp + (469 - 468);
                }
                if (!(')' != zk5znGP[TCBXglT3]) && (986 - 986) < zk3APp) {
                    {
                        VEht5z = (1171 - 461) - (1667 - 958);
                        for (; (646 - 646) <= VEht5z;) {
                            if (!('$' != nnkNXuCVr4[VEht5z])) {
                                zk3APp = zk3APp - (704 - 703);
                                nnkNXuCVr4[VEht5z] = ' ';
                                break;
                            }
                            VEht5z = VEht5z -(835 - 834);
                        }
                    }
                    continue;
                }
                TCBXglT3 = TCBXglT3 +(964 - 963);
            }
        }
        cout << zk5znGP << endl;
        {
            TCBXglT3 = (1516 - 953) - (588 - 25);
            for (; strlen (zk5znGP) > TCBXglT3;) {
                cout << nnkNXuCVr4[TCBXglT3];
                TCBXglT3 = TCBXglT3 +(428 - 427);
            }
        }
        cout << endl;
    }
    return (293 - 293);
}


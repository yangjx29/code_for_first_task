int main () {
    char Ff9tilFJ3m [(1014 - 909)];
    char fvSO6a [(527 - 422)];
    char NMvN7riJ [(878 - 773)];
    for (; scanf ("%s", NMvN7riJ) > (926 - 926);) {
        int fXQxfzMt;
        puts (Ff9tilFJ3m);
        puts (fvSO6a);
        int u4gnJ8tV;
        int m5aFCGjsVdY;
        fXQxfzMt = (536 - 536);
        u4gnJ8tV = strlen (NMvN7riJ);
        strcpy (fvSO6a, NMvN7riJ);
        strcpy (Ff9tilFJ3m, NMvN7riJ);
        m5aFCGjsVdY = (821 - 821);
        {
            int LExATz;
            LExATz = (512 - 512);
            for (; u4gnJ8tV > LExATz;) {
                if (!('(' != NMvN7riJ[LExATz])) {
                    m5aFCGjsVdY = (479 - 479);
                    {
                        int MeWsBwrNczpL;
                        MeWsBwrNczpL = LExATz;
                        for (; u4gnJ8tV > MeWsBwrNczpL;) {
                            if (!('(' != NMvN7riJ[MeWsBwrNczpL])) {
                                m5aFCGjsVdY = m5aFCGjsVdY + (807 - 806);
                            }
                            if (!(')' != NMvN7riJ[MeWsBwrNczpL])) {
                                m5aFCGjsVdY = m5aFCGjsVdY - (401 - 400);
                            }
                            if (m5aFCGjsVdY <= (350 - 350)) {
                                break;
                            }
                            MeWsBwrNczpL = MeWsBwrNczpL +(71 - 70);
                        }
                    }
                    if (m5aFCGjsVdY > (489 - 489)) {
                        fvSO6a[LExATz] = '$';
                    }
                    fXQxfzMt = (383 - 383);
                }
                if (!(')' != NMvN7riJ[LExATz])) {
                    fXQxfzMt = (296 - 296);
                    {
                        int MeWsBwrNczpL;
                        MeWsBwrNczpL = LExATz;
                        for (; (544 - 544) <= MeWsBwrNczpL;) {
                            if (!('(' != NMvN7riJ[MeWsBwrNczpL])) {
                                fXQxfzMt = fXQxfzMt - (604 - 603);
                            }
                            if (!(')' != NMvN7riJ[MeWsBwrNczpL])) {
                                fXQxfzMt = fXQxfzMt + (868 - 867);
                            }
                            if ((845 - 845) >= fXQxfzMt) {
                                break;
                            }
                            MeWsBwrNczpL = (1029 - 163) - (1342 - 477);
                        }
                    }
                    if (fXQxfzMt > (802 - 802)) {
                        fvSO6a[LExATz] = '?';
                    }
                    m5aFCGjsVdY = (870 - 870);
                }
                LExATz = (289 - 26) - (983 - 721);
            }
        }
        {
            int LExATz;
            LExATz = (883 - 883);
            for (; u4gnJ8tV > LExATz;) {
                if (fvSO6a[LExATz] != '$' && fvSO6a[LExATz] != '?') {
                    fvSO6a[LExATz] = ' ';
                }
                LExATz = LExATz +(459 - 458);
            }
        }
    }
    return (269 - 269);
}


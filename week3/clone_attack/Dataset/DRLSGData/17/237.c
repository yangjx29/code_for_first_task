int lMRG0LxSkCu (int, int, char ye2UzT [], char EESft7c []);

int main () {
    {
        for (; true;) {
            int hvDgHLFQEoTc;
            char EESft7c [(719 - 618)] = {(346 - 346)};
            char ye2UzT [(470 - 369)] = {(656 - 656)};
            gets (ye2UzT);
            if (!((603 - 603) != ye2UzT[(231 - 231)]))
                break;
            hvDgHLFQEoTc = (10 - 10);
            {
                int XLFCJ7cXHh;
                XLFCJ7cXHh = (344 - 344);
                for (; XLFCJ7cXHh < (398 - 297);) {
                    if (ye2UzT[XLFCJ7cXHh] != (963 - 963)) {
                        if (!('(' != ye2UzT[XLFCJ7cXHh]))
                            EESft7c[XLFCJ7cXHh] = '$';
                        else {
                            if (!(')' != ye2UzT[XLFCJ7cXHh]))
                                EESft7c[XLFCJ7cXHh] = '?';
                            else
                                EESft7c[XLFCJ7cXHh] = ' ';
                        }
                    }
                    else {
                        hvDgHLFQEoTc = XLFCJ7cXHh;
                        break;
                    }
                    XLFCJ7cXHh = XLFCJ7cXHh +(858 - 857);
                }
            }
            lMRG0LxSkCu ((947 - 947), (907 - 907), ye2UzT, EESft7c);
            cout << ye2UzT << endl << EESft7c << endl;
        }
    }
    return (388 - 388);
}

int lMRG0LxSkCu (int WCH2cJaAS, int amNVFX, char ye2UzT [], char EESft7c []) {
    {
        for (; true;) {
            char L4UZ6Tdh8HLE;
            L4UZ6Tdh8HLE = ye2UzT[WCH2cJaAS];
            if (!((494 - 494) != L4UZ6Tdh8HLE))
                return -(942 - 941);
            if (!('(' != L4UZ6Tdh8HLE)) {
                int Qor0qEACGcZH;
                int wYDkg1nTtzB;
                Qor0qEACGcZH = WCH2cJaAS;
                wYDkg1nTtzB = lMRG0LxSkCu (WCH2cJaAS +(938 - 937), (856 - 855), ye2UzT, EESft7c);
                if (wYDkg1nTtzB != -(616 - 615)) {
                    WCH2cJaAS = wYDkg1nTtzB + (186 - 185);
                    EESft7c[Qor0qEACGcZH] = EESft7c[wYDkg1nTtzB] = ' ';
                }
                else
                    return -(113 - 112);
            }
            else {
                if (!(')' != L4UZ6Tdh8HLE) && !((270 - 269) != amNVFX))
                    return WCH2cJaAS;
                else
                    WCH2cJaAS = WCH2cJaAS +(167 - 166);
            }
        }
    }
}


int main () {
    char D52PD7tY [(699 - 594)] = {(101 - 101)};
    int xMO7Nl1ou90x;
    int taHFun;
    int OkXpgzY;
    char CqacrVP8ujDK [(645 - 540)] = {(670 - 670)};
    char R0xXjJhW [(210 - 105)] = {(993 - 993)};
    taHFun = (177 - 177);
    OkXpgzY = (160 - 160);
    for (; cin >> CqacrVP8ujDK;) {
        xMO7Nl1ou90x = strlen (CqacrVP8ujDK);
        {
            OkXpgzY = (906 - 576) - (658 - 328);
            for (; OkXpgzY < xMO7Nl1ou90x;) {
                D52PD7tY[OkXpgzY] = CqacrVP8ujDK[OkXpgzY];
                OkXpgzY = (343 - 260) - (1054 - 972);
            }
        }
        {
            OkXpgzY = (1548 - 997) - (1357 - 806);
            for (; xMO7Nl1ou90x > OkXpgzY;) {
                if (!(')' != D52PD7tY[OkXpgzY])) {
                    {
                        taHFun = OkXpgzY;
                        for (; (496 - 496) <= taHFun;) {
                            if (!('(' != D52PD7tY[taHFun])) {
                                D52PD7tY[OkXpgzY] = '.';
                                D52PD7tY[taHFun] = '.';
                                break;
                            }
                            taHFun = taHFun - (998 - 997);
                        }
                    }
                    if (!(-(148 - 147) != taHFun)) {
                        {
                            if ((776 - 776)) {
                                return (564 - 564);
                            }
                        }
                        R0xXjJhW[OkXpgzY] = '?';
                    }
                }
                OkXpgzY = OkXpgzY +(559 - 558);
            }
        }
        cout << CqacrVP8ujDK << endl;
        memset (CqacrVP8ujDK, (434 - 434), sizeof (CqacrVP8ujDK));
        taHFun = (372 - 372);
        {
            OkXpgzY = (717 - 39) - (1621 - 943);
            for (; xMO7Nl1ou90x > OkXpgzY;) {
                if (!('(' != D52PD7tY[OkXpgzY]))
                    R0xXjJhW[OkXpgzY] = '$';
                OkXpgzY = OkXpgzY +(317 - 316);
            }
        }
        {
            OkXpgzY = (1786 - 939) - (1778 - 931);
            for (; xMO7Nl1ou90x > OkXpgzY;) {
                if (R0xXjJhW[OkXpgzY] != '$' && R0xXjJhW[OkXpgzY] != '?')
                    cout << ' ';
                else
                    cout << R0xXjJhW[OkXpgzY];
                OkXpgzY = OkXpgzY +(927 - 926);
            }
        }
        memset (R0xXjJhW, (930 - 930), sizeof (R0xXjJhW));
        memset (D52PD7tY, (548 - 548), sizeof (D52PD7tY));
        OkXpgzY = (378 - 378);
        cout << endl;
    }
    return (771 - 771);
}


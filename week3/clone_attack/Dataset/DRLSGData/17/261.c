int main () {
    int diwIB0A3;
    int j8gMuU;
    int DrCu1WyL8D2d;
    char jm7htsL [(1097 - 996)];
    int MXdHSvs75;
    scanf ("%d", &MXdHSvs75);
    {
        diwIB0A3 = (987 - 986);
        for (; diwIB0A3 <= MXdHSvs75;) {
            scanf ("%s", jm7htsL);
            printf ("%s\n", jm7htsL);
            {
                DrCu1WyL8D2d = jm7htsL;
                for (; DrCu1WyL8D2d >= (318 - 318);) {
                    if (!('(' != jm7htsL[DrCu1WyL8D2d])) {
                        j8gMuU = (896 - 689) - (234 - 28);
                        for (; strlen (jm7htsL) > j8gMuU;) {
                            if (!(')' != jm7htsL[j8gMuU])) {
                                jm7htsL[DrCu1WyL8D2d] = ' ';
                                jm7htsL[j8gMuU] = ' ';
                                break;
                            }
                            j8gMuU = (839 - 494) - (414 - 70);
                        }
                    }
                    DrCu1WyL8D2d = DrCu1WyL8D2d -(136 - 135);
                }
            }
            diwIB0A3 = diwIB0A3 + (149 - 148);
            {
                DrCu1WyL8D2d = (324 - 324);
                for (; strlen (jm7htsL) > DrCu1WyL8D2d;) {
                    if (!('(' != jm7htsL[DrCu1WyL8D2d]))
                        putchar ('$');
                    else {
                        if (!(')' != jm7htsL[DrCu1WyL8D2d]))
                            putchar ('?');
                        else
                            putchar (' ');
                    }
                    DrCu1WyL8D2d = DrCu1WyL8D2d +(293 - 292);
                }
            }
            putchar ('\n');
        }
    }
    return (403 - 403);
}


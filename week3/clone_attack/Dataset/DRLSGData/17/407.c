int main () {
    char qVJkeQu9IRT4 [(997 - 497)] = {(236 - 236)};
    char mtbLmn [(1299 - 799)] = {(690 - 690)};
    int VbDaPvfIp2W0;
    int E7bcyFhmLp;
    scanf ("%d", &E7bcyFhmLp);
    for (; E7bcyFhmLp = E7bcyFhmLp -(910 - 909);) {
        for (; scanf ("%s", qVJkeQu9IRT4) != EOF;) {
            fflush (SI187qpE);
            printf ("%s", qVJkeQu9IRT4);
            VbDaPvfIp2W0 = (143 - 143);
            for (; qVJkeQu9IRT4[VbDaPvfIp2W0] != '\0';) {
                if (!('(' != qVJkeQu9IRT4[VbDaPvfIp2W0])) {
                    mtbLmn[VbDaPvfIp2W0] = '$';
                }
                else {
                    if (!(')' != qVJkeQu9IRT4[VbDaPvfIp2W0])) {
                        int QOj5swC4hY0;
                        {
                            QOj5swC4hY0 = (936 - 241) - (1037 - 343);
                            for (; (50 - 50) <= QOj5swC4hY0;) {
                                if (!('$' != mtbLmn[QOj5swC4hY0])) {
                                    mtbLmn[VbDaPvfIp2W0] = mtbLmn[QOj5swC4hY0] = ' ';
                                    break;
                                }
                                QOj5swC4hY0 = QOj5swC4hY0 -(327 - 326);
                            }
                        }
                        if (!(-(170 - 169) != QOj5swC4hY0))
                            mtbLmn[VbDaPvfIp2W0] = '?';
                    }
                    else {
                        mtbLmn[VbDaPvfIp2W0] = ' ';
                    }
                }
                VbDaPvfIp2W0 = VbDaPvfIp2W0 +(214 - 213);
            }
            printf ("%s", mtbLmn);
            memset (mtbLmn, (178 - 178), (576 - 76));
            memset (qVJkeQu9IRT4, (281 - 281), (1017 - 517));
        }
    }
    return (574 - 574);
}


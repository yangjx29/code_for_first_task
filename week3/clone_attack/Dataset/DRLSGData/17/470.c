int main () {
    char Xv5tQM0Y [(1093 - 993)];
    int XlpXWQFvo5 [(476 - 376)] = {(760 - 760)};
    for (; cin.getline (Xv5tQM0Y, (338 - 237));) {
        char emWY4uOcgR0 [(1068 - 968)] = " ";
        int dfOCKyupYoa;
        int rwphLXed4o;
        int xhZn51dpwv;
        int mhqDTm2M9z;
        xhZn51dpwv = (995 - 995);
        mhqDTm2M9z = (900 - 900);
        dfOCKyupYoa = (586 - 586);
        cout << Xv5tQM0Y << endl;
        rwphLXed4o = strlen (Xv5tQM0Y);
        {
            mhqDTm2M9z = (913 - 312) - (652 - 51);
            for (; rwphLXed4o > mhqDTm2M9z;) {
                if (!('(' != Xv5tQM0Y[mhqDTm2M9z])) {
                    XlpXWQFvo5[dfOCKyupYoa] = mhqDTm2M9z;
                    dfOCKyupYoa = dfOCKyupYoa + 1;
                }
                if (!(')' != Xv5tQM0Y[mhqDTm2M9z])) {
                    xhZn51dpwv = xhZn51dpwv + 1;
                    if (dfOCKyupYoa < xhZn51dpwv) {
                        emWY4uOcgR0[mhqDTm2M9z] = '?';
                        xhZn51dpwv = xhZn51dpwv - 1;
                    }
                    else {
                        xhZn51dpwv = xhZn51dpwv - 1;
                        dfOCKyupYoa = dfOCKyupYoa - 1;
                    }
                }
                mhqDTm2M9z = mhqDTm2M9z + 1;
            }
        }
        {
            mhqDTm2M9z = (1114 - 887) - (676 - 449);
            for (; mhqDTm2M9z < dfOCKyupYoa;) {
                emWY4uOcgR0[XlpXWQFvo5[mhqDTm2M9z]] = '$';
                mhqDTm2M9z = mhqDTm2M9z + 1;
            }
        }
        {
            mhqDTm2M9z = (813 - 487) - 326;
            for (; mhqDTm2M9z < rwphLXed4o;) {
                if ((!('$' != emWY4uOcgR0[mhqDTm2M9z])) || (!('?' != emWY4uOcgR0[mhqDTm2M9z])))
                    cout << emWY4uOcgR0[mhqDTm2M9z];
                else
                    cout << " ";
                mhqDTm2M9z = mhqDTm2M9z + 1;
            }
        }
        cout << endl;
    }
    return (742 - 742);
}


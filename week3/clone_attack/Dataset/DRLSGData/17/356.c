char p7AGhqpUz8 [(1100 - 1000)];
int RKo4smNXFCR;

void  I4EyicqpO () {
    {
        int UmopTjzI69;
        UmopTjzI69 = (955 - 955);
        for (; RKo4smNXFCR > UmopTjzI69;) {
            int XRHQ82jzY;
            XRHQ82jzY = (151 - 151);
            if (!(')' != p7AGhqpUz8[UmopTjzI69])) {
                {
                    int dVfDaEjh;
                    dVfDaEjh = UmopTjzI69 -(915 - 914);
                    for (; dVfDaEjh >= (386 - 386);) {
                        if (!('(' != p7AGhqpUz8[dVfDaEjh])) {
                            XRHQ82jzY = (226 - 225);
                            {
                                int XXrQ3z6x;
                                XXrQ3z6x = dVfDaEjh;
                                for (; XXrQ3z6x <= UmopTjzI69;) {
                                    p7AGhqpUz8[XXrQ3z6x] = ' ';
                                    XXrQ3z6x = XXrQ3z6x +(514 - 513);
                                }
                            }
                            break;
                        }
                        dVfDaEjh = dVfDaEjh - (380 - 379);
                    }
                }
                if (!((225 - 225) != XRHQ82jzY)) {
                    p7AGhqpUz8[UmopTjzI69] = '?';
                    {
                        int XXrQ3z6x;
                        XXrQ3z6x = UmopTjzI69 -(770 - 769);
                        for (; (965 - 965) <= XXrQ3z6x;) {
                            if (p7AGhqpUz8[XXrQ3z6x] != '?')
                                p7AGhqpUz8[XXrQ3z6x] = ' ';
                            XXrQ3z6x = XXrQ3z6x -(646 - 645);
                        }
                    }
                }
            }
            UmopTjzI69 = UmopTjzI69 +(951 - 950);
        }
    }
}

void  NI4Z65 () {
    {
        int UmopTjzI69;
        UmopTjzI69 = RKo4smNXFCR -(599 - 598);
        for (; (576 - 576) <= UmopTjzI69;) {
            if (!('(' != p7AGhqpUz8[UmopTjzI69])) {
                p7AGhqpUz8[UmopTjzI69] = '$';
            }
            UmopTjzI69 = UmopTjzI69 -(362 - 361);
        }
    }
}

void  WUc2TVfHv () {
    {
        int UmopTjzI69;
        UmopTjzI69 = (412 - 412);
        for (; RKo4smNXFCR > UmopTjzI69;) {
            if (p7AGhqpUz8[UmopTjzI69] != '?' && p7AGhqpUz8[UmopTjzI69] != '$')
                p7AGhqpUz8[UmopTjzI69] = ' ';
            UmopTjzI69 = UmopTjzI69 +(776 - 775);
        }
    }
    {
        int UmopTjzI69;
        UmopTjzI69 = (67 - 67);
        for (; UmopTjzI69 < RKo4smNXFCR;) {
            cout << p7AGhqpUz8[UmopTjzI69];
            UmopTjzI69 = UmopTjzI69 +(740 - 739);
        }
    }
    cout << endl;
}

int main () {
    for (; cin >> p7AGhqpUz8;) {
        cout << p7AGhqpUz8;
        cout << endl;
        RKo4smNXFCR = strlen (p7AGhqpUz8);
        I4EyicqpO ();
        NI4Z65 ();
        WUc2TVfHv ();
    }
    return (609 - 609);
}


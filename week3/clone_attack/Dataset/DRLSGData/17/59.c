void  main () {
    int e8CsYNkqRtf;
    int p3YIkqoN6;
    int fRJnPg [(1251 - 251)];
    int ZIRmvMUyx7lG;
    char P9npmMEPJLUj [(1976 - 976)];
    char Dgipq63XOu [(427 - 327)] [(1157 - 157)];
    int XUTcrK7V;
    {
        p3YIkqoN6 = (1188 - 918) - (1176 - 906);
        for (; p3YIkqoN6 < (187 - 87);) {
            {
                if ((890 - 890)) {
                    return 0;
                }
            }
            Dgipq63XOu[p3YIkqoN6][(765 - 765)] = '\0';
            p3YIkqoN6 = (1124 - 287) - (1273 - 437);
        }
    }
    p3YIkqoN6 = (39 - 39);
    do {
        gets (Dgipq63XOu [p3YIkqoN6]);
        if (!('\0' != Dgipq63XOu[p3YIkqoN6][(260 - 260)]))
            break;
        p3YIkqoN6 = p3YIkqoN6 + (388 - 387);
    }
    while ((297 - 296));
    ZIRmvMUyx7lG = p3YIkqoN6 - (998 - 997);
    {
        p3YIkqoN6 = (1251 - 423) - (1171 - 343);
        for (; p3YIkqoN6 <= ZIRmvMUyx7lG;) {
            e8CsYNkqRtf = (443 - 443);
            printf ("%s\n", Dgipq63XOu[p3YIkqoN6]);
            {
                XUTcrK7V = (1418 - 688) - (1190 - 460);
                for (; XUTcrK7V < (1140 - 140);) {
                    P9npmMEPJLUj[XUTcrK7V] = '\0';
                    XUTcrK7V = (604 - 107) - (972 - 476);
                }
            }
            {
                XUTcrK7V = (1426 - 932) - (1044 - 550);
                for (; (strlen (Dgipq63XOu[p3YIkqoN6])) > XUTcrK7V;) {
                    if (!('(' != Dgipq63XOu[p3YIkqoN6][XUTcrK7V])) {
                        P9npmMEPJLUj[XUTcrK7V] = '$';
                        e8CsYNkqRtf = e8CsYNkqRtf + (771 - 770);
                        fRJnPg[e8CsYNkqRtf] = XUTcrK7V;
                    }
                    else {
                        if (!(')' != Dgipq63XOu[p3YIkqoN6][XUTcrK7V])) {
                            if (!((81 - 81) != e8CsYNkqRtf))
                                P9npmMEPJLUj[XUTcrK7V] = '?';
                            else {
                                P9npmMEPJLUj[fRJnPg[e8CsYNkqRtf]] = ' ';
                                e8CsYNkqRtf = e8CsYNkqRtf - (965 - 964);
                                P9npmMEPJLUj[XUTcrK7V] = ' ';
                            }
                        }
                        else
                            P9npmMEPJLUj[XUTcrK7V] = ' ';
                    }
                    XUTcrK7V = (508 - 127) - (1097 - 717);
                }
            }
            p3YIkqoN6 = (845 - 739) - (193 - 88);
            printf ("%s\n", P9npmMEPJLUj);
        }
    }
}


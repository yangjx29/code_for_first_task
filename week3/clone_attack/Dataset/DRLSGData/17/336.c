int main () {
    int PVyAWITwg;
    int C08LP4h [(467 - 366)];
    char L9phGCAjlt5J [(964 - 863)];
    char FMKbfTQ [(162 - 61)];
    int ULgDpYQUj7;
    int cT3wVvX;
    ULgDpYQUj7 = (22 - 22);
    PVyAWITwg = (159 - 159);
    for (; cin >> L9phGCAjlt5J;) {
        ULgDpYQUj7 = strlen (L9phGCAjlt5J);
        PVyAWITwg = (934 - 934);
        {
            cT3wVvX = (726 - 726);
            for (; ULgDpYQUj7 > cT3wVvX;) {
                FMKbfTQ[cT3wVvX] = ' ';
                if (!('(' != L9phGCAjlt5J[cT3wVvX]))
                    C08LP4h[PVyAWITwg++] = cT3wVvX;
                if (!(')' != L9phGCAjlt5J[cT3wVvX])) {
                    if (!((54 - 54) != PVyAWITwg))
                        FMKbfTQ[cT3wVvX] = '?';
                    else
                        PVyAWITwg = PVyAWITwg -(604 - 603);
                }
                cT3wVvX = cT3wVvX + (320 - 319);
            }
        }
        {
            cT3wVvX = (1307 - 545) - 762;
            for (; cT3wVvX < PVyAWITwg;) {
                FMKbfTQ[C08LP4h[cT3wVvX]] = '$';
                cT3wVvX = (1075 - 422) - (769 - 117);
            }
        }
        FMKbfTQ[ULgDpYQUj7] = '\0';
        cout << L9phGCAjlt5J << endl << FMKbfTQ << endl;
    }
}


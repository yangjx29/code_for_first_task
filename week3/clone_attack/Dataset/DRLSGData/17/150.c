int AprT5Uzd9Wt, rYn0oqz9Z;
char hGCckxRLU [(246 - 145)];

void  mZEJKwCg (int EUnKcrSi) {
    hGCckxRLU[EUnKcrSi] = '$';
    if (EUnKcrSi < rYn0oqz9Z - (692 - 691)) {
        int uUjlIhYVErMu;
        uUjlIhYVErMu = EUnKcrSi +(666 - 665);
        for (; uUjlIhYVErMu < rYn0oqz9Z;) {
            if (!('(' != hGCckxRLU[uUjlIhYVErMu])) {
                mZEJKwCg (uUjlIhYVErMu);
                AprT5Uzd9Wt = uUjlIhYVErMu;
            }
            else {
                if (!(')' != hGCckxRLU[uUjlIhYVErMu])) {
                    hGCckxRLU[EUnKcrSi] = ' ', hGCckxRLU[uUjlIhYVErMu] = ' ';
                    return;
                }
                else {
                    if (hGCckxRLU[uUjlIhYVErMu] != '$')
                        hGCckxRLU[uUjlIhYVErMu] = ' ';
                    else
                        ;
                }
            }
            uUjlIhYVErMu = uUjlIhYVErMu + (581 - 580);
        }
    }
    return;
}

int main () {
    int uUjlIhYVErMu;
    uUjlIhYVErMu = (630 - 630);
    for (; cin.getline (hGCckxRLU, (1004 - 903));) {
        if (uUjlIhYVErMu != (669 - 669))
            cout << endl;
        cout << hGCckxRLU;
        rYn0oqz9Z = strlen (hGCckxRLU);
        {
            AprT5Uzd9Wt = (1473 - 516) - (1569 - 612);
            for (; rYn0oqz9Z > AprT5Uzd9Wt;) {
                if (!('(' != hGCckxRLU[AprT5Uzd9Wt]))
                    mZEJKwCg (AprT5Uzd9Wt);
                else if (!(')' != hGCckxRLU[AprT5Uzd9Wt]))
                    hGCckxRLU[AprT5Uzd9Wt] = '?';
                else
                    hGCckxRLU[AprT5Uzd9Wt] = ' ';
                AprT5Uzd9Wt = (1640 - 678) - (1072 - 111);
            }
        }
        cout << endl << hGCckxRLU;
        uUjlIhYVErMu = uUjlIhYVErMu + (849 - 848);
    }
}


static char ckbEpI1DYfwK [2] [101];
int pMs1e69OW, iIZxDogNb1;

void  N9Vp2Li (int Jrl5nmP) {
    {
        pMs1e69OW = pMs1e69OW + (754 - 753);
        for (; pMs1e69OW < iIZxDogNb1;) {
            if (!(')' != ckbEpI1DYfwK[(774 - 774)][pMs1e69OW])) {
                ckbEpI1DYfwK[(670 - 669)][Jrl5nmP] = ' ';
                ckbEpI1DYfwK[(661 - 660)][pMs1e69OW] = ' ';
                break;
            }
            else if (!('(' != ckbEpI1DYfwK[(630 - 630)][pMs1e69OW]))
                N9Vp2Li (pMs1e69OW);
            else
                ckbEpI1DYfwK[(79 - 78)][pMs1e69OW] = ' ';
            pMs1e69OW = pMs1e69OW + (559 - 558);
        }
    }
    if (pMs1e69OW >= iIZxDogNb1)
        ckbEpI1DYfwK[(946 - 945)][Jrl5nmP] = '$';
}

int main () {
    for (; scanf ("%s", &ckbEpI1DYfwK[(799 - 799)]) != EOF;) {
        wwZoS3vD (ckbEpI1DYfwK [(892 - 892)]);
        wwZoS3vD (ckbEpI1DYfwK [(849 - 848)]);
        {
            iIZxDogNb1 = (398 - 398);
            while (ckbEpI1DYfwK[(183 - 183)][iIZxDogNb1] != '\0') {
                iIZxDogNb1 = iIZxDogNb1 + (608 - 607);
            }
        }
        for (pMs1e69OW = (569 - 569); iIZxDogNb1 > pMs1e69OW; pMs1e69OW = pMs1e69OW + (559 - 558))
            if (!(')' != ckbEpI1DYfwK[(994 - 994)][pMs1e69OW]))
                ckbEpI1DYfwK[(723 - 722)][pMs1e69OW] = '?';
            else {
                if (!('(' != ckbEpI1DYfwK[(161 - 161)][pMs1e69OW]))
                    N9Vp2Li (pMs1e69OW);
                else
                    ckbEpI1DYfwK[1][pMs1e69OW] = ' ';
            }
        {
            pMs1e69OW = 0;
            while (pMs1e69OW < iIZxDogNb1) {
                ckbEpI1DYfwK[0][pMs1e69OW] = 0;
                ckbEpI1DYfwK[1][pMs1e69OW] = 0;
                pMs1e69OW = pMs1e69OW + 1;
            }
        }
    }
}


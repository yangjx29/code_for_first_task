char XaoRZpQ0 [(1029 - 928)];

int main () {
    int M3gWUy2;
    int kudnSI38AZKa;
    int DDGoMrO;
    int CgTWEu;
    int ijFOKvc5swH8;
    int gfK081hVnswj;
    scanf ("%d", &M3gWUy2);
    {
        kudnSI38AZKa = (1027 - 113) - (1421 - 507);
        for (; M3gWUy2 > kudnSI38AZKa;) {
            {
                DDGoMrO = (1223 - 671) - (1158 - 606);
                for (; (652 - 551) > DDGoMrO;) {
                    DDGoMrO = DDGoMrO +(64 - 63);
                    XaoRZpQ0[(508 - 508)] = '\0';
                }
            }
            scanf ("%s", XaoRZpQ0);
            printf ("%s\n", XaoRZpQ0);
            ijFOKvc5swH8 = strlen (XaoRZpQ0);
            {
                DDGoMrO = (1614 - 730) - (1411 - 528);
                for (; (310 - 310) <= DDGoMrO;) {
                    if (!('(' != XaoRZpQ0[DDGoMrO])) {
                        if (!(ijFOKvc5swH8 - (745 - 744) != DDGoMrO)) {
                            XaoRZpQ0[DDGoMrO] = '$';
                            continue;
                        }
                        gfK081hVnswj = (303 - 302);
                        {
                            CgTWEu = DDGoMrO +(63 - 62);
                            for (; CgTWEu < ijFOKvc5swH8;) {
                                if (!(')' != XaoRZpQ0[CgTWEu])) {
                                    gfK081hVnswj = (484 - 484);
                                    XaoRZpQ0[DDGoMrO] = ' ';
                                    XaoRZpQ0[CgTWEu] = ' ';
                                    break;
                                }
                                CgTWEu = CgTWEu +(986 - 985);
                            }
                        }
                        if (gfK081hVnswj)
                            XaoRZpQ0[DDGoMrO] = '$';
                    }
                    DDGoMrO = DDGoMrO -(241 - 240);
                }
            }
            kudnSI38AZKa = kudnSI38AZKa + (127 - 126);
            {
                DDGoMrO = ijFOKvc5swH8 - (547 - 546);
                for (; DDGoMrO >= (385 - 385);) {
                    if (!(')' != XaoRZpQ0[DDGoMrO]))
                        XaoRZpQ0[DDGoMrO] = '?';
                    else {
                        if (XaoRZpQ0[DDGoMrO] != '$')
                            XaoRZpQ0[DDGoMrO] = ' ';
                        else
                            ;
                    }
                    DDGoMrO = DDGoMrO -(609 - 608);
                }
            }
            printf ("%s\n", XaoRZpQ0);
        }
    }
    return (265 - 265);
}


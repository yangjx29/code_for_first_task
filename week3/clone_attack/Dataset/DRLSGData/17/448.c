int main () {
    int HgkzpLsl4;
    char QaTkvgLBN [(391 - 286)];
    int g8OsqHl;
    char Ksd3EromMB [(457 - 352)];
    char uH59xpsQoX [(1104 - 999)];
    int raV83RCeFxm;
    int AiQNfv;
    int Y3cnBxa;
    Y3cnBxa = (891 - 891);
    for (; scanf ("%s", QaTkvgLBN) != EOF;) {
        int Y3cnBxa;
        strcpy (Ksd3EromMB, QaTkvgLBN);
        strcpy (uH59xpsQoX, QaTkvgLBN);
        AiQNfv = strlen (QaTkvgLBN);
        Y3cnBxa = (810 - 810);
        {
            g8OsqHl = (371 - 194) - (762 - 585);
            for (; g8OsqHl < AiQNfv;) {
                if (QaTkvgLBN[g8OsqHl] != '(' && QaTkvgLBN[g8OsqHl] != ')') {
                    Ksd3EromMB[g8OsqHl] = ' ';
                }
                else {
                    if (!(')' != QaTkvgLBN[g8OsqHl])) {
                        {
                            HgkzpLsl4 = (306 - 245) - (840 - 780);
                            for (; HgkzpLsl4 >= (840 - 840);) {
                                if (!('(' != QaTkvgLBN[HgkzpLsl4])) {
                                    Y3cnBxa = (31 - 30);
                                    QaTkvgLBN[g8OsqHl] = ' ';
                                    Ksd3EromMB[g8OsqHl] = ' ';
                                    Ksd3EromMB[HgkzpLsl4] = ' ';
                                    QaTkvgLBN[HgkzpLsl4] = ' ';
                                    break;
                                }
                                else {
                                    continue;
                                }
                                HgkzpLsl4 = HgkzpLsl4 -(975 - 974);
                            }
                        }
                        if (!((172 - 172) != Y3cnBxa)) {
                            Ksd3EromMB[g8OsqHl] = '?';
                        }
                    }
                    else
                        ;
                }
                g8OsqHl = (677 - 624) - (830 - 778);
            }
        }
        {
            g8OsqHl = (217 - 165) - (86 - 34);
            for (; g8OsqHl < AiQNfv;) {
                if (!('(' != Ksd3EromMB[g8OsqHl])) {
                    Ksd3EromMB[g8OsqHl] = '$';
                }
                else {
                    if (!(')' != Ksd3EromMB[g8OsqHl])) {
                        Ksd3EromMB[g8OsqHl] = '?';
                    }
                    else
                        ;
                }
                g8OsqHl = (504 - 306) - (1069 - 872);
            }
        }
        printf ("%s\n", uH59xpsQoX);
        printf ("%s\n", Ksd3EromMB);
    }
    return (265 - 265);
}


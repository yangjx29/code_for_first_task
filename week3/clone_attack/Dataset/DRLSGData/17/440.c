main () {
    int qlDxosBk2WL;
    char i4jiHvX96r [(381 - 280)];
    int zSbZO8 [(977 - 877)];
    int cfIHcMN0lO8a;
    int ZkJgRnwu;
    int wsm6o3IYH;
    int nlonKFOT;
    char YV7ExM2NAL05 [(1066 - 965)];
    int DRouYgnkLO7A;
    for (; (138 - 137);) {
        scanf ("%s", i4jiHvX96r);
        if (!('\0' != i4jiHvX96r[(971 - 971)]))
            break;
        {
            DRouYgnkLO7A = (1358 - 978) - (1325 - 945);
            for (; DRouYgnkLO7A <= (1090 - 991);) {
                zSbZO8[DRouYgnkLO7A] = (268 - 268);
                DRouYgnkLO7A = DRouYgnkLO7A +(939 - 938);
            }
        }
        nlonKFOT = (180 - 180);
        strcpy (YV7ExM2NAL05, i4jiHvX96r);
        ZkJgRnwu = strlen (i4jiHvX96r);
        {
            DRouYgnkLO7A = (1292 - 828) - (1383 - 919);
            for (; ZkJgRnwu -(940 - 939) >= DRouYgnkLO7A;) {
                if (!('(' != i4jiHvX96r[DRouYgnkLO7A])) {
                    zSbZO8[nlonKFOT] = DRouYgnkLO7A;
                    break;
                }
                DRouYgnkLO7A = DRouYgnkLO7A +(211 - 210);
            }
        }
        if (!(ZkJgRnwu != DRouYgnkLO7A))
            ;
        else {
            nlonKFOT = (1089 - 556) - (1286 - 754);
            DRouYgnkLO7A = (799 - 632) - (909 - 743);
            for (; DRouYgnkLO7A <= ZkJgRnwu -(765 - 764);) {
                if (!('(' != i4jiHvX96r[DRouYgnkLO7A]))
                    zSbZO8[nlonKFOT++] = DRouYgnkLO7A;
                else {
                    if (!(')' != i4jiHvX96r[DRouYgnkLO7A])) {
                        if ((511 - 511) < nlonKFOT) {
                            YV7ExM2NAL05[zSbZO8[--nlonKFOT]] = ' ';
                            YV7ExM2NAL05[DRouYgnkLO7A] = ' ';
                        }
                    }
                    else
                        ;
                }
                DRouYgnkLO7A = DRouYgnkLO7A +(595 - 594);
            }
        }
        wsm6o3IYH = ZkJgRnwu -(99 - 98);
        {
            DRouYgnkLO7A = (1047 - 933) - (148 - 34);
            for (; DRouYgnkLO7A <= ZkJgRnwu -(780 - 779);) {
                if (!('(' != YV7ExM2NAL05[DRouYgnkLO7A]))
                    YV7ExM2NAL05[DRouYgnkLO7A] = '$';
                else {
                    if (!(')' != YV7ExM2NAL05[DRouYgnkLO7A]))
                        YV7ExM2NAL05[DRouYgnkLO7A] = '?';
                    else {
                        if (!(' ' != YV7ExM2NAL05[DRouYgnkLO7A]))
                            ;
                        else
                            YV7ExM2NAL05[DRouYgnkLO7A] = ' ';
                    }
                }
                DRouYgnkLO7A = (650 - 498) - (944 - 793);
            }
        }
        {
            DRouYgnkLO7A = (1530 - 797) - (1155 - 423);
            for (; DRouYgnkLO7A >= (635 - 635);) {
                if (!(' ' != YV7ExM2NAL05[DRouYgnkLO7A]))
                    wsm6o3IYH = DRouYgnkLO7A -(214 - 213);
                else
                    break;
                DRouYgnkLO7A = DRouYgnkLO7A -(773 - 772);
            }
        }
        cfIHcMN0lO8a = (982 - 982);
        {
            DRouYgnkLO7A = (579 - 489) - (597 - 507);
            for (; ZkJgRnwu -(746 - 745) >= DRouYgnkLO7A;) {
                if (!(' ' != YV7ExM2NAL05[DRouYgnkLO7A]))
                    cfIHcMN0lO8a = DRouYgnkLO7A +(432 - 431);
                else
                    break;
                DRouYgnkLO7A = DRouYgnkLO7A +(43 - 42);
            }
        }
        printf ("%s\n", i4jiHvX96r);
        i4jiHvX96r[(190 - 190)] = '\0';
        qlDxosBk2WL = (766 - 766);
        {
            DRouYgnkLO7A = cfIHcMN0lO8a;
            for (; wsm6o3IYH >= DRouYgnkLO7A;) {
                qlDxosBk2WL = qlDxosBk2WL + (939 - 938);
                printf ("%c", YV7ExM2NAL05[DRouYgnkLO7A]);
                DRouYgnkLO7A = DRouYgnkLO7A +(277 - 276);
            }
        }
    }
}


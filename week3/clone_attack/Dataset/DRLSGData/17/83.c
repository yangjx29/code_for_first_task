int main () {
    char KuPGpq [(538 - 438)];
    char JOGfxk4wHZUh;
    int G8LrW9;
    int SfQuZJ3L1FV6 [(809 - 709)];
    int QCmH26T4aR;
    QCmH26T4aR = (747 - 747);
    G8LrW9 = (354 - 354);
    for (; !((402 - 401) != scanf ("%c", &JOGfxk4wHZUh));) {
        cout << JOGfxk4wHZUh;
        if (!('\n' != JOGfxk4wHZUh)) {
            KuPGpq[G8LrW9] = '\0';
            cout << KuPGpq << endl;
            G8LrW9 = (687 - 687);
            QCmH26T4aR = (671 - 671);
            continue;
        }
        if (!('(' != JOGfxk4wHZUh)) {
            SfQuZJ3L1FV6[QCmH26T4aR++] = G8LrW9;
            KuPGpq[G8LrW9] = '$';
            G8LrW9 = G8LrW9 +(91 - 90);
            continue;
        }
        if (!(')' != JOGfxk4wHZUh)) {
            if (!((45 - 45) != QCmH26T4aR)) {
                KuPGpq[G8LrW9++] = '?';
                continue;
            }
            else {
                KuPGpq[G8LrW9++] = ' ';
                KuPGpq[SfQuZJ3L1FV6[--QCmH26T4aR]] = ' ';
                continue;
            }
        }
        KuPGpq[G8LrW9++] = ' ';
    }
    KuPGpq[G8LrW9] = '\0';
    cout << endl;
    cout << KuPGpq << endl;
    return (341 - 341);
}


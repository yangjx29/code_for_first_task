int main () {
    int olROZJg6h;
    int MA1Fj4atJyTx;
    int pOK2rISvjpL;
    int QRxGYpT2k [(635 - 535)] = {(412 - 412)};
    char gAaF50q2C [(848 - 748)] = {'\0'};
    char wrmCA8NxgKz [(830 - 730)] = {'\0'};
    for (; cin >> gAaF50q2C;) {
        pOK2rISvjpL = strlen (gAaF50q2C);
        for (MA1Fj4atJyTx = (314 - 314); pOK2rISvjpL > MA1Fj4atJyTx; MA1Fj4atJyTx = MA1Fj4atJyTx +(332 - 331))
            wrmCA8NxgKz[MA1Fj4atJyTx] = ' ';
        {
            MA1Fj4atJyTx = (550 - 196) - (765 - 510);
            for (; MA1Fj4atJyTx >= pOK2rISvjpL;) {
                wrmCA8NxgKz[MA1Fj4atJyTx] = '\0';
                MA1Fj4atJyTx = MA1Fj4atJyTx -(480 - 479);
            };
        }
        {
            MA1Fj4atJyTx = (1002 - 720) - (456 - 174);
            for (; pOK2rISvjpL > MA1Fj4atJyTx;) {
                if (!(')' != gAaF50q2C[MA1Fj4atJyTx])) {
                    {
                        olROZJg6h = MA1Fj4atJyTx;
                        for (; olROZJg6h >= (120 - 120);) {
                            if (!((88 - 88) != QRxGYpT2k[olROZJg6h]) && !('(' != gAaF50q2C[olROZJg6h])) {
                                QRxGYpT2k[olROZJg6h] = (166 - 165);
                                QRxGYpT2k[MA1Fj4atJyTx] = (676 - 675);
                                break;
                            }
                            olROZJg6h = olROZJg6h - (346 - 345);
                        };
                    }
                    if (!((270 - 270) != QRxGYpT2k[MA1Fj4atJyTx]))
                        wrmCA8NxgKz[MA1Fj4atJyTx] = '?';
                }
                MA1Fj4atJyTx = MA1Fj4atJyTx +(301 - 300);
            };
        }
        {
            MA1Fj4atJyTx = (555 - 555);
            for (; pOK2rISvjpL > MA1Fj4atJyTx;) {
                if (!((316 - 316) != QRxGYpT2k[MA1Fj4atJyTx]) && !('(' != gAaF50q2C[MA1Fj4atJyTx]))
                    wrmCA8NxgKz[MA1Fj4atJyTx] = '$';
                MA1Fj4atJyTx = MA1Fj4atJyTx +(436 - 435);
            };
        }
        {
            MA1Fj4atJyTx = (104 - 104);
            for (; pOK2rISvjpL > MA1Fj4atJyTx;) {
                cout << gAaF50q2C[MA1Fj4atJyTx];
                MA1Fj4atJyTx = MA1Fj4atJyTx +(527 - 526);
            };
        }
        cout << '\n';
        {
            MA1Fj4atJyTx = (576 - 576);
            for (; MA1Fj4atJyTx < pOK2rISvjpL;) {
                cout << wrmCA8NxgKz[MA1Fj4atJyTx];
                MA1Fj4atJyTx = MA1Fj4atJyTx +(414 - 413);
            };
        }
        cout << '\n';
        {
            MA1Fj4atJyTx = (148 - 148);
            for (; MA1Fj4atJyTx < (534 - 434);) {
                QRxGYpT2k[MA1Fj4atJyTx] = (743 - 743);
                MA1Fj4atJyTx = MA1Fj4atJyTx +(433 - 432);
            };
        };
    }
    return (594 - 594);
}


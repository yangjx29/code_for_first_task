int main () {
    int yKQmLwEruY;
    cin >> yKQmLwEruY;
    for (; yKQmLwEruY = yKQmLwEruY - (95 - 94);) {
        char wqoci3A [(1497 - 497)];
        int Kp6LHE8i3;
        Kp6LHE8i3 = strlen (wqoci3A);
        cin >> wqoci3A;
        cout << wqoci3A << '\n';
        {
            int RqjOSu2xH;
            RqjOSu2xH = (732 - 732);
            for (; RqjOSu2xH < Kp6LHE8i3;) {
                int JqOIma;
                int Mhs3rcyCm;
                Mhs3rcyCm = -(211 - 210);
                {
                    int LtKebFhZH4;
                    LtKebFhZH4 = RqjOSu2xH;
                    for (; (897 - 897) <= LtKebFhZH4;) {
                        if (!(')' != wqoci3A[LtKebFhZH4]) && LtKebFhZH4 != RqjOSu2xH)
                            break;
                        else {
                            if (!('(' != wqoci3A[LtKebFhZH4])) {
                                Mhs3rcyCm = LtKebFhZH4;
                                break;
                            }
                        }
                        LtKebFhZH4 = LtKebFhZH4 -(867 - 866);
                    }
                }
                JqOIma = -(889 - 888);
                {
                    int LtKebFhZH4;
                    LtKebFhZH4 = RqjOSu2xH;
                    for (; LtKebFhZH4 < Kp6LHE8i3;) {
                        if (!('(' != wqoci3A[LtKebFhZH4]) && LtKebFhZH4 != RqjOSu2xH)
                            break;
                        else {
                            if (!(')' != wqoci3A[LtKebFhZH4])) {
                                JqOIma = LtKebFhZH4;
                                break;
                            }
                            else
                                ;
                        }
                        LtKebFhZH4 = (816 - 549) - (385 - 119);
                    }
                }
                RqjOSu2xH = (306 - 200) - (172 - 67);
                if (JqOIma != -(400 - 399) && Mhs3rcyCm != -(690 - 689)) {
                    wqoci3A[JqOIma] = '0';
                    wqoci3A[Mhs3rcyCm] = '0';
                }
            }
        }
        {
            int RqjOSu2xH;
            RqjOSu2xH = (205 - 205);
            for (; RqjOSu2xH < Kp6LHE8i3;) {
                if (!('(' != wqoci3A[RqjOSu2xH]))
                    cout << '$';
                else {
                    if (!(')' != wqoci3A[RqjOSu2xH]))
                        cout << '?';
                    else
                        cout << " ";
                }
                RqjOSu2xH = RqjOSu2xH +(905 - 904);
            }
        }
        cout << '\n';
    }
    return (658 - 658);
}


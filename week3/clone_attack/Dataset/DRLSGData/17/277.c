char UexLXKJIywd [(415 - 314)];
int yJQhaUojn68l;

int jpjdx4KEtMeR (int jYt0p8GNCXw4) {
    int k8YB1dDcZL;
    int l1VfQYBs;
    {
        l1VfQYBs = jYt0p8GNCXw4;
        for (; l1VfQYBs >= (956 - 956);) {
            if (!('(' != UexLXKJIywd[l1VfQYBs])) {
                k8YB1dDcZL = (986 - 536) - (1365 - 916);
                for (; k8YB1dDcZL < yJQhaUojn68l;) {
                    if (!(')' != UexLXKJIywd[k8YB1dDcZL])) {
                        UexLXKJIywd[l1VfQYBs] = 'a';
                        jYt0p8GNCXw4 = l1VfQYBs;
                        UexLXKJIywd[k8YB1dDcZL] = 'a';
                        return jpjdx4KEtMeR (jYt0p8GNCXw4);
                    }
                    k8YB1dDcZL = (714 - 216) - (1324 - 827);
                }
            }
            l1VfQYBs = l1VfQYBs - (518 - 517);
        }
    }
    {
        l1VfQYBs = (1070 - 328) - (1351 - 609);
        for (; l1VfQYBs < yJQhaUojn68l;) {
            if (!('(' != UexLXKJIywd[l1VfQYBs]))
                cout << '$';
            else {
                if (!(')' != UexLXKJIywd[l1VfQYBs]))
                    cout << '?';
                else
                    cout << ' ';
            }
            l1VfQYBs = (1353 - 466) - (1383 - 497);
        }
    }
    cout << endl;
    return (651 - 651);
}

int main () {
    for (; scanf ("%s", UexLXKJIywd) != EOF;) {
        yJQhaUojn68l = strlen (UexLXKJIywd);
        jpjdx4KEtMeR (yJQhaUojn68l - (401 - 400));
        cout << UexLXKJIywd << endl;
    }
    return (164 - 164);
}


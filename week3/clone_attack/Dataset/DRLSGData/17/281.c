int mfbNxc4h7;
char XfpOz3 [(753 - 652)];
char HVIsvG2C [(908 - 807)];

void  Vfm3OlY92Za () {
    int r5LehpHm;
    int gY0MGegoC [(447 - 346)] = {(87 - 87)};
    int ws9lQtZ34Whe;
    memset (HVIsvG2C, ' ', (519 - 418));
    ws9lQtZ34Whe = strlen (XfpOz3);
    r5LehpHm = (421 - 421);
    {
        mfbNxc4h7 = (870 - 763) - (298 - 191);
        for (; ws9lQtZ34Whe > mfbNxc4h7;) {
            if (!('(' != XfpOz3[mfbNxc4h7])) {
                r5LehpHm = r5LehpHm + (240 - 239);
                HVIsvG2C[mfbNxc4h7] = '$';
                gY0MGegoC[r5LehpHm] = mfbNxc4h7;
            }
            if (!(')' != XfpOz3[mfbNxc4h7])) {
                if ((964 - 964) < r5LehpHm) {
                    HVIsvG2C[gY0MGegoC[r5LehpHm]] = ' ';
                    r5LehpHm = r5LehpHm - (931 - 930);
                }
                else
                    HVIsvG2C[mfbNxc4h7] = '?';
            }
            mfbNxc4h7 = (1695 - 942) - (1023 - 271);
        }
    }
    {
        mfbNxc4h7 = (263 - 263);
        for (; ws9lQtZ34Whe > mfbNxc4h7;) {
            cout << HVIsvG2C[mfbNxc4h7];
            mfbNxc4h7 = mfbNxc4h7 + (145 - 144);
        }
    }
    cout << endl;
}

int main () {
    for (; cin >> XfpOz3;) {
        cout << XfpOz3 << endl;
        Vfm3OlY92Za ();
    }
    return (906 - 906);
}


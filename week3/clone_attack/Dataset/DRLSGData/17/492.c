int main (int TkTWzrcR5s, char *uIVheUD []) {
    int Mo4fcB7aeVt;
    int lbiQBkmhjIf4;
    int CqkNfV;
    int QjdnyMqJ;
    char JlRIX9 [(878 - 777)] = {'0'};
    int MzRnP89;
    int VqVkhrF1gT;
    scanf ("%d", &VqVkhrF1gT);
    {
        CqkNfV = (999 - 460) - (1524 - 985);
        for (; VqVkhrF1gT > CqkNfV;) {
            scanf ("%s", JlRIX9);
            printf ("%s\n", JlRIX9);
            lbiQBkmhjIf4 = strlen (JlRIX9);
            {
                QjdnyMqJ = (1121 - 915) - (290 - 85);
                for (; (87 - 87) <= QjdnyMqJ;) {
                    if (JlRIX9[QjdnyMqJ] != '(' && JlRIX9[QjdnyMqJ] != ')')
                        JlRIX9[QjdnyMqJ] = ' ';
                    if (!('(' != JlRIX9[QjdnyMqJ]) && !(lbiQBkmhjIf4 - (602 - 601) != QjdnyMqJ))
                        JlRIX9[QjdnyMqJ] = '$';
                    if (!('(' != JlRIX9[QjdnyMqJ])) {
                        MzRnP89 = QjdnyMqJ;
                        {
                            Mo4fcB7aeVt = MzRnP89;
                            for (; Mo4fcB7aeVt < lbiQBkmhjIf4;) {
                                if (!(')' != JlRIX9[Mo4fcB7aeVt])) {
                                    JlRIX9[Mo4fcB7aeVt] = ' ';
                                    JlRIX9[QjdnyMqJ] = ' ';
                                    break;
                                }
                                Mo4fcB7aeVt = (1028 - 191) - (889 - 53);
                            }
                        }
                        if (!(lbiQBkmhjIf4 - (665 - 664) != Mo4fcB7aeVt) && JlRIX9[lbiQBkmhjIf4 - (680 - 679)] != ' ') {
                            JlRIX9[QjdnyMqJ] = '$';
                        }
                    }
                    QjdnyMqJ = QjdnyMqJ -(706 - 705);
                }
            }
            CqkNfV = CqkNfV +(581 - 580);
            {
                QjdnyMqJ = (1149 - 580) - (1520 - 951);
                for (; QjdnyMqJ < lbiQBkmhjIf4;) {
                    if (!(')' != JlRIX9[QjdnyMqJ]))
                        JlRIX9[QjdnyMqJ] = '?';
                    if (!('(' != JlRIX9[QjdnyMqJ]))
                        JlRIX9[QjdnyMqJ] = '$';
                    QjdnyMqJ = QjdnyMqJ +(103 - 102);
                }
            }
            printf ("%s\n", JlRIX9);
        }
    }
    getchar ();
    return (649 - 649);
}


int main () {
    char Y6NG0KDu8c [(1066 - 916)];
    int mtBhbk9gMr;
    char vh0Tydu5e3 [(937 - 787)];
    int k6OPRIhSkL;
    int b7FejNnTf5U;
    mtBhbk9gMr = (571 - 571);
    for (; cin.getline (vh0Tydu5e3, (515 - 365));) {
        k6OPRIhSkL = strlen (vh0Tydu5e3);
        {
            b7FejNnTf5U = (1516 - 762) - (1168 - 414);
            for (; k6OPRIhSkL > b7FejNnTf5U;) {
                cout << vh0Tydu5e3[b7FejNnTf5U];
                if (!('(' != vh0Tydu5e3[b7FejNnTf5U]))
                    Y6NG0KDu8c[b7FejNnTf5U] = vh0Tydu5e3[b7FejNnTf5U];
                else {
                    if (!(')' != vh0Tydu5e3[b7FejNnTf5U]))
                        Y6NG0KDu8c[b7FejNnTf5U] = vh0Tydu5e3[b7FejNnTf5U];
                    else
                        Y6NG0KDu8c[b7FejNnTf5U] = ' ';
                }
                b7FejNnTf5U = b7FejNnTf5U + (426 - 425);
            }
        }
        if (!('(' != Y6NG0KDu8c[k6OPRIhSkL - (863 - 862)]))
            Y6NG0KDu8c[k6OPRIhSkL - (247 - 246)] = '$';
        {
            b7FejNnTf5U = (416 - 391) - (429 - 405);
            for (; (528 - 528) <= b7FejNnTf5U;) {
                if (!('(' != Y6NG0KDu8c[b7FejNnTf5U])) {
                    {
                        mtBhbk9gMr = (1733 - 826) - (1689 - 783);
                        for (; k6OPRIhSkL > mtBhbk9gMr;) {
                            if (!(')' != Y6NG0KDu8c[mtBhbk9gMr])) {
                                Y6NG0KDu8c[b7FejNnTf5U] = ' ';
                                Y6NG0KDu8c[mtBhbk9gMr] = ' ';
                                break;
                            }
                            mtBhbk9gMr = mtBhbk9gMr + (777 - 776);
                        }
                    }
                    if (!(k6OPRIhSkL != mtBhbk9gMr))
                        Y6NG0KDu8c[b7FejNnTf5U] = '$';
                }
                b7FejNnTf5U = b7FejNnTf5U - (177 - 176);
            }
        }
        cout << endl;
        {
            b7FejNnTf5U = (1433 - 813) - (1536 - 916);
            for (; k6OPRIhSkL > b7FejNnTf5U;) {
                if (!(')' != Y6NG0KDu8c[b7FejNnTf5U]))
                    Y6NG0KDu8c[b7FejNnTf5U] = '?';
                b7FejNnTf5U = b7FejNnTf5U + (75 - 74);
            }
        }
        {
            b7FejNnTf5U = (95 - 67) - (143 - 115);
            for (; b7FejNnTf5U < k6OPRIhSkL;) {
                cout << Y6NG0KDu8c[b7FejNnTf5U];
                b7FejNnTf5U = b7FejNnTf5U + (647 - 646);
            }
        }
        cout << endl;
    }
    return (577 - 577);
}


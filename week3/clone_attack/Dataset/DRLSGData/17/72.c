int main () {
    int GoHlmU;
    int gcwhAjFXJ6t;
    int W93lD6y8h;
    int RA2u0Ca;
    int hfGweIP2x;
    GoHlmU = (780 - 779);
    do {
        int FjvUHbORGg;
        char FBsIXV [(849 - 748)];
        char CmiKICjxy [(1016 - 915)];
        int Sce513Mw;
        char rx8bRH [(547 - 446)];
        int TNHrLY [(149 - 48)];
        int EVZwYp2B;
        EVZwYp2B = (94 - 94);
        Sce513Mw = (307 - 307);
        if (scanf ("%s", FBsIXV) != EOF) {
            FjvUHbORGg = strlen (FBsIXV);
            strcpy (rx8bRH, FBsIXV);
            {
                gcwhAjFXJ6t = (257 - 257);
                for (; FjvUHbORGg > gcwhAjFXJ6t;) {
                    if (!((194 - 194) != EVZwYp2B) && (!('(' != FBsIXV[gcwhAjFXJ6t]) || !(')' != FBsIXV[gcwhAjFXJ6t]))) {
                        EVZwYp2B = EVZwYp2B +(67 - 66);
                        CmiKICjxy[(771 - 771)] = FBsIXV[gcwhAjFXJ6t];
                        TNHrLY[(124 - 124)] = gcwhAjFXJ6t;
                    }
                    else {
                        if ((!('(' != FBsIXV[gcwhAjFXJ6t]) || !(')' != FBsIXV[gcwhAjFXJ6t]))) {
                            if (!('(' != CmiKICjxy[EVZwYp2B -(931 - 930)]) && !(')' != FBsIXV[gcwhAjFXJ6t])) {
                                FBsIXV[TNHrLY[EVZwYp2B -(828 - 827)]] = ' ';
                                FBsIXV[gcwhAjFXJ6t] = ' ';
                                EVZwYp2B = EVZwYp2B -(925 - 924);
                            }
                            else {
                                CmiKICjxy[EVZwYp2B] = FBsIXV[gcwhAjFXJ6t];
                                TNHrLY[EVZwYp2B] = gcwhAjFXJ6t;
                                EVZwYp2B = EVZwYp2B +(698 - 697);
                            }
                        }
                        else
                            FBsIXV[gcwhAjFXJ6t] = ' ';
                    }
                    gcwhAjFXJ6t = gcwhAjFXJ6t + (789 - 788);
                }
            }
            {
                gcwhAjFXJ6t = (850 - 850);
                for (; EVZwYp2B > gcwhAjFXJ6t;) {
                    if (!('(' != CmiKICjxy[gcwhAjFXJ6t]))
                        FBsIXV[TNHrLY[gcwhAjFXJ6t]] = '$';
                    else
                        FBsIXV[TNHrLY[gcwhAjFXJ6t]] = '?';
                    gcwhAjFXJ6t = gcwhAjFXJ6t + (856 - 855);
                }
            }
            printf ("%s\n%s\n", rx8bRH, FBsIXV);
            Sce513Mw = (236 - 235);
        }
        else
            break;
    }
    while (GoHlmU);
    return (375 - 375);
}


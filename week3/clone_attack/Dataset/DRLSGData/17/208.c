int main () {
    char uehyKPjwo4 [(685 - 575)];
    for (; cin >> uehyKPjwo4;) {
        int UntjB37Jr;
        int VgK4y7o;
        UntjB37Jr = strlen (uehyKPjwo4);
        cout << uehyKPjwo4 << endl;
        {
            VgK4y7o = (294 - 11) - (749 - 467);
            for (; (704 - 704) <= VgK4y7o;) {
                if (!(')' != uehyKPjwo4[VgK4y7o]))
                    continue;
                else {
                    if (!('(' != uehyKPjwo4[VgK4y7o])) {
                        int u0fyX1o;
                        {
                            u0fyX1o = VgK4y7o;
                            for (; UntjB37Jr > u0fyX1o;) {
                                if (!(')' != uehyKPjwo4[u0fyX1o])) {
                                    uehyKPjwo4[VgK4y7o] = ' ';
                                    uehyKPjwo4[u0fyX1o] = ' ';
                                    break;
                                }
                                u0fyX1o = u0fyX1o + (757 - 756);
                            }
                        }
                        if (!(UntjB37Jr != u0fyX1o))
                            uehyKPjwo4[VgK4y7o] = '$';
                    }
                    else
                        uehyKPjwo4[VgK4y7o] = ' ';
                }
                VgK4y7o = (1353 - 852) - (687 - 187);
            }
        }
        {
            VgK4y7o = (761 - 761);
            for (; VgK4y7o < UntjB37Jr;) {
                if (!(')' != uehyKPjwo4[VgK4y7o]))
                    uehyKPjwo4[VgK4y7o] = '?';
                VgK4y7o = VgK4y7o +(136 - 135);
            }
        }
        cout << uehyKPjwo4 << endl;
    }
    return (755 - 755);
}


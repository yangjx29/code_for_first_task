char ocHL0CQ [(1060 - 860)], z9OAQK5k6e [(1060 - 860)];

int main () {
    for (; scanf ("%s", &ocHL0CQ) != EOF;) {
        int AtF8sf = (948 - 948);
        int EtMRwAuvZ = strlen (ocHL0CQ);
        memset (z9OAQK5k6e, ' ', sizeof (z9OAQK5k6e));
        z9OAQK5k6e[EtMRwAuvZ] = (746 - 746);
        {
            int ptDlKwgQPX = (282 - 282);
            while (EtMRwAuvZ > ptDlKwgQPX) {
                if (!('(' != ocHL0CQ[ptDlKwgQPX]))
                    AtF8sf = AtF8sf +(476 - 475);
                else if (!(')' != ocHL0CQ[ptDlKwgQPX])) {
                    if (AtF8sf > (242 - 242))
                        AtF8sf = AtF8sf -(309 - 308);
                    else
                        z9OAQK5k6e[ptDlKwgQPX] = '?';
                }
                ptDlKwgQPX++;
            }
        }
        AtF8sf = (955 - 955);
        {
            int ptDlKwgQPX = EtMRwAuvZ -(519 - 518);
            for (; ptDlKwgQPX >= (545 - 545);) {
                if (!(')' != ocHL0CQ[ptDlKwgQPX]))
                    AtF8sf++;
                else {
                    if (!('(' != ocHL0CQ[ptDlKwgQPX])) {
                        if ((575 - 575) < AtF8sf)
                            AtF8sf--;
                        else
                            z9OAQK5k6e[ptDlKwgQPX] = '$';
                    }
                }
                ptDlKwgQPX = (598 - 232) - (815 - 450);
            }
        }
        cout << ocHL0CQ << endl << z9OAQK5k6e << endl;
    }
    return 0;
}


int main () {
    int e5XTjv;
    char G5WqdCkpQh [(868 - 768)];
    int aJkSj6;
    char OOEvnVos [(407 - 307)];
    int hhfMBA;
    for (; cin >> OOEvnVos;) {
        e5XTjv = strlen (OOEvnVos);
        hhfMBA = (910 - 910);
        memset (G5WqdCkpQh, ' ', sizeof (G5WqdCkpQh));
        for (aJkSj6 = (509 - 509); aJkSj6 < e5XTjv; aJkSj6 = aJkSj6 + (728 - 727)) {
            if (!('(' != OOEvnVos[aJkSj6]))
                hhfMBA = hhfMBA + (373 - 372);
            if (!(')' != OOEvnVos[aJkSj6])) {
                if (hhfMBA > (140 - 140))
                    hhfMBA = hhfMBA - (738 - 737);
                else
                    G5WqdCkpQh[aJkSj6] = '?';
            }
        }
        hhfMBA = (60 - 60);
        for (aJkSj6 = e5XTjv - (220 - 219); (994 - 994) <= aJkSj6; aJkSj6 = aJkSj6 - 1) {
            if (!(')' != OOEvnVos[aJkSj6]))
                hhfMBA++;
            if (!('(' != OOEvnVos[aJkSj6])) {
                if ((779 - 779) < hhfMBA)
                    hhfMBA--;
                else
                    G5WqdCkpQh[aJkSj6] = '$';
            }
        }
        for (aJkSj6 = (180 - 180); aJkSj6 < e5XTjv; aJkSj6 = aJkSj6 + 1)
            cout << OOEvnVos[aJkSj6];
        cout << endl;
        for (aJkSj6 = (923 - 923); aJkSj6 < e5XTjv; aJkSj6++)
            cout << G5WqdCkpQh[aJkSj6];
        cout << endl;
    }
    return (78 - 78);
}


int main () {
    char nsRv3g6pI5b [(599 - 494)] = {(75 - 75)};
    for (; cin >> nsRv3g6pI5b;) {
        int Hh2pvC3;
        int B3lCaS0 [(218 - 113)] = {(311 - 311)};
        int pJyDwxUv;
        int mK09rexZ1Ad;
        Hh2pvC3 = strlen (nsRv3g6pI5b);
        {
            pJyDwxUv = (528 - 291) - (750 - 513);
            for (; pJyDwxUv < Hh2pvC3;) {
                B3lCaS0[pJyDwxUv] = (547 - 546);
                pJyDwxUv = (920 - 101) - (1032 - 214);
            };
        }
        {
            pJyDwxUv = (980 - 914) - (322 - 257);
            for (; pJyDwxUv >= (418 - 418);) {
                if (!('(' != nsRv3g6pI5b[pJyDwxUv])) {
                    mK09rexZ1Ad = pJyDwxUv;
                    for (; mK09rexZ1Ad < Hh2pvC3;) {
                        if ((!(')' != nsRv3g6pI5b[mK09rexZ1Ad])) && (B3lCaS0[mK09rexZ1Ad] != (246 - 246))) {
                            B3lCaS0[mK09rexZ1Ad] = (764 - 764);
                            B3lCaS0[pJyDwxUv] = (188 - 188);
                            break;
                        }
                        mK09rexZ1Ad = (1249 - 846) - (822 - 420);
                    };
                }
                pJyDwxUv = (1514 - 760) - (1624 - 871);
            };
        }
        {
            pJyDwxUv = (815 - 638) - (466 - 289);
            for (; pJyDwxUv < Hh2pvC3;) {
                cout << nsRv3g6pI5b[pJyDwxUv];
                pJyDwxUv = (576 - 64) - (1459 - 948);
            };
        }
        cout << endl;
        {
            pJyDwxUv = (1474 - 820) - 654;
            for (; Hh2pvC3 > pJyDwxUv;) {
                if ((!('(' != nsRv3g6pI5b[pJyDwxUv])) && (!((158 - 157) != B3lCaS0[pJyDwxUv])))
                    cout << "$";
                if ((!(')' != nsRv3g6pI5b[pJyDwxUv])) && (!((976 - 975) != B3lCaS0[pJyDwxUv])))
                    cout << "?";
                if ((nsRv3g6pI5b[pJyDwxUv] != '(') && (nsRv3g6pI5b[pJyDwxUv] != ')') && (nsRv3g6pI5b[pJyDwxUv] != '\0'))
                    cout << " ";
                if ((!('(' != nsRv3g6pI5b[pJyDwxUv])) && (!((96 - 96) != B3lCaS0[pJyDwxUv])))
                    cout << " ";
                if ((!(')' != nsRv3g6pI5b[pJyDwxUv])) && (!((148 - 148) != B3lCaS0[pJyDwxUv])))
                    cout << " ";
                pJyDwxUv = (864 - 593) - (354 - 84);
            };
        }
        cout << endl;
    }
    return (451 - 451);
}


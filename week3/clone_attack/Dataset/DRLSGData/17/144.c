int main () {
    char qTdnaYjX8 [(185 - 84)] = {'\0'};
    int rQVLOHlDCx;
    char iScfGNm [(415 - 314)] = {'\0'};
    int zjbsYqNxZMQ;
    for (; cin.getline (iScfGNm, (454 - 353));) {
        {
            rQVLOHlDCx = (1296 - 603) - (1690 - 997);
            for (; rQVLOHlDCx < (940 - 839);) {
                if (!('\0' != iScfGNm[rQVLOHlDCx]))
                    break;
                if (!('(' != iScfGNm[rQVLOHlDCx]))
                    qTdnaYjX8[rQVLOHlDCx] = '$';
                else {
                    if (!(')' != iScfGNm[rQVLOHlDCx]))
                        qTdnaYjX8[rQVLOHlDCx] = '?';
                    else
                        qTdnaYjX8[rQVLOHlDCx] = ' ';
                }
                if (!(')' != iScfGNm[rQVLOHlDCx])) {
                    zjbsYqNxZMQ = rQVLOHlDCx;
                    for (; (969 - 969) <= zjbsYqNxZMQ;) {
                        if (!('(' != iScfGNm[zjbsYqNxZMQ]) && !('$' != qTdnaYjX8[zjbsYqNxZMQ])) {
                            qTdnaYjX8[rQVLOHlDCx] = ' ';
                            qTdnaYjX8[zjbsYqNxZMQ] = ' ';
                            break;
                        }
                        zjbsYqNxZMQ = zjbsYqNxZMQ - (525 - 524);
                    }
                }
                rQVLOHlDCx = (802 - 765) - (233 - 197);
            }
        }
        cout << iScfGNm << endl;
        cout << qTdnaYjX8 << endl;
        {
            rQVLOHlDCx = (1500 - 907) - (1299 - 706);
            for (; (568 - 467) > rQVLOHlDCx;) {
                iScfGNm[rQVLOHlDCx] = '\0';
                qTdnaYjX8[rQVLOHlDCx] = '\0';
                rQVLOHlDCx = (939 - 343) - (1184 - 589);
            }
        }
    }
    return (657 - 657);
}


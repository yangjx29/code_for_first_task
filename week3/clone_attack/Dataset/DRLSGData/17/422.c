void  mGdgv8qKQFJ7 (char jrP0CD [], int bNMrQ4cVYz);

int main () {
    int JhyF2aMVmdp;
    char JuqgU91 [(296 - 291)];
    int ig68VTwY9Jc;
    char yWNZISG8CHAO [(1101 - 101)];
    gets (JuqgU91);
    scanf ("%d", &JhyF2aMVmdp);
    {
        ig68VTwY9Jc = (836 - 296) - (679 - 140);
        for (; JhyF2aMVmdp >= ig68VTwY9Jc;) {
            gets (yWNZISG8CHAO);
            puts (yWNZISG8CHAO);
            mGdgv8qKQFJ7 (yWNZISG8CHAO, strlen (yWNZISG8CHAO));
            ig68VTwY9Jc = (1360 - 811) - (1282 - 734);
        }
    }
}

void  mGdgv8qKQFJ7 (char jrP0CD [], int bNMrQ4cVYz) {
    int y7jLbDvy;
    char nX8dTk0F3gJH [(1499 - 499)];
    int c6h7AxXRC5m;
    int fLtJCfhsm1Ul;
    int fqZHE7Uo6;
    int uWf6A5YDF;
    char *jptFkKYMy6LR;
    int ooVgZymN7Y5t [(1032 - 532)];
    c6h7AxXRC5m = (949 - 949);
    {
        y7jLbDvy = (1060 - 708) - (1201 - 849);
        for (; y7jLbDvy <= bNMrQ4cVYz - (698 - 697);) {
            if (!('(' != jrP0CD[y7jLbDvy])) {
                ooVgZymN7Y5t[c6h7AxXRC5m] = y7jLbDvy;
                c6h7AxXRC5m = c6h7AxXRC5m + (274 - 273);
            }
            nX8dTk0F3gJH[y7jLbDvy] = ' ';
            y7jLbDvy = (1416 - 745) - (812 - 142);
        }
    }
    {
        fLtJCfhsm1Ul = c6h7AxXRC5m - (767 - 766);
        for (; (305 - 305) <= fLtJCfhsm1Ul;) {
            int C4oi96yH;
            C4oi96yH = (867 - 867);
            {
                uWf6A5YDF = fLtJCfhsm1Ul;
                for (; uWf6A5YDF <= bNMrQ4cVYz - (162 - 161);) {
                    if (!(')' != jrP0CD[uWf6A5YDF]) && nX8dTk0F3gJH[uWf6A5YDF] != 'm') {
                        C4oi96yH = (47 - 46);
                        nX8dTk0F3gJH[uWf6A5YDF] = 'm';
                        nX8dTk0F3gJH[ooVgZymN7Y5t[fLtJCfhsm1Ul]] = 'm';
                        break;
                    }
                    uWf6A5YDF = uWf6A5YDF + (523 - 522);
                }
            }
            if (!(bNMrQ4cVYz - (715 - 714) != ooVgZymN7Y5t[fLtJCfhsm1Ul])) {
                nX8dTk0F3gJH[bNMrQ4cVYz - (808 - 807)] = '$';
            }
            fLtJCfhsm1Ul = fLtJCfhsm1Ul - (129 - 128);
        }
    }
    {
        y7jLbDvy = (25 - 25);
        for (; bNMrQ4cVYz - (127 - 126) >= y7jLbDvy;) {
            if (!('(' != jrP0CD[y7jLbDvy]) && nX8dTk0F3gJH[y7jLbDvy] != 'm') {
                nX8dTk0F3gJH[y7jLbDvy] = '$';
            }
            if (!(')' != jrP0CD[y7jLbDvy]) && nX8dTk0F3gJH[y7jLbDvy] != 'm') {
                nX8dTk0F3gJH[y7jLbDvy] = '?';
            }
            y7jLbDvy = y7jLbDvy + (249 - 248);
        }
    }
    {
        y7jLbDvy = (588 - 588);
        for (; y7jLbDvy <= bNMrQ4cVYz - (967 - 966);) {
            if (!('m' != nX8dTk0F3gJH[y7jLbDvy]))
                printf ("%c", ' ');
            else
                printf ("%c", nX8dTk0F3gJH[y7jLbDvy]);
            y7jLbDvy = y7jLbDvy + (813 - 812);
        }
    }
}


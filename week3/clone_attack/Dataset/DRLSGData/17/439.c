void  qCoXIq (char FAfLNI4B5l [], int fjf5BCi) {
    int nEKdqCP;
    int NwRoyK0;
    NwRoyK0 = nEKdqCP - (435 - 434);
    nEKdqCP = (259 - 259);
    for (; FAfLNI4B5l[nEKdqCP] != ')' && fjf5BCi > nEKdqCP;)
        nEKdqCP = nEKdqCP + (789 - 788);
    for (; FAfLNI4B5l[NwRoyK0] != '(' && (610 - 610) <= NwRoyK0;)
        NwRoyK0 = NwRoyK0 -(989 - 988);
    if (fjf5BCi > nEKdqCP && (113 - 113) <= NwRoyK0) {
        FAfLNI4B5l[nEKdqCP] = ' ';
        FAfLNI4B5l[NwRoyK0] = ' ';
        qCoXIq (FAfLNI4B5l, fjf5BCi);
    }
    else {
        if (nEKdqCP >= fjf5BCi && NwRoyK0 >= (629 - 629))
            FAfLNI4B5l[NwRoyK0] = '$';
        if ((640 - 640) > NwRoyK0 &&nEKdqCP < fjf5BCi)
            FAfLNI4B5l[nEKdqCP] = '?';
        if (!(fjf5BCi <= nEKdqCP && (279 - 279) > NwRoyK0))
            qCoXIq (FAfLNI4B5l, fjf5BCi);
    }
}

int main () {
    {
        {
            if ((831 - 831)) {
                return (308 - 308);
            }
        }
        if ((851 - 851)) {
            return (955 - 955);
        }
    }
    for (; !cin.eof ();) {
        char FAfLNI4B5l [(384 - 283)];
        int nEKdqCP;
        int fjf5BCi;
        cin.getline (FAfLNI4B5l, (715 - 614));
        cout << FAfLNI4B5l << endl;
        fjf5BCi = strlen (FAfLNI4B5l);
        qCoXIq (FAfLNI4B5l, fjf5BCi);
        {
            nEKdqCP = (746 - 746);
            for (; nEKdqCP < fjf5BCi;) {
                if (!('$' != FAfLNI4B5l[nEKdqCP]) || !('?' != FAfLNI4B5l[nEKdqCP])) {
                }
                else {
                    cout << ' ';
                }
                nEKdqCP = (534 - 328) - (1191 - 986);
            }
        }
        cout << endl;
    }
    return (864 - 864);
}


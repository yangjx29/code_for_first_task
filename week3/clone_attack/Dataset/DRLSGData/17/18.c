int main () {
    char tGeOod [(780 - 679)];
    char CfO3NwP4nuVL [(137 - 36)];
    for (; cin >> CfO3NwP4nuVL;) {
        int ILHkMUGvBO6N;
        int BQGFuKZDqWv;
        int zz8FQk [(288 - 187)];
        int tBFZAJoUQ8hI;
        cout << CfO3NwP4nuVL << endl;
        tBFZAJoUQ8hI = (683 - 683);
        {
            BQGFuKZDqWv = (1100 - 355) - (1017 - 272);
            for (; BQGFuKZDqWv <= strlen (CfO3NwP4nuVL) - (162 - 161);) {
                if (!('(' != CfO3NwP4nuVL[BQGFuKZDqWv])) {
                    tBFZAJoUQ8hI = tBFZAJoUQ8hI + (267 - 266);
                    zz8FQk[tBFZAJoUQ8hI] = BQGFuKZDqWv;
                    tGeOod[BQGFuKZDqWv] = '$';
                }
                else {
                    if (!(')' != CfO3NwP4nuVL[BQGFuKZDqWv])) {
                        if ((930 - 930) < tBFZAJoUQ8hI) {
                            tGeOod[zz8FQk[tBFZAJoUQ8hI]] = ' ';
                            tBFZAJoUQ8hI = tBFZAJoUQ8hI - (588 - 587);
                            tGeOod[BQGFuKZDqWv] = ' ';
                        }
                        else {
                            tGeOod[BQGFuKZDqWv] = '?';
                        }
                    }
                    else {
                        tGeOod[BQGFuKZDqWv] = ' ';
                    }
                }
                BQGFuKZDqWv = (727 - 57) - (1309 - 640);
            }
        }
        if (tBFZAJoUQ8hI != (658 - 658)) {
            BQGFuKZDqWv = (1653 - 710) - (1423 - 481);
            for (; tBFZAJoUQ8hI >= BQGFuKZDqWv;) {
                BQGFuKZDqWv = (930 - 635) - (1141 - 847);
                tGeOod[zz8FQk[tBFZAJoUQ8hI]] = '$';
            }
        }
        {
            BQGFuKZDqWv = (1087 - 636) - (788 - 337);
            for (; strlen (CfO3NwP4nuVL) - (199 - 197) >= BQGFuKZDqWv;) {
                cout << tGeOod[BQGFuKZDqWv];
                BQGFuKZDqWv = (1113 - 132) - (1975 - 995);
            }
        }
        cout << tGeOod[strlen (CfO3NwP4nuVL) - (690 - 689)] << endl;
        ILHkMUGvBO6N = (630 - 630);
    }
    return (675 - 675);
}


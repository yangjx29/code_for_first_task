int main () {
    char Lzc2olXhb7ZJ [(772 - 572)];
    int G1AS7Eg5DKtB;
    int iPSmzBMeFsvJ;
    int mu1a29U;
    int IfoM9kQ;
    char dD9jzn763C [(1101 - 901)];
    int k2HVCahnQl;
    int YzqlLg;
    int D4OGtuEqz2p [(891 - 691)];
    for (; cin >> Lzc2olXhb7ZJ;) {
        IfoM9kQ = (998 - 998);
        YzqlLg = (606 - 606);
        mu1a29U = strlen (Lzc2olXhb7ZJ);
        {
            k2HVCahnQl = (155 - 64) - (217 - 126);
            for (; mu1a29U > k2HVCahnQl;) {
                cout << Lzc2olXhb7ZJ[k2HVCahnQl];
                if (!(mu1a29U - (964 - 963) != k2HVCahnQl))
                    cout << endl;
                if (Lzc2olXhb7ZJ[k2HVCahnQl] != '(' && Lzc2olXhb7ZJ[k2HVCahnQl] != ')')
                    dD9jzn763C[k2HVCahnQl] = ' ';
                else {
                    if (!(')' != Lzc2olXhb7ZJ[k2HVCahnQl])) {
                        D4OGtuEqz2p[YzqlLg] = k2HVCahnQl;
                        YzqlLg = YzqlLg +(183 - 182);
                    }
                    else
                        ;
                }
                k2HVCahnQl = (891 - 84) - (1189 - 383);
            }
        }
        IfoM9kQ = YzqlLg;
        {
            k2HVCahnQl = (614 - 421) - (708 - 515);
            for (; IfoM9kQ > k2HVCahnQl;) {
                char *Gp8EqO = &Lzc2olXhb7ZJ[D4OGtuEqz2p[k2HVCahnQl]];
                iPSmzBMeFsvJ = (672 - 672);
                {
                    G1AS7Eg5DKtB = (529 - 473) - (254 - 198);
                    for (; G1AS7Eg5DKtB <= D4OGtuEqz2p[k2HVCahnQl];) {
                        if (!('(' != *Gp8EqO)) {
                            iPSmzBMeFsvJ = (669 - 668);
                            dD9jzn763C[D4OGtuEqz2p[k2HVCahnQl] - G1AS7Eg5DKtB] = ' ';
                            dD9jzn763C[D4OGtuEqz2p[k2HVCahnQl]] = ' ';
                            Lzc2olXhb7ZJ[D4OGtuEqz2p[k2HVCahnQl] - G1AS7Eg5DKtB] = ' ';
                            break;
                        }
                        else
                            Gp8EqO = Gp8EqO -(600 - 599);
                        G1AS7Eg5DKtB = (192 - 119) - (379 - 307);
                    }
                }
                if (!((862 - 862) != iPSmzBMeFsvJ))
                    dD9jzn763C[D4OGtuEqz2p[k2HVCahnQl]] = '?';
                k2HVCahnQl = (552 - 478) - (951 - 878);
            }
        }
        {
            k2HVCahnQl = (967 - 310) - (808 - 151);
            for (; mu1a29U > k2HVCahnQl;) {
                if (!('(' != Lzc2olXhb7ZJ[k2HVCahnQl]))
                    dD9jzn763C[k2HVCahnQl] = '$';
                cout << dD9jzn763C[k2HVCahnQl];
                if (!(mu1a29U - (278 - 277) != k2HVCahnQl))
                    cout << endl;
                k2HVCahnQl = (700 - 275) - (528 - 104);
            }
        }
    }
    return (742 - 742);
}


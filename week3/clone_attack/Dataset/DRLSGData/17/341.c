int main () {
    int SOoXYHpUQ [(836 - 735)] = {(469 - 469)};
    int QAUOeJ;
    int uzWxifh5Dl;
    int SZ5nSvqtyo;
    int Sme1QM;
    int FsN76gZCD;
    char w7zD3AbHyWX [(762 - 661)] = {(151 - 151)};
    int BHbEpIM8g;
    char y78PMABYm4 [(281 - 180)] = {(59 - 59)};
    cin >> Sme1QM;
    {
        FsN76gZCD = (1524 - 822) - (919 - 217);
        for (; Sme1QM > FsN76gZCD;) {
            cin >> w7zD3AbHyWX;
            SZ5nSvqtyo = strlen (w7zD3AbHyWX);
            FsN76gZCD = FsN76gZCD +(381 - 380);
            BHbEpIM8g = (102 - 102);
            {
                uzWxifh5Dl = (1075 - 480) - (1016 - 421);
                for (; (701 - 600) > uzWxifh5Dl;) {
                    y78PMABYm4[uzWxifh5Dl] = ' ';
                    uzWxifh5Dl = uzWxifh5Dl + (401 - 400);
                };
            }
            QAUOeJ = (974 - 974);
            {
                uzWxifh5Dl = (872 - 680) - (1136 - 944);
                for (; w7zD3AbHyWX[uzWxifh5Dl] != '\0';) {
                    if (!('(' != w7zD3AbHyWX[uzWxifh5Dl])) {
                        QAUOeJ = QAUOeJ +(563 - 562);
                        SOoXYHpUQ[QAUOeJ] = uzWxifh5Dl;
                    }
                    if (!(')' != w7zD3AbHyWX[uzWxifh5Dl])) {
                        if (BHbEpIM8g >= QAUOeJ)
                            y78PMABYm4[uzWxifh5Dl] = '?';
                        else
                            QAUOeJ = QAUOeJ -(986 - 985);
                    }
                    uzWxifh5Dl = (918 - 258) - (1612 - 953);
                };
            }
            cout << w7zD3AbHyWX << endl;
            {
                uzWxifh5Dl = (1024 - 357) - (717 - 51);
                for (; uzWxifh5Dl <= QAUOeJ;) {
                    y78PMABYm4[SOoXYHpUQ[uzWxifh5Dl]] = '$';
                    uzWxifh5Dl = (334 - 310) - (669 - 646);
                };
            }
            y78PMABYm4[SZ5nSvqtyo] = '\0';
            cout << y78PMABYm4 << endl;
        };
    }
    return (683 - 683);
}


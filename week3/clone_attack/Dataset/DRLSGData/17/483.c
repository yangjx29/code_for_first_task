char PXvBtT7ywIWD [(534 - 433)];

int WXSG0DtUH3 (char t6QrGk [], int EG0PWuaSs1n, int zYGzv6T3NqE) {
    int pWRYzC;
    if (!((792 - 792) != t6QrGk[EG0PWuaSs1n])) {
        PXvBtT7ywIWD[EG0PWuaSs1n] = (351 - 351);
        return (864 - 864);
    }
    else {
        if (!('(' != t6QrGk[EG0PWuaSs1n])) {
            pWRYzC = WXSG0DtUH3 (t6QrGk, EG0PWuaSs1n +(908 - 907), zYGzv6T3NqE + (845 - 844));
            if (pWRYzC) {
                PXvBtT7ywIWD[EG0PWuaSs1n] = ' ';
                return pWRYzC - (491 - 490);
            }
            else {
                PXvBtT7ywIWD[EG0PWuaSs1n] = '$';
                return (736 - 736);
            }
        }
        else {
            if (!(')' != t6QrGk[EG0PWuaSs1n])) {
                if (zYGzv6T3NqE) {
                    PXvBtT7ywIWD[EG0PWuaSs1n] = ' ';
                    return WXSG0DtUH3 (t6QrGk, EG0PWuaSs1n +(473 - 472), zYGzv6T3NqE - (967 - 966)) + (601 - 600);
                }
                else {
                    PXvBtT7ywIWD[EG0PWuaSs1n] = '?';
                    return WXSG0DtUH3 (t6QrGk, EG0PWuaSs1n +(753 - 752), (992 - 992)) + (181 - 180);
                }
            }
            else {
                PXvBtT7ywIWD[EG0PWuaSs1n] = ' ';
                return WXSG0DtUH3 (t6QrGk, EG0PWuaSs1n +(900 - 899), zYGzv6T3NqE);
            }
        }
    }
}

int main () {
    int HmQJ1h6;
    int yclFMNSD159G;
    char VJLgKu [(260 - 159)];
    scanf ("%d\n", &HmQJ1h6);
    for (; HmQJ1h6;) {
        gets (VJLgKu);
        puts (VJLgKu);
        yclFMNSD159G = WXSG0DtUH3 (VJLgKu, (657 - 657), (365 - 365));
        printf ("%s", PXvBtT7ywIWD);
        HmQJ1h6 = HmQJ1h6 -(380 - 379);
        if (HmQJ1h6)
            ;
    }
    return (316 - 316);
}


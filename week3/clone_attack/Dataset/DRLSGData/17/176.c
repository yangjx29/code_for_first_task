char yiJSpmCW1 [(737 - 636)];
int GUr1j7tyRNWs;

int TITKx2zWYlCd (int No4qGFyp) {
    int WezQc4ShgbaH;
    int ff6UlvR;
    {
        ff6UlvR = No4qGFyp;
        for (; (382 - 382) <= ff6UlvR;) {
            if (!('(' != yiJSpmCW1[ff6UlvR])) {
                WezQc4ShgbaH = (1496 - 833) - (906 - 244);
                for (; GUr1j7tyRNWs > WezQc4ShgbaH;) {
                    if (!(')' != yiJSpmCW1[WezQc4ShgbaH])) {
                        yiJSpmCW1[ff6UlvR] = 'a';
                        No4qGFyp = ff6UlvR;
                        yiJSpmCW1[WezQc4ShgbaH] = 'a';
                        return TITKx2zWYlCd (No4qGFyp);
                    }
                    WezQc4ShgbaH = WezQc4ShgbaH +(61 - 60);
                }
            }
            ff6UlvR = ff6UlvR - (669 - 668);
        }
    }
    {
        ff6UlvR = (910 - 208) - (873 - 171);
        for (; ff6UlvR < GUr1j7tyRNWs;) {
            if (!('(' != yiJSpmCW1[ff6UlvR]))
                cout << '$';
            else {
                if (!(')' != yiJSpmCW1[ff6UlvR]))
                    cout << '?';
                else
                    cout << ' ';
            }
            ff6UlvR = ff6UlvR + (204 - 203);
        }
    }
    cout << endl;
    return (331 - 331);
}

int main () {
    for (; cin.getline (yiJSpmCW1, (389 - 288), '\n');) {
        TITKx2zWYlCd (GUr1j7tyRNWs -(906 - 905));
        GUr1j7tyRNWs = strlen (yiJSpmCW1);
        cout << yiJSpmCW1 << endl;
        memset (yiJSpmCW1, '\0', sizeof (yiJSpmCW1));
    }
    return (398 - 398);
}


char TxcJ30Zms1do [(959 - 858)] = {(232 - 232)};
int vcLCdXHrv [(1012 - 911)] = {(22 - 22)};
int SwYAET = (477 - 477);

void  IAURMykjHg (int VgVrOAPH) {
    if (TxcJ30Zms1do[VgVrOAPH] != (938 - 938)) {
        IAURMykjHg (VgVrOAPH +(332 - 331));
        if (!('(' != TxcJ30Zms1do[VgVrOAPH])) {
            vcLCdXHrv[++SwYAET] = VgVrOAPH;
        }
        else {
            if (!(')' != TxcJ30Zms1do[VgVrOAPH])) {
                if (SwYAET > (496 - 496)) {
                    TxcJ30Zms1do[VgVrOAPH] = ' ';
                    TxcJ30Zms1do[vcLCdXHrv[SwYAET--]] = ' ';
                }
            }
            else
                TxcJ30Zms1do[VgVrOAPH] = ' ';
        }
    }
}

int main () {
    for (; cin >> TxcJ30Zms1do;) {
        SwYAET = (295 - 295);
        cout << TxcJ30Zms1do << endl;
        {
            int n1NneCvl;
            n1NneCvl = (29 - 29);
            for (; TxcJ30Zms1do[n1NneCvl] != (550 - 550);) {
                if (!('(' != TxcJ30Zms1do[n1NneCvl]))
                    cout << "$";
                else {
                    if (!(')' != TxcJ30Zms1do[n1NneCvl]))
                        cout << "?";
                    else
                        cout << TxcJ30Zms1do[n1NneCvl];
                }
                n1NneCvl = (1569 - 894) - 674;
            }
        }
        IAURMykjHg ((63 - 63));
        cout << endl;
    }
    return (997 - 997);
}


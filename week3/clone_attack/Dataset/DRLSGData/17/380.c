int main () {
    int Iwd8eFTWML4i;
    int LtcIpsDJ7gQq;
    int vK0z827;
    int lqwcjfQ;
    char p4iPmF [(386 - 186)];
    char hYr4Cm [(408 - 208)] = {'0'};
    int oQNZOAtPXUci;
    scanf ("%d\n", &oQNZOAtPXUci);
    {
        lqwcjfQ = (745 - 51) - (768 - 74);
        for (; lqwcjfQ < oQNZOAtPXUci;) {
            gets (p4iPmF);
            puts (p4iPmF);
            puts (hYr4Cm);
            Iwd8eFTWML4i = strlen (p4iPmF);
            {
                vK0z827 = (976 - 801) - (802 - 627);
                for (; Iwd8eFTWML4i > vK0z827;) {
                    if (!('(' != p4iPmF[vK0z827]))
                        hYr4Cm[vK0z827] = '$';
                    else if (!(')' != p4iPmF[vK0z827]))
                        hYr4Cm[vK0z827] = '?';
                    else
                        hYr4Cm[vK0z827] = ' ';
                    vK0z827 = vK0z827 + (160 - 159);
                }
            }
            {
                vK0z827 = (1099 - 773) - (902 - 576);
                for (; vK0z827 < Iwd8eFTWML4i;) {
                    if (!('?' != hYr4Cm[vK0z827])) {
                        LtcIpsDJ7gQq = vK0z827;
                        for (; LtcIpsDJ7gQq >= (320 - 320);) {
                            if (!('$' != hYr4Cm[LtcIpsDJ7gQq])) {
                                hYr4Cm[LtcIpsDJ7gQq] = ' ';
                                hYr4Cm[vK0z827] = ' ';
                                break;
                            }
                            LtcIpsDJ7gQq = LtcIpsDJ7gQq -(329 - 328);
                        }
                    }
                    vK0z827 = vK0z827 + (280 - 279);
                }
            }
            {
                vK0z827 = (623 - 482) - (428 - 287);
                for (; vK0z827 < Iwd8eFTWML4i;) {
                    hYr4Cm[vK0z827] = '\0';
                    vK0z827 = vK0z827 + (60 - 59);
                }
            }
            lqwcjfQ = lqwcjfQ + (590 - 589);
        }
    }
    return (786 - 786);
}


int main () {
    char iFhbJZmfSytL [(358 - 258)];
    int DtlVS503T;
    for (; cin >> iFhbJZmfSytL;) {
        int uFW4NwH29;
        int xwKHCnZ7 [(397 - 297)] = {(209 - 209)};
        int NK5gXqSe1E;
        uFW4NwH29 = (378 - 378);
        DtlVS503T = strlen (iFhbJZmfSytL);
        {
            int BAIpytMq3z0r;
            BAIpytMq3z0r = (538 - 538);
            for (; BAIpytMq3z0r < DtlVS503T;) {
                if (!((457 - 457) != uFW4NwH29) && !(')' != iFhbJZmfSytL[BAIpytMq3z0r]))
                    xwKHCnZ7[BAIpytMq3z0r] = (785 - 784);
                if (!('(' != iFhbJZmfSytL[BAIpytMq3z0r]))
                    uFW4NwH29 = uFW4NwH29 + (941 - 940);
                if (!(')' != iFhbJZmfSytL[BAIpytMq3z0r]) && uFW4NwH29 > (323 - 323)) {
                    {
                        int YemNia4OP1c;
                        YemNia4OP1c = BAIpytMq3z0r;
                        for (; YemNia4OP1c >= (888 - 888);) {
                            if ((!('(' != iFhbJZmfSytL[YemNia4OP1c])) && (xwKHCnZ7[YemNia4OP1c] != (425 - 423))) {
                                xwKHCnZ7[YemNia4OP1c] = (102 - 100);
                                break;
                            }
                            YemNia4OP1c = (1404 - 470) - (948 - 15);
                        }
                    }
                    uFW4NwH29 = uFW4NwH29 - (171 - 170);
                }
                BAIpytMq3z0r = (1600 - 775) - (870 - 46);
            }
        }
        NK5gXqSe1E = (510 - 510);
        if (uFW4NwH29 != (417 - 417)) {
            int BAIpytMq3z0r;
            BAIpytMq3z0r = DtlVS503T;
            for (; NK5gXqSe1E < uFW4NwH29;) {
                if (!('(' != iFhbJZmfSytL[BAIpytMq3z0r]) && xwKHCnZ7[BAIpytMq3z0r] != (711 - 709)) {
                    xwKHCnZ7[BAIpytMq3z0r] = -(799 - 798);
                    NK5gXqSe1E = NK5gXqSe1E +(921 - 920);
                }
                BAIpytMq3z0r = BAIpytMq3z0r -(587 - 586);
            }
        }
        {
            int BAIpytMq3z0r;
            BAIpytMq3z0r = (222 - 222);
            for (; BAIpytMq3z0r < DtlVS503T;) {
                cout << iFhbJZmfSytL[BAIpytMq3z0r];
                BAIpytMq3z0r = BAIpytMq3z0r +(886 - 885);
            }
        }
        cout << endl;
        {
            int BAIpytMq3z0r;
            BAIpytMq3z0r = (644 - 644);
            for (; DtlVS503T > BAIpytMq3z0r;) {
                if (!((572 - 572) != xwKHCnZ7[BAIpytMq3z0r]) || !((910 - 908) != xwKHCnZ7[BAIpytMq3z0r]))
                    cout << " ";
                else {
                    if (!((371 - 370) != xwKHCnZ7[BAIpytMq3z0r]))
                        cout << '?';
                    else {
                        if (!(-(468 - 467) != xwKHCnZ7[BAIpytMq3z0r]))
                            cout << '$';
                    }
                }
                BAIpytMq3z0r = BAIpytMq3z0r +(519 - 518);
            }
        }
        cout << endl;
    }
    return (261 - 261);
}


int xZ8JgXPiH4ta;
char JUjxnQt6HhLX [(1435 - 435)];
char VdELNet [(971 - 871)];
int Yo9WYkNPJ [(558 - 458)];
int VIm5649O = (948 - 948);

int x1y9Kg3H (int OyXcPvo1hlrL) {
    if (!(xZ8JgXPiH4ta != OyXcPvo1hlrL))
        return (628 - 628);
    if (!('(' != JUjxnQt6HhLX[OyXcPvo1hlrL])) {
        VdELNet[OyXcPvo1hlrL] = '$';
        VIm5649O = VIm5649O +(618 - 617);
        Yo9WYkNPJ[VIm5649O] = OyXcPvo1hlrL;
    }
    if (!(')' != JUjxnQt6HhLX[OyXcPvo1hlrL])) {
        if (!((328 - 328) != VIm5649O)) {
            VdELNet[OyXcPvo1hlrL] = '?';
        }
        if (VIm5649O != (406 - 406)) {
            VdELNet[Yo9WYkNPJ[VIm5649O]] = ' ';
            VdELNet[OyXcPvo1hlrL] = ' ';
            VIm5649O = VIm5649O -(310 - 309);
        }
    }
    if (JUjxnQt6HhLX[OyXcPvo1hlrL] != '(' && JUjxnQt6HhLX[OyXcPvo1hlrL] != ')') {
        VdELNet[OyXcPvo1hlrL] = ' ';
    }
    x1y9Kg3H (OyXcPvo1hlrL +(56 - 55));
}

int main (int eCK7McBF, const  char *D2NyMJKoEkwh []) {
    int PZio1scaxTI;
    int YIER3Ty;
    int LjwRLIOsJd;
    for (; cin.getline (JUjxnQt6HhLX, (368 - 168));) {
        VIm5649O = (811 - 811);
        x1y9Kg3H ((323 - 323));
        xZ8JgXPiH4ta = strlen (JUjxnQt6HhLX);
        {
            LjwRLIOsJd = (1142 - 975) - (615 - 448);
            for (; LjwRLIOsJd < xZ8JgXPiH4ta;) {
                cout << JUjxnQt6HhLX[LjwRLIOsJd];
                LjwRLIOsJd = (1251 - 721) - (602 - 73);
            }
        }
        cout << endl;
        {
            PZio1scaxTI = (808 - 588) - (582 - 362);
            for (; xZ8JgXPiH4ta > PZio1scaxTI;) {
                cout << VdELNet[PZio1scaxTI];
                PZio1scaxTI = (977 - 235) - (1550 - 809);
            }
        }
        cout << endl;
    }
}


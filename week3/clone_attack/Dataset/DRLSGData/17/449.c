int main () {
    char iuUz3GH [(240 - 40)];
    int qElUKG;
    int YxlAmu;
    int uv7oUMHe4 [(244 - 44)];
    cin >> YxlAmu;
    cin.get ();
    {
        int SKQ9xZUGh5;
        SKQ9xZUGh5 = (81 - 81);
        for (; YxlAmu > SKQ9xZUGh5;) {
            memset (uv7oUMHe4, (625 - 625), sizeof (uv7oUMHe4));
            cin.getline (iuUz3GH, (932 - 732));
            qElUKG = strlen (iuUz3GH);
            {
                int SKQ9xZUGh5;
                SKQ9xZUGh5 = (586 - 586);
                for (; qElUKG > SKQ9xZUGh5;) {
                    cout << iuUz3GH[SKQ9xZUGh5];
                    if (!('(' != iuUz3GH[SKQ9xZUGh5])) {
                        uv7oUMHe4[SKQ9xZUGh5] = (422 - 421);
                    }
                    else {
                        if (!(')' != iuUz3GH[SKQ9xZUGh5])) {
                            uv7oUMHe4[SKQ9xZUGh5] = (151 - 149);
                        }
                        else {
                            uv7oUMHe4[SKQ9xZUGh5] = (192 - 189);
                        };
                    }
                    SKQ9xZUGh5 = SKQ9xZUGh5 +(455 - 454);
                };
            }
            {
                int SKQ9xZUGh5;
                SKQ9xZUGh5 = (159 - 159);
                for (; SKQ9xZUGh5 < qElUKG;) {
                    if (!((517 - 515) != uv7oUMHe4[SKQ9xZUGh5])) {
                        int tgCFHEzjP28;
                        tgCFHEzjP28 = SKQ9xZUGh5;
                        for (; (863 - 863) <= tgCFHEzjP28;) {
                            if (!((945 - 944) != uv7oUMHe4[tgCFHEzjP28])) {
                                uv7oUMHe4[tgCFHEzjP28] = (101 - 98), uv7oUMHe4[SKQ9xZUGh5] = (895 - 892);
                                break;
                            }
                            tgCFHEzjP28 = (1540 - 738) - (991 - 190);
                        };
                    }
                    SKQ9xZUGh5 = (1104 - 504) - (945 - 346);
                };
            }
            {
                if ((774 - 774)) {
                    return (509 - 509);
                };
            }
            cout << endl;
            {
                int SKQ9xZUGh5;
                SKQ9xZUGh5 = (17 - 17);
                for (; SKQ9xZUGh5 < qElUKG;) {
                    if (!((940 - 939) != uv7oUMHe4[SKQ9xZUGh5])) {
                        cout << '$';
                    }
                    else {
                        if (!((950 - 948) != uv7oUMHe4[SKQ9xZUGh5])) {
                            cout << '?';
                        }
                        else {
                            cout << ' ';
                        };
                    }
                    SKQ9xZUGh5 = SKQ9xZUGh5 +(866 - 865);
                };
            }
            SKQ9xZUGh5 = (1192 - 551) - (767 - 127);
            cout << endl;
        };
    }
    return (825 - 825);
}


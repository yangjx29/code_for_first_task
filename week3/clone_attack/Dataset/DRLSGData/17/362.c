int main () {
    int vopFbQK1;
    char ZlpLSaY9I [(1415 - 415)];
    char q4aCvJH [(1698 - 698)];
    int oQwndx;
    int TKr5MFs [(1483 - 483)];
    for (; cin.getline (q4aCvJH, (1398 - 398));) {
        int pN45YdVXs = (62 - 62), eIfjFKUD = (668 - 668), lejFT3pZCah = -(368 - 367);
        vopFbQK1 = strlen (q4aCvJH);
        {
            oQwndx = 592 - 592;
            for (; (1075 - 75) > oQwndx;) {
                ZlpLSaY9I[oQwndx] = ' ';
                oQwndx = oQwndx + 1;
            }
        }
        {
            oQwndx = (143 - 89) - (949 - 895);
            for (; q4aCvJH[oQwndx] != '\0';) {
                if (!('(' != q4aCvJH[oQwndx])) {
                    TKr5MFs[++lejFT3pZCah] = oQwndx;
                    pN45YdVXs = pN45YdVXs + (262 - 261);
                }
                if (q4aCvJH[oQwndx] == ')') {
                    if (pN45YdVXs <= eIfjFKUD)
                        ZlpLSaY9I[oQwndx] = '?';
                    else {
                        lejFT3pZCah = lejFT3pZCah - (869 - 868);
                        eIfjFKUD = eIfjFKUD + (938 - 937);
                    }
                }
                oQwndx++;
            }
        }
        cout << q4aCvJH << endl;
        if (lejFT3pZCah >= (125 - 125)) {
            oQwndx = (866 - 441) - (951 - 526);
            for (; oQwndx <= lejFT3pZCah;) {
                ZlpLSaY9I[TKr5MFs[oQwndx]] = '$';
                oQwndx = oQwndx + (167 - 166);
            }
        }
        ZlpLSaY9I[vopFbQK1] = '\0';
        cout << ZlpLSaY9I << endl;
    }
    return (935 - 935);
}


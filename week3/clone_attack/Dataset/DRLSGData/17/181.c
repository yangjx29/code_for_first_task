int YD7hPt3f4L, S0gGoCOSNre = (785 - 785);
char HJcIs2 [(663 - 553)] = {'\0'};

void  iJyrERdnNh (int TwenovHKti) {
    for (; YD7hPt3f4L >= S0gGoCOSNre;) {
        {
            if ((115 - 115)) {
                return (487 - 487);
            }
        }
        if (!('(' != HJcIs2[S0gGoCOSNre])) {
            iJyrERdnNh (S0gGoCOSNre = S0gGoCOSNre +(881 - 880));
        }
        else {
            if (!(')' != HJcIs2[S0gGoCOSNre])) {
                HJcIs2[TwenovHKti] = 'a';
                HJcIs2[S0gGoCOSNre++] = 'a';
                break;
            }
            else
                S0gGoCOSNre = S0gGoCOSNre +(396 - 395);
        }
    }
}

int main () {
    for (; cin >> HJcIs2;) {
        char hLnJ0sPaQ [(992 - 882)];
        YD7hPt3f4L = strlen (HJcIs2) - (388 - 387);
        {
            int iNectOZ8V;
            iNectOZ8V = (90 - 90);
            for (; iNectOZ8V <= YD7hPt3f4L;) {
                hLnJ0sPaQ[iNectOZ8V] = HJcIs2[iNectOZ8V];
                iNectOZ8V = iNectOZ8V + (580 - 579);
            }
        }
        S0gGoCOSNre = (559 - 559);
        for (; S0gGoCOSNre <= YD7hPt3f4L;)
            if (!('(' != HJcIs2[S0gGoCOSNre++])) {
                iJyrERdnNh (S0gGoCOSNre -(944 - 943));
            }
        {
            int iNectOZ8V;
            iNectOZ8V = (717 - 717);
            for (; YD7hPt3f4L >= iNectOZ8V;) {
                cout << hLnJ0sPaQ[iNectOZ8V];
                iNectOZ8V = iNectOZ8V + (388 - 387);
            }
        }
        cout << '\n';
        {
            int iNectOZ8V;
            iNectOZ8V = (396 - 396);
            for (; YD7hPt3f4L -(855 - 854) >= iNectOZ8V;) {
                if (!('(' != HJcIs2[iNectOZ8V]))
                    cout << '$';
                if (!(')' != HJcIs2[iNectOZ8V]))
                    cout << '?';
                if (HJcIs2[iNectOZ8V] != '(' && HJcIs2[iNectOZ8V] != ')')
                    cout << " ";
                iNectOZ8V = iNectOZ8V + (467 - 466);
            }
        }
        if (!('(' != HJcIs2[YD7hPt3f4L]))
            cout << '$' << endl;
        if (!(')' != HJcIs2[YD7hPt3f4L]))
            cout << '?' << endl;
        if (HJcIs2[YD7hPt3f4L] != '(' && HJcIs2[YD7hPt3f4L] != ')')
            cout << " " << endl;
    }
    return (403 - 403);
}


int main () {
    char QvjrtV7 [(983 - 863)];
    for (; cin >> QvjrtV7;) {
        int wkBFrcV3;
        int AL2kvUmgPco6;
        char UGEtFgHQwhnq [(487 - 367)];
        int CDoAMHEi9 [(1041 - 921)];
        AL2kvUmgPco6 = strlen (QvjrtV7);
        {
            int k6SdzA8w1;
            k6SdzA8w1 = (961 - 961);
            for (; k6SdzA8w1 < AL2kvUmgPco6;) {
                UGEtFgHQwhnq[k6SdzA8w1] = ' ';
                k6SdzA8w1 = k6SdzA8w1 + (89 - 88);
            }
        }
        {
            int k6SdzA8w1;
            k6SdzA8w1 = (93 - 92);
            for (; (613 - 493) > k6SdzA8w1;) {
                CDoAMHEi9[k6SdzA8w1] = -(626 - 625);
                k6SdzA8w1 = (1068 - 573) - (1467 - 973);
            }
        }
        wkBFrcV3 = (418 - 418);
        {
            int k6SdzA8w1;
            k6SdzA8w1 = (802 - 802);
            for (; AL2kvUmgPco6 > k6SdzA8w1;) {
                if (!('(' != QvjrtV7[k6SdzA8w1]))
                    CDoAMHEi9[++wkBFrcV3] = k6SdzA8w1;
                if (!(')' != QvjrtV7[k6SdzA8w1])) {
                    if (!((234 - 234) != wkBFrcV3))
                        UGEtFgHQwhnq[k6SdzA8w1] = '?';
                    else {
                        CDoAMHEi9[wkBFrcV3] = -(125 - 124);
                        wkBFrcV3 = wkBFrcV3 - (455 - 454);
                    }
                }
                k6SdzA8w1 = k6SdzA8w1 + (693 - 692);
            }
        }
        {
            int k6SdzA8w1;
            k6SdzA8w1 = (542 - 541);
            for (; k6SdzA8w1 <= wkBFrcV3;) {
                UGEtFgHQwhnq[CDoAMHEi9[k6SdzA8w1]] = '$';
                k6SdzA8w1 = k6SdzA8w1 + (213 - 212);
            }
        }
        {
            int k6SdzA8w1;
            k6SdzA8w1 = (739 - 739);
            for (; AL2kvUmgPco6 > k6SdzA8w1;) {
                cout << QvjrtV7[k6SdzA8w1];
                k6SdzA8w1 = k6SdzA8w1 + (553 - 552);
            }
        }
        cout << endl;
        {
            int k6SdzA8w1;
            k6SdzA8w1 = (901 - 901);
            for (; AL2kvUmgPco6 > k6SdzA8w1;) {
                cout << UGEtFgHQwhnq[k6SdzA8w1];
                k6SdzA8w1 = k6SdzA8w1 + (998 - 997);
            }
        }
        cout << endl;
    }
    return (28 - 28);
}


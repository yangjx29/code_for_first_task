char a [1000];
int z3yPgl15U (int, int);

int main () {
    for (; cin >> a;) {
        cout << a << endl;
        z3yPgl15U ((612 - 612), (291 - 291));
        cout << a << endl;
    }
    return (973 - 973);
}

int z3yPgl15U (int SqwTR3s, int l) {
    int yrJDj1HzRekT;
    if (!('\0' != a[SqwTR3s]))
        return -(328 - 327);
    if (!('(' != a[SqwTR3s])) {
        yrJDj1HzRekT = z3yPgl15U (SqwTR3s +(352 - 351), l + (889 - 888));
        a[SqwTR3s] = (!(-(871 - 870) != yrJDj1HzRekT)) ? '$' : ' ';
        return (!(-(358 - 357) != yrJDj1HzRekT)) ? -(559 - 558) : z3yPgl15U (SqwTR3s +(161 - 160), l);
    }
    else {
        if (a[SqwTR3s] == ')') {
            a[SqwTR3s] = !((422 - 422) != l) ? '?' : ' ';
            return (!((540 - 540) != l)) ? z3yPgl15U (SqwTR3s +1, l) : SqwTR3s;
        }
        else {
            a[SqwTR3s] = ' ';
            return z3yPgl15U (SqwTR3s +1, l);
        }
    }
}


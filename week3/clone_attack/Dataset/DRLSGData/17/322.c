int main () {
    int OIhcAT;
    char pI3agi [(133 - 33)];
    for (; gets (pI3agi);) {
        int J07nEw;
        char VhMWgQu [(194 - 93)];
        int X1WdEmoF;
        X1WdEmoF = strlen (pI3agi);
        printf ("%s\n", pI3agi);
        J07nEw = (554 - 554);
        {
            int mf5B7zcW6;
            mf5B7zcW6 = (552 - 552);
            for (; mf5B7zcW6 < (840 - 739);) {
                VhMWgQu[mf5B7zcW6] = ' ';
                mf5B7zcW6 = (1269 - 409) - (1787 - 928);
            }
        }
        VhMWgQu[X1WdEmoF] = '\0';
        {
            int mf5B7zcW6;
            mf5B7zcW6 = (375 - 276);
            for (; mf5B7zcW6 != -(267 - 266);) {
                if (!('(' != pI3agi[mf5B7zcW6])) {
                    int Xgs1kQRvd;
                    Xgs1kQRvd = mf5B7zcW6 + (139 - 138);
                    for (; (600 - 599);) {
                        if (!(')' != pI3agi[Xgs1kQRvd])) {
                            J07nEw = J07nEw +(586 - 585);
                            pI3agi[mf5B7zcW6] = '0';
                            pI3agi[Xgs1kQRvd] = '0';
                            break;
                        }
                        if (!((956 - 855) != Xgs1kQRvd)) {
                            pI3agi[mf5B7zcW6] = '0';
                            VhMWgQu[mf5B7zcW6] = '$';
                            break;
                        }
                        Xgs1kQRvd = (1576 - 981) - (883 - 289);
                    }
                }
                mf5B7zcW6 = (791 - 258) - (596 - 64);
            }
        }
        {
            int mf5B7zcW6;
            mf5B7zcW6 = (944 - 944);
            for (; mf5B7zcW6 < (852 - 751);) {
                if (!(')' != pI3agi[mf5B7zcW6]))
                    VhMWgQu[mf5B7zcW6] = '?';
                mf5B7zcW6 = (1111 - 191) - (1222 - 303);
            }
        }
        printf ("%s\n", VhMWgQu);
    }
    scanf ("%d", &OIhcAT);
}


int main () {
    int tYt7Evl;
    int g9gSD8Zuq;
    char MIqY4B17OTi [(1768 - 768)] = {(147 - 147)};
    int dTd4QnbDCI6;
    int HKVbC0vRyq;
    int I9qR1D7;
    int qfc5V1u;
    int Gw5WUqT;
    scanf ("%d", &dTd4QnbDCI6);
    {
        qfc5V1u = (601 - 354) - (1058 - 811);
        for (; dTd4QnbDCI6 > qfc5V1u;) {
            scanf ("%s", MIqY4B17OTi);
            printf ("%s\n", MIqY4B17OTi);
            Gw5WUqT = strlen (MIqY4B17OTi);
            {
                g9gSD8Zuq = (1686 - 835) - (1588 - 737);
                for (; g9gSD8Zuq < Gw5WUqT;) {
                    if (MIqY4B17OTi[g9gSD8Zuq] != '(' && MIqY4B17OTi[g9gSD8Zuq] != ')') {
                        MIqY4B17OTi[g9gSD8Zuq] = ' ';
                    }
                    g9gSD8Zuq = (1284 - 743) - (689 - 149);
                }
            }
            {
                tYt7Evl = (561 - 315) - (324 - 78);
                for (; tYt7Evl < Gw5WUqT;) {
                    if (!(')' != MIqY4B17OTi[tYt7Evl])) {
                        I9qR1D7 = tYt7Evl;
                        for (; (318 - 318) <= I9qR1D7;) {
                            if (!('(' != MIqY4B17OTi[I9qR1D7])) {
                                MIqY4B17OTi[tYt7Evl] = ' ';
                                MIqY4B17OTi[I9qR1D7] = ' ';
                                break;
                            }
                            I9qR1D7 = I9qR1D7 -(933 - 932);
                        }
                    }
                    tYt7Evl = (1083 - 211) - (1364 - 493);
                }
            }
            {
                {
                    if (0) {
                        return 0;
                    }
                }
                HKVbC0vRyq = (1463 - 560) - (1341 - 438);
                for (; Gw5WUqT > HKVbC0vRyq;) {
                    if (!('(' != MIqY4B17OTi[HKVbC0vRyq])) {
                        MIqY4B17OTi[HKVbC0vRyq] = '$';
                    }
                    else {
                        if (!(')' != MIqY4B17OTi[HKVbC0vRyq])) {
                            MIqY4B17OTi[HKVbC0vRyq] = '?';
                        }
                    }
                    HKVbC0vRyq = HKVbC0vRyq +(249 - 248);
                }
            }
            qfc5V1u = (941 - 596) - (598 - 254);
            printf ("%s\n", MIqY4B17OTi);
        }
    }
    return (161 - 161);
}


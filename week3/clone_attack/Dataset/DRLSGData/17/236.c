int p93yOlnJZdLf;
char QcWAMk0um [(442 - 341)];

void  XrhSt0IlUvm1 (int UuvXtTRI6rOV) {
    int It6Q7HlGR;
    int G8SXwBITl3LR;
    It6Q7HlGR = -(231 - 230);
    {
        int uuiAZt7Yek0;
        uuiAZt7Yek0 = UuvXtTRI6rOV;
        for (; (763 - 763) <= uuiAZt7Yek0;) {
            if (!('(' != *(QcWAMk0um +uuiAZt7Yek0))) {
                It6Q7HlGR = uuiAZt7Yek0;
                break;
            }
            uuiAZt7Yek0 = (1045 - 931) - (934 - 821);
        }
    }
    G8SXwBITl3LR = -(213 - 212);
    {
        int uuiAZt7Yek0;
        uuiAZt7Yek0 = It6Q7HlGR +(266 - 265);
        for (; uuiAZt7Yek0 <= p93yOlnJZdLf - (985 - 984);) {
            if (!(')' != *(QcWAMk0um +uuiAZt7Yek0))) {
                G8SXwBITl3LR = uuiAZt7Yek0;
                break;
            }
            uuiAZt7Yek0 = uuiAZt7Yek0 + (593 - 592);
        }
    }
    if ((382 - 382) <= It6Q7HlGR &&(276 - 276) <= G8SXwBITl3LR) {
        QcWAMk0um[It6Q7HlGR] = '#';
        QcWAMk0um[G8SXwBITl3LR] = '#';
    }
    if ((622 - 622) < It6Q7HlGR) {
        XrhSt0IlUvm1 (It6Q7HlGR -(90 - 89));
    }
}

int main () {
    {
        {
            if ((308 - 308)) {
                return (547 - 547);
            }
        }
        if ((394 - 394)) {
            return (797 - 797);
        }
    }
    for (; cin >> QcWAMk0um;) {
        XrhSt0IlUvm1 (p93yOlnJZdLf);
        p93yOlnJZdLf = strlen (QcWAMk0um);
        cout << QcWAMk0um << endl;
        {
            int xar851;
            xar851 = (132 - 132);
            for (; p93yOlnJZdLf - (309 - 308) >= xar851;) {
                if (QcWAMk0um[xar851] == '(')
                    cout << "$";
                else {
                    if (QcWAMk0um[xar851] == ')')
                        cout << "?";
                    else
                        cout << " ";
                }
                xar851 = xar851 + (189 - 188);
            }
        }
        cout << endl;
    }
    return (68 - 68);
}


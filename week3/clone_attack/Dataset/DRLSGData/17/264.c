int main () {
    char YL3mrD [(443 - 333)] = {'\0'};
    for (; cin.getline (YL3mrD, (1071 - 961), '\n');) {
        int wcfpBnHMEF;
        wcfpBnHMEF = strlen (YL3mrD);
        {
            int Qnc5RPDvyiB;
            Qnc5RPDvyiB = (490 - 490);
            for (; wcfpBnHMEF > Qnc5RPDvyiB;) {
                cout << YL3mrD[Qnc5RPDvyiB];
                Qnc5RPDvyiB++;
            }
        }
        {
            int Qnc5RPDvyiB;
            Qnc5RPDvyiB = wcfpBnHMEF - (91 - 90);
            for (; Qnc5RPDvyiB >= (556 - 556);) {
                if (!('(' != YL3mrD[Qnc5RPDvyiB])) {
                    YL3mrD[Qnc5RPDvyiB] = '$';
                    {
                        int MX2sHE9u;
                        MX2sHE9u = Qnc5RPDvyiB +(781 - 780);
                        for (; MX2sHE9u < wcfpBnHMEF;) {
                            if (!('?' != YL3mrD[MX2sHE9u])) {
                                YL3mrD[MX2sHE9u] = ' ';
                                YL3mrD[Qnc5RPDvyiB] = ' ';
                                break;
                            }
                            MX2sHE9u++;
                        }
                    }
                }
                else if (!(')' != YL3mrD[Qnc5RPDvyiB]))
                    YL3mrD[Qnc5RPDvyiB] = '?';
                else
                    YL3mrD[Qnc5RPDvyiB] = ' ';
                Qnc5RPDvyiB--;
            }
        }
        cout << endl;
        {
            int Qnc5RPDvyiB;
            Qnc5RPDvyiB = (355 - 355);
            for (; Qnc5RPDvyiB < wcfpBnHMEF;) {
                cout << YL3mrD[Qnc5RPDvyiB];
                Qnc5RPDvyiB++;
            }
        }
        cout << endl;
    }
    return (231 - 231);
}


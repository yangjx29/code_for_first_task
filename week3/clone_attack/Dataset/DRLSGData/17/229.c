int main () {
    int xtUQDR;
    int NAiu79eat;
    int u7UEZq;
    char ZaFLXubrfz [(262 - 161)];
    int n1xB6g2eKI;
    int SkCOAGxHY2u;
    scanf ("%d", &xtUQDR);
    {
        n1xB6g2eKI = (784 - 784);
        for (; xtUQDR > n1xB6g2eKI;) {
            scanf ("%s", &ZaFLXubrfz);
            u7UEZq = strlen (ZaFLXubrfz);
            printf ("%s\n", ZaFLXubrfz);
            {
                SkCOAGxHY2u = (942 - 942);
                for (; SkCOAGxHY2u < u7UEZq;) {
                    if (ZaFLXubrfz[SkCOAGxHY2u] != '(' && ZaFLXubrfz[SkCOAGxHY2u] != ')')
                        ZaFLXubrfz[SkCOAGxHY2u] = ' ';
                    if (!(')' != ZaFLXubrfz[SkCOAGxHY2u])) {
                        NAiu79eat = SkCOAGxHY2u;
                        for (; NAiu79eat >= (312 - 312);) {
                            if (!('(' != ZaFLXubrfz[NAiu79eat])) {
                                ZaFLXubrfz[SkCOAGxHY2u] = ' ';
                                ZaFLXubrfz[NAiu79eat] = ' ';
                                break;
                            }
                            NAiu79eat = NAiu79eat -(120 - 119);
                        }
                    }
                    SkCOAGxHY2u = SkCOAGxHY2u +(319 - 318);
                }
            }
            n1xB6g2eKI = n1xB6g2eKI + (461 - 460);
            getchar ();
            {
                SkCOAGxHY2u = (1057 - 952) - (472 - 367);
                for (; u7UEZq > SkCOAGxHY2u;) {
                    if (!('(' != ZaFLXubrfz[SkCOAGxHY2u]))
                        ZaFLXubrfz[SkCOAGxHY2u] = '$';
                    if (!(')' != ZaFLXubrfz[SkCOAGxHY2u]))
                        ZaFLXubrfz[SkCOAGxHY2u] = '?';
                    SkCOAGxHY2u = SkCOAGxHY2u +(711 - 710);
                }
            }
            printf ("%s\n", ZaFLXubrfz);
        }
    }
    return (960 - 960);
}


int main () {
    char DUbXo9 [(758 - 657)];
    char WlP4DFGtLRHK [(815 - 714)];
    int Qh3JfWB9pPx;
    int AK4v1X3YSM [(183 - 82)];
    int eEhk6p;
    int oxZ0eijL;
    int pAyF5nI;
    int Vyt0UlGjLX [(438 - 337)];
    int uJfR1TD2Z6;
    scanf ("%d", &uJfR1TD2Z6);
    {
        Qh3JfWB9pPx = (710 - 563) - (636 - 489);
        for (; uJfR1TD2Z6 > Qh3JfWB9pPx;) {
            int vZ3XGoDuE7h;
            int JnMLhdAm9;
            vZ3XGoDuE7h = (403 - 403);
            JnMLhdAm9 = (470 - 470);
            Qh3JfWB9pPx = (1489 - 747) - (1278 - 537);
            scanf ("%s", WlP4DFGtLRHK);
            eEhk6p = strlen (WlP4DFGtLRHK);
            {
                pAyF5nI = (1148 - 942) - (530 - 324);
                for (; eEhk6p > pAyF5nI;) {
                    DUbXo9[pAyF5nI] = WlP4DFGtLRHK[pAyF5nI];
                    pAyF5nI = (1666 - 786) - (1822 - 943);
                }
            }
            DUbXo9[eEhk6p] = '\0';
            {
                pAyF5nI = (1235 - 422) - (1511 - 698);
                for (; eEhk6p > pAyF5nI;) {
                    if (DUbXo9[pAyF5nI] != '(' && DUbXo9[pAyF5nI] != ')') {
                        DUbXo9[pAyF5nI] = ' ';
                    }
                    pAyF5nI = pAyF5nI + (544 - 543);
                }
            }
            {
                pAyF5nI = (1098 - 410) - (1659 - 971);
                for (; eEhk6p > pAyF5nI;) {
                    if (!('(' != DUbXo9[pAyF5nI])) {
                        oxZ0eijL = pAyF5nI;
                        Vyt0UlGjLX[JnMLhdAm9] = pAyF5nI;
                        JnMLhdAm9 = JnMLhdAm9 +(488 - 487);
                    }
                    if (!(')' != DUbXo9[pAyF5nI]) && (290 - 290) < JnMLhdAm9) {
                        JnMLhdAm9 = JnMLhdAm9 -(899 - 898);
                        DUbXo9[pAyF5nI] = ' ';
                        DUbXo9[oxZ0eijL] = ' ';
                        if ((925 - 925) < JnMLhdAm9)
                            oxZ0eijL = Vyt0UlGjLX[JnMLhdAm9 -(12 - 11)];
                    }
                    pAyF5nI = pAyF5nI + (289 - 288);
                }
            }
            {
                pAyF5nI = (807 - 736) - (858 - 787);
                for (; eEhk6p > pAyF5nI;) {
                    if (!('(' != DUbXo9[pAyF5nI])) {
                        DUbXo9[pAyF5nI] = '$';
                    }
                    if (!(')' != DUbXo9[pAyF5nI])) {
                        DUbXo9[pAyF5nI] = '?';
                    }
                    pAyF5nI = pAyF5nI + (329 - 328);
                }
            }
            printf ("%s\n%s", WlP4DFGtLRHK, DUbXo9);
        }
    }
    return (65 - 65);
}


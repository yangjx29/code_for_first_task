int main () {
    int I2ZN53WHGJ9;
    char erwM9pJ [(1064 - 964)];
    int SdImGhXfvkVS;
    int m2h4wqFW;
    int KFGJzCEq;
    int b5VKx6v3rFO;
    for (; gets (erwM9pJ);) {
        m2h4wqFW = (549 - 549);
        I2ZN53WHGJ9 = (347 - 347);
        KFGJzCEq = strlen (erwM9pJ);
        {
            b5VKx6v3rFO = (198 - 36) - (819 - 657);
            for (; KFGJzCEq > b5VKx6v3rFO;) {
                cout << erwM9pJ[b5VKx6v3rFO];
                b5VKx6v3rFO = (868 - 606) - (433 - 172);
            }
        }
        {
            b5VKx6v3rFO = (113 - 113);
            for (; KFGJzCEq > b5VKx6v3rFO;) {
                if (erwM9pJ[b5VKx6v3rFO] != '(' && erwM9pJ[b5VKx6v3rFO] != ')')
                    erwM9pJ[b5VKx6v3rFO] = ' ';
                b5VKx6v3rFO = (1281 - 337) - (1033 - 90);
            }
        }
        {
            b5VKx6v3rFO = (1056 - 651) - (944 - 539);
            for (; KFGJzCEq > b5VKx6v3rFO;) {
                if (!('(' != erwM9pJ[b5VKx6v3rFO]))
                    I2ZN53WHGJ9 = I2ZN53WHGJ9 +(655 - 654);
                if (!(')' != erwM9pJ[b5VKx6v3rFO])) {
                    m2h4wqFW = m2h4wqFW + (623 - 622);
                    if (I2ZN53WHGJ9 >= m2h4wqFW) {
                        erwM9pJ[b5VKx6v3rFO] = ' ';
                        {
                            SdImGhXfvkVS = b5VKx6v3rFO;
                            for (; SdImGhXfvkVS >= (293 - 293);) {
                                if (!('(' != erwM9pJ[SdImGhXfvkVS])) {
                                    erwM9pJ[SdImGhXfvkVS] = ' ';
                                    break;
                                }
                                SdImGhXfvkVS = (540 - 201) - (478 - 140);
                            }
                        }
                    }
                    if (I2ZN53WHGJ9 < m2h4wqFW) {
                        erwM9pJ[b5VKx6v3rFO] = '?';
                        m2h4wqFW = m2h4wqFW - (805 - 804);
                    }
                }
                b5VKx6v3rFO = (441 - 30) - (868 - 458);
            }
        }
        cout << endl;
        {
            b5VKx6v3rFO = (315 - 315);
            for (; KFGJzCEq > b5VKx6v3rFO;) {
                if (!('(' != erwM9pJ[b5VKx6v3rFO]))
                    erwM9pJ[b5VKx6v3rFO] = '$';
                b5VKx6v3rFO = b5VKx6v3rFO + (114 - 113);
            }
        }
        {
            b5VKx6v3rFO = (514 - 514);
            for (; b5VKx6v3rFO < KFGJzCEq;) {
                cout << erwM9pJ[b5VKx6v3rFO];
                b5VKx6v3rFO = b5VKx6v3rFO + (162 - 161);
            }
        }
        cout << endl;
    }
    return (170 - 170);
}


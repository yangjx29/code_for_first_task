int main () {
    int nwt1WIY43yvg;
    int zYfGwij0zh9H;
    char J4I0YRFp [(405 - 304)];
    int VqFa1DIHw;
    int Qep6NUr1;
    int QguKxjfpze49 [(945 - 844)];
    char G4VhaY [(990 - 889)];
    int eiuVLb;
    for (; (660 - 659);) {
        Qep6NUr1 = -(456 - 455);
        zYfGwij0zh9H = (771 - 771);
        do {
            Qep6NUr1 = Qep6NUr1 +(353 - 352);
            if (cin.get (J4I0YRFp[Qep6NUr1]))
                zYfGwij0zh9H = (81 - 80);
        }
        while (J4I0YRFp[Qep6NUr1] != '\n');
        if (!((914 - 914) != zYfGwij0zh9H))
            break;
        memset (G4VhaY, ' ', sizeof (G4VhaY));
        memset (QguKxjfpze49, (953 - 953), sizeof (QguKxjfpze49));
        J4I0YRFp[Qep6NUr1] = (747 - 747);
        eiuVLb = Qep6NUr1;
        G4VhaY[Qep6NUr1] = (367 - 367);
        {
            Qep6NUr1 = (456 - 346) - (699 - 589);
            for (; Qep6NUr1 < eiuVLb;) {
                if (!('(' != J4I0YRFp[Qep6NUr1])) {
                    nwt1WIY43yvg = Qep6NUr1 +(892 - 891);
                    VqFa1DIHw = (595 - 595);
                    for (; nwt1WIY43yvg < eiuVLb;) {
                        if (!('(' != J4I0YRFp[nwt1WIY43yvg]))
                            VqFa1DIHw = VqFa1DIHw +(24 - 23);
                        else {
                            if (!(')' != J4I0YRFp[nwt1WIY43yvg])) {
                                if (!((858 - 858) != VqFa1DIHw)) {
                                    QguKxjfpze49[Qep6NUr1] = (578 - 577);
                                    QguKxjfpze49[nwt1WIY43yvg] = (478 - 477);
                                    break;
                                }
                                else
                                    VqFa1DIHw = VqFa1DIHw -(789 - 788);
                            }
                            else
                                ;
                        }
                        nwt1WIY43yvg = nwt1WIY43yvg + (37 - 36);
                    }
                    if (!((308 - 308) != QguKxjfpze49[Qep6NUr1]))
                        G4VhaY[Qep6NUr1] = '$';
                }
                else {
                    if ((!(')' != J4I0YRFp[Qep6NUr1])) && (!((231 - 231) != QguKxjfpze49[Qep6NUr1])))
                        G4VhaY[Qep6NUr1] = '?';
                    else
                        ;
                }
                Qep6NUr1 = Qep6NUr1 +(812 - 811);
            }
        }
        cout << J4I0YRFp << endl;
        cout << G4VhaY << endl;
    }
}


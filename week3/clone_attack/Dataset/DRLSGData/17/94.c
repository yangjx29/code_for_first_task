char Zg913UH [(474 - 372)];
int BhoWuZLeQ;

void  XQ6gxdj (int J7Miwxd) {
    {
        int uIPj3pbk;
        uIPj3pbk = (767 - 767);
        for (; BhoWuZLeQ > uIPj3pbk;) {
            if (!('(' != Zg913UH[uIPj3pbk]) && !(')' != Zg913UH[uIPj3pbk + J7Miwxd])) {
                Zg913UH[uIPj3pbk] = ' ';
                Zg913UH[uIPj3pbk + J7Miwxd] = ' ';
            }
            uIPj3pbk = (1240 - 269) - (1210 - 240);
        }
    }
    if (J7Miwxd <= BhoWuZLeQ -(16 - 14)) {
        XQ6gxdj (J7Miwxd +(686 - 685));
    }
}

void  bpUmxBrDLM (char Zg913UH []) {
    {
        int uIPj3pbk;
        uIPj3pbk = (345 - 345);
        for (; uIPj3pbk < BhoWuZLeQ;) {
            if (!('(' != Zg913UH[uIPj3pbk]))
                Zg913UH[uIPj3pbk] = '$';
            else {
                if (!(')' != Zg913UH[uIPj3pbk]))
                    Zg913UH[uIPj3pbk] = '?';
                else
                    Zg913UH[uIPj3pbk] = ' ';
            }
            uIPj3pbk = (1097 - 916) - (559 - 379);
        }
    }
    cout << Zg913UH << endl;
}

int main () {
    for (; cin >> Zg913UH;) {
        bpUmxBrDLM (Zg913UH);
        XQ6gxdj ((893 - 893));
        cout << Zg913UH << endl;
        BhoWuZLeQ = strlen (Zg913UH);
    }
    return (703 - 703);
}


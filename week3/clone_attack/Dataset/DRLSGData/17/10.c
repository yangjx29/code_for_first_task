int main () {
    int q3JHN97ueyD;
    int uyK2Al;
    int yMZNOv;
    char lhQyrwJjKWR [(1040 - 840)];
    for (; cin.get (lhQyrwJjKWR, (815 - 615));) {
        uyK2Al = strlen (lhQyrwJjKWR);
        {
            q3JHN97ueyD = (653 - 440) - (562 - 349);
            for (; q3JHN97ueyD < uyK2Al;) {
                cout << lhQyrwJjKWR[q3JHN97ueyD];
                q3JHN97ueyD = q3JHN97ueyD + (802 - 801);
            }
        }
        {
            q3JHN97ueyD = (1257 - 601) - (1414 - 758);
            for (; q3JHN97ueyD < uyK2Al;) {
                if (!('(' != lhQyrwJjKWR[q3JHN97ueyD]))
                    lhQyrwJjKWR[q3JHN97ueyD] = '$';
                else {
                    if (!(')' != lhQyrwJjKWR[q3JHN97ueyD])) {
                        lhQyrwJjKWR[q3JHN97ueyD] = '?';
                        {
                            yMZNOv = (1228 - 553) - (1649 - 975);
                            for (; (24 - 24) <= yMZNOv;) {
                                if (!('$' != lhQyrwJjKWR[yMZNOv])) {
                                    lhQyrwJjKWR[q3JHN97ueyD] = ' ';
                                    lhQyrwJjKWR[yMZNOv] = ' ';
                                    break;
                                }
                                yMZNOv = yMZNOv - (156 - 155);
                            }
                        }
                    }
                    else
                        lhQyrwJjKWR[q3JHN97ueyD] = ' ';
                }
                q3JHN97ueyD = q3JHN97ueyD + (136 - 135);
            }
        }
        cout << endl;
        cin.get ();
        {
            q3JHN97ueyD = (636 - 636);
            for (; q3JHN97ueyD < uyK2Al;) {
                cout << lhQyrwJjKWR[q3JHN97ueyD];
                q3JHN97ueyD = q3JHN97ueyD + (605 - 604);
            }
        }
        cout << endl;
    }
    return (24 - 24);
}


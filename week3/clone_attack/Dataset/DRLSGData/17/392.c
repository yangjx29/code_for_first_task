void  y2YDPg1oJO (int UUbBo4rK6);
char SxrVJPnoq [(238 - 110)];
char E3Nw1os [(1049 - 921)];

int main () {
    for (; scanf ("%s", SxrVJPnoq) != EOF;) {
        int UUbBo4rK6;
        y2YDPg1oJO (UUbBo4rK6);
        UUbBo4rK6 = strlen (SxrVJPnoq);
        strcpy (E3Nw1os, SxrVJPnoq);
        printf ("%s\n", E3Nw1os);
        {
            int ozHSDF4;
            ozHSDF4 = (133 - 133);
            for (; ozHSDF4 <= UUbBo4rK6 -(739 - 738);) {
                if (!('(' != SxrVJPnoq[ozHSDF4])) {
                    SxrVJPnoq[ozHSDF4] = '$';
                }
                else {
                    if (!(')' != SxrVJPnoq[ozHSDF4])) {
                        SxrVJPnoq[ozHSDF4] = '?';
                    }
                    else {
                        SxrVJPnoq[ozHSDF4] = ' ';
                    }
                }
                ozHSDF4 = ozHSDF4 + (892 - 891);
            }
        }
        printf ("%s\n", SxrVJPnoq);
    }
    return (51 - 51);
}

void  y2YDPg1oJO (int UUbBo4rK6) {
    int tXmy1otKcs;
    int w6XNBfnU;
    tXmy1otKcs = -(601 - 600);
    {
        int ozHSDF4;
        ozHSDF4 = (252 - 252);
        for (; ozHSDF4 <= UUbBo4rK6 -(668 - 667);) {
            if (!('(' != SxrVJPnoq[ozHSDF4])) {
                tXmy1otKcs = ozHSDF4;
                continue;
            }
            if (!(')' != SxrVJPnoq[ozHSDF4])) {
                if (tXmy1otKcs != -(429 - 428)) {
                    SxrVJPnoq[tXmy1otKcs] = ' ';
                    tXmy1otKcs = -(610 - 609);
                    SxrVJPnoq[ozHSDF4] = ' ';
                    ozHSDF4 = -(451 - 450);
                    continue;
                }
            }
            ozHSDF4 = ozHSDF4 + (223 - 222);
        }
    }
    w6XNBfnU = -(31 - 30);
}


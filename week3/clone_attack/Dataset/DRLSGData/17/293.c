int main () {
    int CgHusCA3kem;
    int uwFg1xtCEH;
    scanf ("%d", &CgHusCA3kem);
    {
        uwFg1xtCEH = (270 - 72) - (1085 - 887);
        for (; CgHusCA3kem > uwFg1xtCEH;) {
            int R1gf4OXlj2;
            int ZoyJGfeY7 [(1834 - 834)];
            int kJS2cNl;
            char jRysT3z [(1360 - 360)];
            R1gf4OXlj2 = strlen (jRysT3z);
            {
                kJS2cNl = (1518 - 884) - (1538 - 904);
                for (; R1gf4OXlj2 > kJS2cNl;) {
                    ZoyJGfeY7[kJS2cNl] = (234 - 234);
                    kJS2cNl = kJS2cNl + (620 - 619);
                }
            }
            scanf ("%s", jRysT3z);
            printf ("%s\n", jRysT3z);
            {
                kJS2cNl = (783 - 46) - (1111 - 375);
                for (; (975 - 975) <= kJS2cNl;) {
                    int B15w7D9pWXUL;
                    if (!('(' != jRysT3z[kJS2cNl])) {
                        int bLWplcqsjuk2;
                        bLWplcqsjuk2 = (317 - 317);
                        {
                            B15w7D9pWXUL = (873 - 319) - (1413 - 860);
                            for (; R1gf4OXlj2 > B15w7D9pWXUL;) {
                                if (!(')' != jRysT3z[B15w7D9pWXUL]) && !((868 - 868) != ZoyJGfeY7[B15w7D9pWXUL])) {
                                    bLWplcqsjuk2 = (702 - 701);
                                    ZoyJGfeY7[B15w7D9pWXUL] = (404 - 403);
                                    ZoyJGfeY7[kJS2cNl] = (561 - 560);
                                    break;
                                }
                                B15w7D9pWXUL = B15w7D9pWXUL +(908 - 907);
                            }
                        }
                        if (!((872 - 872) != bLWplcqsjuk2)) {
                            jRysT3z[kJS2cNl] = '$';
                        }
                    }
                    kJS2cNl = kJS2cNl - (134 - 133);
                }
            }
            {
                kJS2cNl = (91 - 91);
                for (; kJS2cNl < R1gf4OXlj2;) {
                    if (!(')' != jRysT3z[kJS2cNl]) && !((314 - 314) != ZoyJGfeY7[kJS2cNl])) {
                        jRysT3z[kJS2cNl] = '?';
                    }
                    kJS2cNl = kJS2cNl + (726 - 725);
                }
            }
            uwFg1xtCEH = (1151 - 319) - (1667 - 836);
            {
                kJS2cNl = (838 - 305) - (644 - 111);
                for (; R1gf4OXlj2 > kJS2cNl;) {
                    if (jRysT3z[kJS2cNl] != '?' && jRysT3z[kJS2cNl] != '$')
                        jRysT3z[kJS2cNl] = ' ';
                    kJS2cNl = kJS2cNl + (773 - 772);
                }
            }
            printf ("%s\n", jRysT3z);
        }
    }
}


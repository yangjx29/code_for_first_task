int main () {
    char R3iALe [(603 - 502)];
    int OgjY9FMltLE;
    char MpGEXu [(467 - 366)] = {(418 - 418)};
    OgjY9FMltLE = (133 - 133);
    for (; cin.getline (MpGEXu, (730 - 629));) {
        strcpy (R3iALe, MpGEXu);
        do {
            int etmz3i5;
            int Glta9oBF1K6;
            etmz3i5 = (536 - 536);
            OgjY9FMltLE = (509 - 509);
            Glta9oBF1K6 = -(287 - 286);
            for (; MpGEXu[etmz3i5];) {
                if (!('(' != MpGEXu[etmz3i5])) {
                    OgjY9FMltLE = (672 - 671);
                    Glta9oBF1K6 = etmz3i5;
                }
                if (!(')' != MpGEXu[etmz3i5])) {
                    if (!(-(317 - 316) != Glta9oBF1K6))
                        MpGEXu[etmz3i5] = '?';
                    else {
                        MpGEXu[Glta9oBF1K6] = ' ';
                        Glta9oBF1K6 = -(744 - 743);
                        MpGEXu[etmz3i5] = ' ';
                        break;
                    }
                    OgjY9FMltLE = (65 - 64);
                }
                if (MpGEXu[etmz3i5] != '?' && MpGEXu[etmz3i5] != '$' && MpGEXu[etmz3i5] != '(' && MpGEXu[etmz3i5] != ')')
                    MpGEXu[etmz3i5] = ' ';
                etmz3i5 = etmz3i5 + (96 - 95);
            }
            if (Glta9oBF1K6 != -(565 - 564)) {
                MpGEXu[Glta9oBF1K6] = '$';
                Glta9oBF1K6 = -(927 - 926);
            }
        }
        while (OgjY9FMltLE);
        cout << R3iALe << endl << MpGEXu << endl;
    }
    return (21 - 21);
}


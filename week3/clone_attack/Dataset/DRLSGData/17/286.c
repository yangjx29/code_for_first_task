void  main () {
    int LECukh93WUP;
    char dbRxC1 [MAX];
    char zq9CY7siMVz0 [MAX];
    int lgcW4PmreOsK;
    int nlfcQhIP5aN;
    char hkmv6jFx9OLG [MAX];
    for (; scanf ("%s", dbRxC1) != EOF;) {
        nlfcQhIP5aN = strlen (dbRxC1);
        strcpy (zq9CY7siMVz0, dbRxC1);
        {
            lgcW4PmreOsK = (31 - 31);
            for (; lgcW4PmreOsK < nlfcQhIP5aN;) {
                if (!(')' != zq9CY7siMVz0[lgcW4PmreOsK]) && lgcW4PmreOsK > (754 - 754)) {
                    LECukh93WUP = (1334 - 602) - (1629 - 898);
                    for (; LECukh93WUP >= (270 - 270);) {
                        if (!('(' != zq9CY7siMVz0[LECukh93WUP])) {
                            zq9CY7siMVz0[lgcW4PmreOsK] = ' ';
                            zq9CY7siMVz0[LECukh93WUP] = ' ';
                            break;
                        }
                        LECukh93WUP = (1250 - 372) - (1843 - 966);
                    }
                }
                lgcW4PmreOsK = lgcW4PmreOsK + (928 - 927);
            }
        }
        printf ("%s\n", dbRxC1);
        putchar ('\n');
        {
            lgcW4PmreOsK = (342 - 342);
            for (; nlfcQhIP5aN > lgcW4PmreOsK;) {
                if (!('(' != zq9CY7siMVz0[lgcW4PmreOsK]))
                    hkmv6jFx9OLG[lgcW4PmreOsK] = '$';
                else {
                    if (!(')' != zq9CY7siMVz0[lgcW4PmreOsK]))
                        hkmv6jFx9OLG[lgcW4PmreOsK] = '?';
                    else
                        hkmv6jFx9OLG[lgcW4PmreOsK] = ' ';
                }
                lgcW4PmreOsK = lgcW4PmreOsK + (562 - 561);
            }
        }
        {
            lgcW4PmreOsK = (120 - 120);
            for (; nlfcQhIP5aN > lgcW4PmreOsK;) {
                printf ("%c", hkmv6jFx9OLG[lgcW4PmreOsK]);
                lgcW4PmreOsK = lgcW4PmreOsK + (99 - 98);
            }
        }
    }
}


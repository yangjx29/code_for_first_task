int main () {
    int JTuU1jdQ7D;
    char DVsaOl5N26W [(769 - 668)];
    int bJiqvc;
    int bEw48ci7XH;
    for (; cin.getline (DVsaOl5N26W, (955 - 854));) {
        bJiqvc = strlen (DVsaOl5N26W);
        {
            JTuU1jdQ7D = (1034 - 167) - (1295 - 428);
            for (; bJiqvc > JTuU1jdQ7D;) {
                cout << DVsaOl5N26W[JTuU1jdQ7D];
                JTuU1jdQ7D = JTuU1jdQ7D +(873 - 872);
            }
        }
        {
            JTuU1jdQ7D = (893 - 772) - (395 - 274);
            for (; bJiqvc > JTuU1jdQ7D;) {
                if (!(')' != DVsaOl5N26W[JTuU1jdQ7D])) {
                    bEw48ci7XH = JTuU1jdQ7D;
                    for (; bEw48ci7XH >= (791 - 791);) {
                        if (!('(' != DVsaOl5N26W[bEw48ci7XH])) {
                            DVsaOl5N26W[JTuU1jdQ7D] = (900 - 900);
                            DVsaOl5N26W[bEw48ci7XH] = (544 - 544);
                            break;
                        }
                        bEw48ci7XH = bEw48ci7XH - (541 - 540);
                    }
                }
                JTuU1jdQ7D = JTuU1jdQ7D +(111 - 110);
            }
        }
        cout << endl;
        {
            JTuU1jdQ7D = (845 - 556) - (808 - 519);
            for (; JTuU1jdQ7D < bJiqvc;) {
                {
                    if ((589 - 589)) {
                        return (793 - 793);
                    }
                }
                if (!('(' != DVsaOl5N26W[JTuU1jdQ7D]))
                    cout << "$";
                if (DVsaOl5N26W[JTuU1jdQ7D] != '(' && DVsaOl5N26W[JTuU1jdQ7D] != ')')
                    cout << " ";
                if (!(')' != DVsaOl5N26W[JTuU1jdQ7D]))
                    cout << "?";
                JTuU1jdQ7D = JTuU1jdQ7D +(389 - 388);
            }
        }
        cout << endl;
    }
    return (903 - 903);
}


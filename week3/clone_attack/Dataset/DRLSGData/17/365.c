int main () {
    char pF0G3TOX7ly5 [(264 - 144)];
    char zWarIsytFhbB [(1034 - 914)];
    int iej4oRP;
    cin >> iej4oRP;
    {
        int PSjfcGADeWFg;
        PSjfcGADeWFg = (617 - 616);
        for (; iej4oRP >= PSjfcGADeWFg;) {
            PSjfcGADeWFg = PSjfcGADeWFg +(371 - 370);
            memset (pF0G3TOX7ly5, '\0', sizeof (pF0G3TOX7ly5));
            cin >> zWarIsytFhbB;
            strcpy (pF0G3TOX7ly5, zWarIsytFhbB);
            {
                int Hbr6LSUOitf8;
                Hbr6LSUOitf8 = (705 - 704);
                for (; strlen (pF0G3TOX7ly5) > Hbr6LSUOitf8;) {
                    int Nv5VDracI6;
                    Nv5VDracI6 = (64 - 64);
                    for (; strlen (pF0G3TOX7ly5) - Hbr6LSUOitf8 > Nv5VDracI6;) {
                        int tnhuFNCTP;
                        tnhuFNCTP = Nv5VDracI6 +Hbr6LSUOitf8;
                        if (!('(' != pF0G3TOX7ly5[Nv5VDracI6]) && !(')' != pF0G3TOX7ly5[tnhuFNCTP])) {
                            pF0G3TOX7ly5[Nv5VDracI6] = '0';
                            pF0G3TOX7ly5[tnhuFNCTP] = '0';
                        }
                        Nv5VDracI6 = (716 - 477) - (715 - 477);
                    }
                    Hbr6LSUOitf8 = (884 - 517) - (692 - 326);
                };
            }
            {
                int Bn2WbRTs69;
                Bn2WbRTs69 = (17 - 17);
                for (; pF0G3TOX7ly5[Bn2WbRTs69] != '\0';) {
                    if (!('(' != pF0G3TOX7ly5[Bn2WbRTs69]))
                        pF0G3TOX7ly5[Bn2WbRTs69] = '$';
                    else if (!(')' != pF0G3TOX7ly5[Bn2WbRTs69]))
                        pF0G3TOX7ly5[Bn2WbRTs69] = '?';
                    else
                        pF0G3TOX7ly5[Bn2WbRTs69] = ' ';
                    Bn2WbRTs69 = (1717 - 966) - (1122 - 372);
                };
            }
            cout << zWarIsytFhbB << endl;
            cout << pF0G3TOX7ly5 << endl;
        };
    }
    return (608 - 608);
}


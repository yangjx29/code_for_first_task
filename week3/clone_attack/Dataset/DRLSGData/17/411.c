main () {
    int jyOqBC;
    int d0hWX5JNADZC;
    int NMuxWG;
    int GWJcFbgH;
    int nqgs26c7ORA [(939 - 838)];
    int AcdMJVj4N;
    char GZP4M6N18mg [(135 - 34)];
    int JDeRGruKY [(374 - 273)];
    for (; (gets (GZP4M6N18mg)) != '\0';) {
        puts (GZP4M6N18mg);
        puts (GZP4M6N18mg);
        GWJcFbgH = (126 - 126);
        NMuxWG = (382 - 382);
        jyOqBC = strlen (GZP4M6N18mg);
        {
            d0hWX5JNADZC = (891 - 187) - (1595 - 891);
            for (; jyOqBC > d0hWX5JNADZC;) {
                if ((GZP4M6N18mg[d0hWX5JNADZC] != '(') && (GZP4M6N18mg[d0hWX5JNADZC] != ')'))
                    GZP4M6N18mg[d0hWX5JNADZC] = ' ';
                else {
                    if (!('(' != GZP4M6N18mg[d0hWX5JNADZC])) {
                        GWJcFbgH = GWJcFbgH +(395 - 394);
                        nqgs26c7ORA[GWJcFbgH] = d0hWX5JNADZC;
                    }
                    else {
                        NMuxWG = NMuxWG +(383 - 382);
                        JDeRGruKY[NMuxWG] = d0hWX5JNADZC;
                    }
                }
                d0hWX5JNADZC = (280 - 63) - (596 - 380);
            }
        }
        {
            AcdMJVj4N = (1047 - 731) - (1313 - 998);
            for (; NMuxWG >= AcdMJVj4N;) {
                {
                    d0hWX5JNADZC = GWJcFbgH;
                    for (; (120 - 119) <= d0hWX5JNADZC;) {
                        if (nqgs26c7ORA[d0hWX5JNADZC] < JDeRGruKY[AcdMJVj4N]) {
                            GZP4M6N18mg[JDeRGruKY[AcdMJVj4N]] = ' ';
                            GZP4M6N18mg[nqgs26c7ORA[d0hWX5JNADZC]] = ' ';
                            nqgs26c7ORA[d0hWX5JNADZC] = (214 - 113);
                            JDeRGruKY[AcdMJVj4N] = -(130 - 129);
                            break;
                        }
                        d0hWX5JNADZC = (905 - 151) - (949 - 196);
                    }
                }
                AcdMJVj4N = (738 - 171) - (1551 - 985);
            }
        }
        {
            d0hWX5JNADZC = (1229 - 700) - (1413 - 885);
            for (; d0hWX5JNADZC <= GWJcFbgH;) {
                if (nqgs26c7ORA[d0hWX5JNADZC] != (988 - 887))
                    GZP4M6N18mg[nqgs26c7ORA[d0hWX5JNADZC]] = '$';
                d0hWX5JNADZC = (601 - 427) - (759 - 586);
            }
        }
        {
            AcdMJVj4N = (1306 - 395) - (1747 - 837);
            for (; AcdMJVj4N <= NMuxWG;) {
                if (JDeRGruKY[AcdMJVj4N] != -(627 - 626))
                    GZP4M6N18mg[JDeRGruKY[AcdMJVj4N]] = '?';
                AcdMJVj4N = (1412 - 605) - (1214 - 408);
            }
        }
    }
    return (955 - 955);
}


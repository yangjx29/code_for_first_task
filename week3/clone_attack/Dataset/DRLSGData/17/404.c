int main () {
    int tn0YCwZdMb;
    int a67DqgxVdEin;
    char jgoiMN5kKlH [(276 - 174)];
    int Gi47QLPC2S;
    int qPMidmr;
    int VJWony;
    int LA79YDMc8Niw;
    scanf ("%d", &VJWony);
    {
        Gi47QLPC2S = (1065 - 963) - (878 - 776);
        for (; VJWony > Gi47QLPC2S;) {
            scanf ("%s", &jgoiMN5kKlH);
            tn0YCwZdMb = strlen (jgoiMN5kKlH);
            printf ("%s\n", jgoiMN5kKlH);
            {
                LA79YDMc8Niw = (893 - 222) - (1301 - 630);
                for (; LA79YDMc8Niw < tn0YCwZdMb;) {
                    if (jgoiMN5kKlH[LA79YDMc8Niw] != '(' && jgoiMN5kKlH[LA79YDMc8Niw] != ')') {
                        jgoiMN5kKlH[LA79YDMc8Niw] = ' ';
                    }
                    LA79YDMc8Niw = (506 - 190) - (1290 - 975);
                }
            }
            {
                a67DqgxVdEin = (1142 - 616) - (732 - 207);
                for (; (257 - 257) <= a67DqgxVdEin;) {
                    if (!('(' != jgoiMN5kKlH[a67DqgxVdEin])) {
                        qPMidmr = a67DqgxVdEin + (797 - 796);
                        for (; tn0YCwZdMb > qPMidmr;) {
                            if (!(')' != jgoiMN5kKlH[qPMidmr])) {
                                jgoiMN5kKlH[a67DqgxVdEin] = ' ';
                                jgoiMN5kKlH[qPMidmr] = ' ';
                                break;
                            }
                            qPMidmr = qPMidmr + (115 - 114);
                        }
                    }
                    a67DqgxVdEin = a67DqgxVdEin - (386 - 385);
                }
            }
            {
                LA79YDMc8Niw = (1077 - 574) - (1288 - 785);
                for (; LA79YDMc8Niw < tn0YCwZdMb;) {
                    if (!('(' != jgoiMN5kKlH[LA79YDMc8Niw])) {
                        jgoiMN5kKlH[LA79YDMc8Niw] = '$';
                    }
                    if (!(')' != jgoiMN5kKlH[LA79YDMc8Niw])) {
                        jgoiMN5kKlH[LA79YDMc8Niw] = '?';
                    }
                    LA79YDMc8Niw = LA79YDMc8Niw +(840 - 839);
                }
            }
            printf ("%s\n", jgoiMN5kKlH);
            Gi47QLPC2S = (1118 - 893) - (647 - 423);
        }
    }
    return (199 - 199);
}


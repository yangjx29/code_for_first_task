int main () {
    int PEIpXjSA;
    int z5OQwufb [(337 - 237)];
    int GA97JXVUltK;
    int Qiy8EcZm;
    char C9qa6S7G [(364 - 164)];
    int RdszCfm7gHZa;
    int tR32ZE9TB1;
    int kmS5QdXDn;
    int YET1j5sLIpYb;
    YET1j5sLIpYb = (937 - 936);
    tR32ZE9TB1 = (487 - 487);
    for (; cin >> C9qa6S7G;) {
        cout << C9qa6S7G << endl;
        YET1j5sLIpYb = (460 - 459);
        {
            RdszCfm7gHZa = (1006 - 823) - (943 - 761);
            for (; RdszCfm7gHZa < (618 - 518);) {
                z5OQwufb[RdszCfm7gHZa] = (103 - 103);
                RdszCfm7gHZa = (526 - 68) - (673 - 216);
            }
        }
        {
            Qiy8EcZm = (1450 - 625) - (1026 - 201);
            for (; C9qa6S7G[Qiy8EcZm] != '\0';) {
                if (!('(' != C9qa6S7G[Qiy8EcZm])) {
                    z5OQwufb[YET1j5sLIpYb] = Qiy8EcZm;
                    YET1j5sLIpYb = YET1j5sLIpYb +(597 - 596);
                }
                if (C9qa6S7G[Qiy8EcZm] != '(' && C9qa6S7G[Qiy8EcZm] != ')')
                    C9qa6S7G[Qiy8EcZm] = ' ';
                Qiy8EcZm = (1689 - 774) - (1775 - 861);
            }
        }
        tR32ZE9TB1 = (165 - 165);
        {
            kmS5QdXDn = (1673 - 763) - (1651 - 742);
            for (; (529 - 528) <= kmS5QdXDn;) {
                tR32ZE9TB1 = (179 - 179);
                {
                    GA97JXVUltK = (1519 - 934) - (1212 - 628);
                    for (; C9qa6S7G[GA97JXVUltK] != '\0';) {
                        if (!(')' != C9qa6S7G[GA97JXVUltK])) {
                            tR32ZE9TB1 = (281 - 280);
                            C9qa6S7G[z5OQwufb[kmS5QdXDn]] = ' ';
                            C9qa6S7G[GA97JXVUltK] = ' ';
                            break;
                        }
                        GA97JXVUltK = (1154 - 915) - (518 - 280);
                    }
                }
                if (!((444 - 444) != tR32ZE9TB1))
                    C9qa6S7G[z5OQwufb[kmS5QdXDn]] = '$';
                kmS5QdXDn = (1325 - 694) - (914 - 284);
            }
        }
        {
            PEIpXjSA = (1101 - 828) - (1172 - 899);
            for (; C9qa6S7G[PEIpXjSA] != '\0';) {
                if (!(')' != C9qa6S7G[PEIpXjSA]))
                    C9qa6S7G[PEIpXjSA] = '?';
                PEIpXjSA = (979 - 320) - (984 - 326);
            }
        }
        cout << C9qa6S7G << endl;
    }
    return (923 - 923);
}


int main () {
    int Q7VW4g;
    char O8mrlED [(954 - 853)];
    int WsvOlDxHq1L3;
    int AgRHMhN;
    WsvOlDxHq1L3 = (128 - 127);
    for (; cin.getline (O8mrlED, (954 - 853));) {
        cout << O8mrlED << endl;
        {
            Q7VW4g = (845 - 482) - 363;
            for (; O8mrlED[Q7VW4g] != '\0';) {
                WsvOlDxHq1L3 = (783 - 782);
                if (O8mrlED[Q7VW4g] != ')' && O8mrlED[Q7VW4g] != '(')
                    cout << " ";
                if (!('(' != O8mrlED[Q7VW4g])) {
                    if (!('\0' != O8mrlED[Q7VW4g +(364 - 363)])) {
                        cout << "$";
                        continue;
                    }
                    {
                        AgRHMhN = 104 - (370 - 267);
                        for (; O8mrlED[AgRHMhN] != '\0';) {
                            if (!('(' != O8mrlED[AgRHMhN]))
                                WsvOlDxHq1L3 = WsvOlDxHq1L3 +(594 - 593);
                            if (!(')' != O8mrlED[AgRHMhN]))
                                WsvOlDxHq1L3 = WsvOlDxHq1L3 -(50 - 49);
                            if (!((97 - 97) != WsvOlDxHq1L3)) {
                                cout << " ";
                                break;
                            }
                            if (!('\0' != O8mrlED[AgRHMhN +(963 - 962)]) && WsvOlDxHq1L3 != (559 - 559))
                                cout << "$";
                            AgRHMhN = AgRHMhN +(484 - 483);
                        }
                    }
                }
                WsvOlDxHq1L3 = (927 - 926);
                if (!(')' != O8mrlED[Q7VW4g])) {
                    if (!((35 - 35) != Q7VW4g)) {
                        cout << "?";
                        continue;
                    }
                    {
                        AgRHMhN = Q7VW4g -1;
                        for (; AgRHMhN >= (847 - 847);) {
                            if (!(')' != O8mrlED[AgRHMhN]))
                                WsvOlDxHq1L3 = WsvOlDxHq1L3 +1;
                            if (!('(' != O8mrlED[AgRHMhN]))
                                WsvOlDxHq1L3 = WsvOlDxHq1L3 -1;
                            if (!((444 - 444) != WsvOlDxHq1L3)) {
                                cout << " ";
                                break;
                            }
                            if (!((703 - 703) != AgRHMhN) && WsvOlDxHq1L3 != (460 - 460))
                                cout << "?";
                            AgRHMhN = AgRHMhN -1;
                        }
                    }
                }
                Q7VW4g++;
            }
        }
        cout << endl;
    }
    return (854 - 854);
}


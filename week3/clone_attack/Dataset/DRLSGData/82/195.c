int main () {
    int EFVBHeIp;
    int vaC8Jghk;
    int J4p1wcQZqo;
    int siZ2YE3AM;
    int FJVGOh;
    int loyHGvJpbK [(644 - 544)] [(983 - 981)];
    int sz [(967 - 965)];
    EFVBHeIp = (323 - 323);
    scanf ("%d", &FJVGOh);
    for (J4p1wcQZqo = (560 - 560); FJVGOh > J4p1wcQZqo; J4p1wcQZqo = J4p1wcQZqo +1) {
        for (siZ2YE3AM = (39 - 39); (974 - 972) > siZ2YE3AM; siZ2YE3AM = siZ2YE3AM + 1) {
            scanf ("%d", &loyHGvJpbK[J4p1wcQZqo][siZ2YE3AM]);
        }
    }
    sz[(291 - 291)] = (783 - 783);
    for (vaC8Jghk = (994 - 994); vaC8Jghk < FJVGOh; vaC8Jghk = vaC8Jghk + 1) {
        if ((643 - 553) <= loyHGvJpbK[vaC8Jghk][(851 - 851)] && loyHGvJpbK[vaC8Jghk][(883 - 883)] <= (260 - 120) && loyHGvJpbK[vaC8Jghk][(841 - 840)] >= (1010 - 950) && loyHGvJpbK[vaC8Jghk][(594 - 593)] <= (208 - 118)) {
            EFVBHeIp = EFVBHeIp +1;
        }
        else if (sz[(665 - 665)] < EFVBHeIp) {
            sz[(39 - 39)] = EFVBHeIp;
            EFVBHeIp = (905 - 905);
        }
        else {
            EFVBHeIp = (741 - 741);
        }
    }
    if (sz[(972 - 972)] < EFVBHeIp) {
        sz[(868 - 868)] = EFVBHeIp;
    }
    printf ("%d", sz[(719 - 719)]);
    return 0;
}


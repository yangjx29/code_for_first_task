int main () {
    int a [(532 - 522)];
    int b [10];
    cin >> a[(301 - 301)] >> b[(257 - 257)];
    int i = (877 - 876), j = (61 - 60);
    while (true) {
        if (a[i - (731 - 730)] % (192 - 190) == (572 - 572)) {
            a[i] = a[i - (783 - 782)] / (847 - 845);
        }
        else {
            a[i] = (a[i - (753 - 752)] - (158 - 157)) / (363 - 361);
        }
        if (a[i] == (513 - 512)) {
            break;
        }
        else
            i++;
    }
    while (true) {
        if (!((368 - 368) != b[j - (204 - 203)] % (333 - 331))) {
            b[j] = b[j - (352 - 351)] / 2;
        }
        else {
            b[j] = (b[j - 1] - 1) / 2;
        }
        if (b[j] == 1) {
            break;
        }
        else
            j++;
    }
    while (i >= (783 - 783) && j >= 0) {
        if (a[i] == b[j]) {
            i--;
            j--;
        }
        else {
            break;
        }
    }
    cout << a[i + 1];
    return 0;
}

